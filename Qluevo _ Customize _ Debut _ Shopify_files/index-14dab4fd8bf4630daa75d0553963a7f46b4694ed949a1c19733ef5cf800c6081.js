!function(W){var e=function(e){var t={exports:{}};return e.call(t.exports,t,t.exports),t.exports},se=function(e){return e&&e.__esModule?e:{"default":e}},c=function(){function n(e,t){var n=[],r=!0,i=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{!r&&s["return"]&&s["return"]()}finally{if(i)throw o}}return n}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ue=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),le=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ce=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},de=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},F=function tn(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(r===undefined){var i=Object.getPrototypeOf(e);return null===i?undefined:tn(i,t,n)}if("value"in r)return r.value;var o=r.get;return o===undefined?undefined:o.call(n)},j=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},O=e(function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}}),A=e(function(e){e.exports=function(r,i,e){if(O(r),i===undefined)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}}),V=e(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),P=e(function(e){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)}),I=e(function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}}),z=e(function(e){e.exports=function(e){if(!I(e))throw TypeError(e+" is not an object!");return e}}),q=e(function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}}),G=e(function(e){e.exports=!q(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}),g=e(function(e){var t=V.document,n=I(t)&&I(t.createElement);e.exports=function(e){return n?t.createElement(e):{}}}),a=e(function(e){e.exports=!G&&!q(function(){return 7!=Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a})}),Y=e(function(e){e.exports=function(e,t){if(!I(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!I(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!I(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!I(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}}),X=e(function(e,t){var i=Object.defineProperty;t.f=G?Object.defineProperty:function o(e,t,n){if(z(e),t=Y(t,!0),z(n),a)try{return i(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}}),K=e(function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),J=e(function(e){e.exports=G?function(e,t,n){return X.f(e,t,K(1,n))}:function(e,t,n){return e[t]=n,e}}),Q=e(function(e){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}}),Z=e(function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}}),ee=e(function(e){var o=Z("src"),t="toString",n=Function[t],a=(""+n).split(t);P.inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,n,r){var i="function"==typeof n;i&&(Q(n,"name")||J(n,"name",t)),e[t]!==n&&(i&&(Q(n,o)||J(n,o,e[t]?""+e[t]:a.join(String(t)))),e===V?e[t]=n:r?e[t]?e[t]=n:J(e,t,n):(delete e[t],J(e,t,n)))})(Function.prototype,t,function r(){return"function"==typeof this&&this[o]||n.call(this)})}),te=e(function(e){var m="prototype",g=function(e,t,n){var r,i,o,a,s=e&g.F,u=e&g.G,l=e&g.S,c=e&g.P,d=e&g.B,f=u?V:l?V[t]||(V[t]={}):(V[t]||{})[m],h=u?P:P[t]||(P[t]={}),p=h[m]||(h[m]={});for(r in u&&(n=t),n)o=((i=!s&&f&&f[r]!==undefined)?f:n)[r],a=d&&i?A(o,V):c&&"function"==typeof o?A(Function.call,o):o,f&&ee(f,r,o,e&g.U),h[r]!=o&&J(h,r,a),c&&p[r]!=o&&(p[r]=o)};V.core=P,g.F=1,g.G=2,g.S=4,g.P=8,g.B=16,g.W=32,g.U=64,g.R=128,e.exports=g}),u=e(function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}}),b=e(function(e){e.exports=function(e){return Object(u(e))}}),v=e(function(e){e.exports=function(e,t,n,r){try{return r?t(z(n)[0],n[1]):t(n)}catch(o){var i=e["return"];throw i!==undefined&&z(i.call(e)),o}}}),x=e(function(e){e.exports={}}),ne=e(function(e){var t="__core-js_shared__",n=V[t]||(V[t]={});e.exports=function(e){return n[e]||(n[e]={})}}),re=e(function(e){var t=ne("wks"),n=V.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:Z)("Symbol."+e))}).store=t}),y=e(function(e){var t=re("iterator"),n=Array.prototype;e.exports=function(e){return e!==undefined&&(x.Array===e||n[t]===e)}}),l=e(function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}}),S=e(function(e){var t=Math.min;e.exports=function(e){return 0<e?t(l(e),9007199254740991):0}}),w=e(function(e){"use strict";e.exports=function(e,t,n){t in e?X.f(e,t,K(0,n)):e[t]=n}}),C=e(function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}}),R=e(function(e){var i=re("toStringTag"),o="Arguments"==C(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,r;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?C(t):"Object"==(r=C(t))&&"function"==typeof t.callee?"Arguments":r}}),E=e(function(e){var t=re("iterator");e.exports=P.getIteratorMethod=function(e){if(e!=undefined)return e[t]||e["@@iterator"]||x[R(e)]}}),N=e(function(e){var o=re("iterator"),a=!1;try{var t=[7][o]();t["return"]=function(){a=!0},Array.from(t,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(s){}return n}}),k=(e(function(){"use strict";te(te.S+te.F*!N(function(e){Array.from(e)}),"Array",{from:function p(e,t,n){var r,i,o,a,s=b(e),u="function"==typeof this?this:Array,l=arguments.length,c=1<l?t:undefined,d=c!==undefined,f=0,h=E(s);if(d&&(c=A(c,2<l?n:undefined,2)),h==undefined||u==Array&&y(h))for(i=new u(r=S(s.length));f<r;f++)w(i,f,d?c(s[f],f):s[f]);else for(a=h.call(s),i=new u;!(o=a.next()).done;f++)w(i,f,d?v(a,c,[o.value,f],!0):o.value);return i.length=f,i}})}),e(function(){"use strict";te(te.S+te.F*q(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function r(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);e<t;)w(n,e,arguments[e++]);return n.length=t,n}})}),e(function(e){e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==C(e)?e.split(""):Object(e)}})),ie=e(function(e){e.exports=function(e){return k(u(e))}}),r=e(function(e){"use strict";e.exports=function(e,t){return!!e&&q(function(){t?e.call(null,function(){},1):e.call(null)})}}),d=(e(function(){"use strict";var t=[].join;te(te.P+te.F*(k!=Object||!r(t)),"Array",{join:function n(e){return t.call(ie(this),e===undefined?",":e)}})}),e(function(e){var n=Math.max,r=Math.min;e.exports=function(e,t){return(e=l(e))<0?n(e+t,0):r(e,t)}})),t=e(function(e){"use strict";e.exports=function l(e,t,n){for(var r=b(this),i=S(r.length),o=arguments.length,a=d(1<o?t:undefined,i),s=2<o?n:undefined,u=s===undefined?i:d(s,i);a<u;)r[a++]=e;return r}}),i=e(function(e){var t=re("unscopables"),n=Array.prototype;n[t]==undefined&&J(n,t,{}),e.exports=function(e){n[t][e]=!0}}),oe=(e(function(){te(te.P,"Array",{fill:t}),i("fill")}),e(function(e){e.exports=Array.isArray||function t(e){return"Array"==C(e)}})),n=e(function(e){var n=re("species");e.exports=function(e){var t;return oe(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!oe(t.prototype)||(t=undefined),I(t)&&null===(t=t[n])&&(t=undefined)),t===undefined?Array:t}}),o=e(function(e){e.exports=function(e,t){return new(n(e))(t)}}),s=e(function(e){e.exports=function(d,e){var f=1==d,h=2==d,p=3==d,m=4==d,g=6==d,v=5==d||g,y=e||o;return function(e,t,n){for(var r,i,o=b(e),a=k(o),s=A(t,n,3),u=S(a.length),l=0,c=f?y(e,u):h?y(e,0):undefined;l<u;l++)if((v||l in a)&&(i=s(r=a[l],l,o),d))if(f)c[l]=i;else if(i)switch(d){case 3:return!0;case 5:return r;case 6:return l;case 2:c.push(r)}else if(m)return!1;return g?-1:p||m?m:c}}}),f=(e(function(){"use strict";var n=s(5),e="find",t=!0;e in[]&&Array(1)[e](function(){t=!1}),te(te.P+te.F*t,"Array",{find:function r(e,t){return n(this,e,1<arguments.length?t:undefined)}}),i(e)}),e(function(){"use strict";var n=s(6),e="findIndex",t=!0;e in[]&&Array(1)[e](function(){t=!1}),te(te.P+te.F*t,"Array",{findIndex:function r(e,t){return n(this,e,1<arguments.length?t:undefined)}}),i(e)}),e(function(e){e.exports=function(e,t){return{value:t,done:!!e}}})),ae=e(function(e){e.exports=!1}),h=e(function(e){e.exports=function(s){return function(e,t,n){var r,i=ie(e),o=S(i.length),a=d(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}}),p=e(function(e){var t=ne("keys");e.exports=function(e){return t[e]||(t[e]=Z(e))}}),T=e(function(e){var a=h(!1),s=p("IE_PROTO");e.exports=function(e,t){var n,r=ie(e),i=0,o=[];for(n in r)n!=s&&Q(r,n)&&o.push(n);for(;t.length>i;)Q(r,n=t[i++])&&(~a(o,n)||o.push(n));return o}}),D=e(function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),fe=e(function(e){e.exports=Object.keys||function t(e){return T(e,D)}}),L=e(function(e){e.exports=G?Object.defineProperties:function a(e,t){z(e);for(var n,r=fe(t),i=r.length,o=0;o<i;)X.f(e,n=r[o++],t[n]);return e}}),U=e(function(e){var t=V.document;e.exports=t&&t.documentElement}),he=e(function(e){var r=p("IE_PROTO"),i=function(){},o="prototype",a=function(){var e,t=g("iframe"),n=D.length,r="<",i=">";for(t.style.display="none",U.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(r+"script"+i+"document.F=Object"+r+"/script"+i),e.close(),a=e.F;n--;)delete a[o][D[n]];return a()};e.exports=Object.create||function s(e,t){var n;return null!==e?(i[o]=z(e),n=new i,i[o]=null,n[r]=e):n=a(),t===undefined?n:L(n,t)}}),pe=e(function(e){var r=X.f,i=re("toStringTag");e.exports=function(e,t,n){e&&!Q(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}}),H=e(function(e){"use strict";var r={};J(r,re("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=he(r,{next:K(1,n)}),pe(e,t+" Iterator")}}),me=e(function(e){var t=p("IE_PROTO"),n=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=b(e),Q(e,t)?e[t]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?n:null}}),ge=e(function(e){"use strict";var _=re("iterator"),S=!([].keys&&"next"in[].keys()),w="@@iterator",C="keys",E="values",k=function(){return this};e.exports=function(e,t,i,n,r,o,a){H(i,t,n);var s,u,l,c=function(e){if(!S&&e in p)return p[e];switch(e){case C:return function t(){return new i(this,e)};case E:return function n(){return new i(this,e)}}return function r(){return new i(this,e)}},d=t+" Iterator",f=r==E,h=!1,p=e.prototype,m=p[_]||p[w]||r&&p[r],g=m||c(r),v=r?f?c("entries"):g:undefined,y="Array"==t&&p.entries||m;if(y&&(l=me(y.call(new e)))!==Object.prototype&&l.next&&(pe(l,d,!0),ae||Q(l,_)||J(l,_,k)),f&&m&&m.name!==E&&(h=!0,g=function b(){return m.call(this)}),ae&&!a||!S&&!h&&p[_]||J(p,_,g),x[t]=g,x[d]=k,r)if(s={values:f?g:c(E),keys:o?g:c(C),entries:v},a)for(u in s)u in p||ee(p,u,s[u]);else te(te.P+te.F*(S||h),t,s);return s}}),ve=e(function(e){"use strict";e.exports=ge(Array,"Array",function(e,t){this._t=ie(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,f(1)):f(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),x.Arguments=x.Array,i("keys"),i("values"),i("entries")}),ye=(e(function(){var e=X.f,t=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in t||G&&e(t,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})}),e(function(){var t=V.isFinite;te(te.S,"Number",{isFinite:function n(e){return"number"==typeof e&&t(e)}})}),e(function(e){e.exports="\t\n\x0B\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"})),be=e(function(e){var t="["+ye+"]",a="\u200b\x85",n=RegExp("^"+t+t+"*"),r=RegExp(t+t+"*$"),i=function(e,t,n){var r={},i=q(function(){return!!ye[e]()||a[e]()!=a}),o=r[e]=i?t(s):ye[e];n&&(r[n]=o),te(te.P+te.F*i,"String",r)},s=i.trim=function(e,t){return e=String(u(e)),1&t&&(e=e.replace(n,"")),2&t&&(e=e.replace(r,"")),e};e.exports=i}),_e=e(function(e){var r=V.parseFloat,i=be.trim;e.exports=1/r(ye+"-0")!=-Infinity?function o(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r}),Se=(e(function(){te(te.S+te.F*(Number.parseFloat!=_e),"Number",{parseFloat:_e})}),e(function(e){var r=V.parseInt,i=be.trim,o=/^[-+]?0[xX]/;e.exports=8!==r(ye+"08")||22!==r(ye+"0x16")?function a(e,t){var n=i(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r})),we=(e(function(){te(te.S+te.F*(Number.parseInt!=Se),"Number",{parseInt:Se})}),e(function(e){e.exports=function(e,t){var n=(P.Object||{})[e]||Object[e],r={};r[e]=t(n),te(te.S+te.F*q(function(){n(1)}),"Object",r)}})),Ce=(e(function(){we("keys",function(){return function t(e){return fe(b(e))}})}),e(function(e,t){t.f=Object.getOwnPropertySymbols})),Ee=e(function(e,t){t.f={}.propertyIsEnumerable}),ke=e(function(e){"use strict";var i=Object.assign;e.exports=!i||q(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function d(e){for(var t=b(e),n=arguments.length,r=1,i=Ce.f,o=Ee.f;r<n;)for(var a,s=k(arguments[r++]),u=i?fe(s).concat(i(s)):fe(s),l=u.length,c=0;c<l;)o.call(s,a=u[c++])&&(t[a]=s[a]);return t}:i}),xe=(e(function(){te(te.S+te.F,"Object",{assign:ke})}),e(function(e){var u=Ee.f;e.exports=function(s){return function(e){for(var t,n=ie(e),r=fe(n),i=r.length,o=0,a=[];o<i;)u.call(n,t=r[o++])&&a.push(s?[t,n[t]]:n[t]);return a}}})),Te=(e(function(){var t=xe(!1);te(te.S,"Object",{values:function n(e){return t(e)}})}),e(function(){var t=xe(!0);te(te.S,"Object",{entries:function n(e){return t(e)}})}),e(function(){"use strict";var n=h(!0);te(te.P,"Array",{includes:function r(e,t){return n(this,e,1<arguments.length?t:undefined)}}),i("includes")}),e(function(){"use strict";var e={};e[re("toStringTag")]="z",e+""!="[object z]"&&ee(Object.prototype,"toString",function t(){return"[object "+R(this)+"]"},!0)}),e(function(e){e.exports=function(s){return function(e,t){var n,r,i=String(u(e)),o=l(t),a=i.length;return o<0||a<=o?s?"":undefined:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}})),Oe=(e(function(){"use strict";var r=Te(!0);ge(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})}),e(function(){for(var e=re("iterator"),t=re("toStringTag"),n=x.Array,r={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},i=fe(r),o=0;o<i.length;o++){var a,s=i[o],u=r[s],l=V[s],c=l&&l.prototype;if(c&&(c[e]||J(c,e,n),c[t]||J(c,t,s),x[s]=n,u))for(a in ve)c[a]||ee(c,a,ve[a],!0)}}),e(function(e){e.exports=function(e,t,n,r){if(!(e instanceof t)||r!==undefined&&r in e)throw TypeError(n+": incorrect invocation!");return e}})),Ae=e(function(e,t){var f={},h={};(t=e.exports=function(e,t,n,r,i){var o,a,s,u,l=i?function(){return e}:E(e),c=A(n,r,t?2:1),d=0;if("function"!=typeof l)throw TypeError(e+" is not iterable!");if(y(l)){for(o=S(e.length);d<o;d++)if((u=t?c(z(a=e[d])[0],a[1]):c(e[d]))===f||u===h)return u}else for(s=l.call(e);!(a=s.next()).done;)if((u=v(s,c,a.value,t))===f||u===h)return u}).BREAK=f,t.RETURN=h}),Pe=e(function(e){var i=re("species");e.exports=function(e,t){var n,r=z(e).constructor;return r===undefined||(n=z(r)[i])==undefined?t:O(n)}}),Ie=e(function(e){e.exports=function(e,t,n){var r=n===undefined;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}}),Re=e(function(e){var r,t,n,i=V.process,o=V.setImmediate,a=V.clearImmediate,s=V.MessageChannel,u=V.Dispatch,l=0,c={},d="onreadystatechange",f=function(){var e=+this;if(c.hasOwnProperty(e)){var t=c[e];delete c[e],t()}},h=function(e){f.call(e.data)};o&&a||(o=function p(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return c[++l]=function(){Ie("function"==typeof e?e:Function(e),t)},r(l),l},a=function m(e){delete c[e]},"process"==C(i)?r=function(e){i.nextTick(A(f,e,1))}:u&&u.now?r=function(e){u.now(A(f,e,1))}:s?(n=(t=new s).port2,t.port1.onmessage=h,r=A(n.postMessage,n,1)):V.addEventListener&&"function"==typeof postMessage&&!V.importScripts?(r=function(e){V.postMessage(e+"","*")},V.addEventListener("message",h,!1)):r=d in g("script")?function(e){U.appendChild(g("script"))[d]=function(){U.removeChild(this),f.call(e)}}:function(e){setTimeout(A(f,e,1),0)}),e.exports={set:o,clear:a}}),Ne=e(function(e){var s=Re.set,u=V.MutationObserver||V.WebKitMutationObserver,l=V.process,c=V.Promise,d="process"==C(l);e.exports=function(){var r,i,o,e=function(){var e,t;for(d&&(e=l.domain)&&e.exit();r;){t=r.fn,r=r.next;try{t()}catch(n){throw r?o():i=undefined,n}}i=undefined,e&&e.enter()};if(d)o=function(){l.nextTick(e)};else if(u){var t=!0,n=document.createTextNode("");new u(e).observe(n,{characterData:!0}),o=function(){n.data=t=!t}}else if(c&&c.resolve){var a=c.resolve();o=function(){a.then(e)}}else o=function(){s.call(V,e)};return function(e){var t={fn:e,next:undefined};i&&(i.next=t),r||(r=t,o()),i=t}}}),De=e(function(e){"use strict";function t(e){var n,r;this.promise=new e(function(e,t){if(n!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");n=e,r=t}),this.resolve=O(n),this.reject=O(r)}e.exports.f=function(e){return new t(e)}}),Le=e(function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}}),Me=e(function(e){e.exports=function(e,t){if(z(e),I(t)&&t.constructor===e)return t;var n=De.f(e);return(0,n.resolve)(t),n.promise}}),Be=e(function(e){e.exports=function(e,t,n){for(var r in t)ee(e,r,t[r],n);return e}}),Fe=e(function(e){"use strict";var n=re("species");e.exports=function(e){var t=V[e];G&&t&&!t[n]&&X.f(t,n,{configurable:!0,get:function(){return this}})}}),je=(e(function(){"use strict";var n,t,r,i,e=Re.set,o=Ne(),a="Promise",d=V.TypeError,s=V.process,u=V[a],l="process"==R(s),c=function(){},f=t=De.f,h=!!function(){try{var e=u.resolve(1),t=(e.constructor={})[re("species")]=function(e){e(c,c)};return(l||"function"==typeof PromiseRejectionEvent)&&e.then(c)instanceof t}catch(n){}}(),p=function(e){var t;return!(!I(e)||"function"!=typeof(t=e.then))&&t},m=function(c,n){if(!c._n){c._n=!0;var r=c._c;o(function(){for(var u=c._v,l=1==c._s,e=0,t=function(e){var t,n,r=l?e.ok:e.fail,i=e.resolve,o=e.reject,a=e.domain;try{r?(l||(2==c._h&&y(c),c._h=1),!0===r?t=u:(a&&a.enter(),t=r(u),a&&a.exit()),t===e.promise?o(d("Promise-chain cycle")):(n=p(t))?n.call(t,i,o):i(t)):o(u)}catch(s){o(s)}};r.length>e;)t(r[e++]);c._c=[],c._n=!1,n&&!c._h&&g(c)})}},g=function(o){e.call(V,function(){var e,t,n,r=o._v,i=v(o);if(i&&(e=Le(function(){l?s.emit("unhandledRejection",r,o):(t=V.onunhandledrejection)?t({promise:o,reason:r}):(n=V.console)&&n.error&&n.error("Unhandled promise rejection",r)}),o._h=l||v(o)?2:1),o._a=undefined,i&&e.e)throw e.v})},v=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!v(t.promise))return!1;return!0},y=function(t){e.call(V,function(){var e;l?s.emit("rejectionHandled",t):(e=V.onrejectionhandled)&&e({promise:t,reason:t._v})})},b=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),m(t,!0))},_=function(n){var r,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===n)throw d("Promise can't be resolved itself");(r=p(n))?o(function(){var e={_w:i,_d:!1};try{r.call(n,A(_,e,1),A(b,e,1))}catch(t){b.call(e,t)}}):(i._v=n,i._s=1,m(i,!1))}catch(e){b.call({_w:i,_d:!1},e)}}};h||(u=function S(e){Oe(this,u,a,"_h"),O(e),n.call(this);try{e(A(_,this,1),A(b,this,1))}catch(t){b.call(this,t)}},(n=function w(){this._c=[],this._a=undefined,this._s=0,this._d=!1,this._v=undefined,this._h=0,this._n=!1}).prototype=Be(u.prototype,{then:function C(e,t){var n=f(Pe(this,u));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=l?s.domain:undefined,this._c.push(n),this._a&&this._a.push(n),this._s&&m(this,!1),n.promise},"catch":function(e){return this.then(undefined,e)}}),r=function(){var e=new n;this.promise=e,this.resolve=A(_,e,1),this.reject=A(b,e,1)},De.f=f=function(e){return e===u||e===i?new r(e):t(e)}),te(te.G+te.W+te.F*!h,{Promise:u}),pe(u,a),Fe(a),i=P[a],te(te.S+te.F*!h,a,{reject:function E(e){var t=f(this);return(0,t.reject)(e),t.promise}}),te(te.S+te.F*(ae||!h),a,{resolve:function k(e){return Me(ae&&this===i?u:this,e)}}),te(te.S+te.F*!(h&&N(function(e){u.all(e)["catch"](c)})),a,{all:function x(e){var a=this,t=f(a),s=t.resolve,u=t.reject,n=Le(function(){var r=[],i=0,o=1;Ae(e,!1,function(e){var t=i++,n=!1;r.push(undefined),o++,a.resolve(e).then(function(e){n||(n=!0,r[t]=e,--o||s(r))},u)}),--o||s(r)});return n.e&&u(n.v),t.promise},race:function T(e){var t=this,n=f(t),r=n.reject,i=Le(function(){Ae(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})}),e(function(e){e.exports=P.Promise}),e(function(e){var n=re("match");e.exports=function(e){var t;return I(e)&&((t=e[n])!==undefined?!!t:"RegExp"==C(e))}})),$e=e(function(e){e.exports=function(e,t,n){if(je(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(u(e))}}),Ue=e(function(e){var i=re("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,!"/./"[e](t)}catch(r){}}return!0}}),He=(e(function(){"use strict";var s="endsWith",u=""[s];te(te.P+te.F*Ue(s),"String",{endsWith:function l(e,t){var n=$e(this,e,s),r=1<arguments.length?t:undefined,i=S(n.length),o=r===undefined?i:Math.min(S(r),i),a=String(e);return u?u.call(n,a,o):n.slice(o-a.length,o)===a}})}),e(function(){"use strict";var n="includes";te(te.P+te.F*Ue(n),"String",{includes:function r(e,t){return!!~$e(this,e,n).indexOf(e,1<arguments.length?t:undefined)}})}),e(function(){"use strict";var o="startsWith",a=""[o];te(te.P+te.F*Ue(o),"String",{startsWith:function s(e,t){var n=$e(this,e,o),r=S(Math.min(1<arguments.length?t:undefined,n.length)),i=String(e);return a?a.call(n,i,r):n.slice(r,r+i.length)===i}})}),e(function(e){var n=Z("meta"),t=X.f,r=0,i=Object.isExtensible||function(){return!0},o=!q(function(){return i(Object.preventExtensions({}))}),a=function(e){t(e,n,{value:{i:"O"+ ++r,w:{}}})},s=function(e,t){if(!I(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Q(e,n)){if(!i(e))return"F";if(!t)return"E";a(e)}return e[n].i},u=function(e,t){if(!Q(e,n)){if(!i(e))return!0;if(!t)return!1;a(e)}return e[n].w},l=function(e){return o&&c.NEED&&i(e)&&!Q(e,n)&&a(e),e},c=e.exports={KEY:n,NEED:!1,fastKey:s,getWeak:u,onFreeze:l}})),Ve=e(function(e,t){t.f=re}),We=e(function(e){var n=X.f;e.exports=function(e){var t=P.Symbol||(P.Symbol=ae?{}:V.Symbol||{});"_"==e.charAt(0)||e in t||n(t,e,{value:Ve.f(e)})}}),ze=e(function(e){e.exports=function(e){var t=fe(e),n=Ce.f;if(n)for(var r,i=n(e),o=Ee.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}}),qe=e(function(e,t){var n=D.concat("length","prototype");t.f=Object.getOwnPropertyNames||function r(e){return T(e,n)}}),Ge=e(function(e){var n=qe.f,t={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(e){try{return n(e)}catch(t){return r.slice()}};e.exports.f=function o(e){return r&&"[object Window]"==t.call(e)?i(e):n(ie(e))}}),Ye=e(function(e,t){var r=Object.getOwnPropertyDescriptor;t.f=G?r:function i(e,t){if(e=ie(e),t=Y(t,!0),a)try{return r(e,t)}catch(n){}if(Q(e,t))return K(!Ee.f.call(e,t),e[t])}}),Xe=(e(function(){"use strict";var o=He.KEY,i=Ye.f,a=X.f,s=Ge.f,r=V.Symbol,u=V.JSON,l=u&&u.stringify,n="prototype",c=re("_hidden"),e=re("toPrimitive"),d={}.propertyIsEnumerable,f=ne("symbol-registry"),h=ne("symbols"),p=ne("op-symbols"),m=Object[n],t="function"==typeof r,g=V.QObject,v=!g||!g[n]||!g[n].findChild,y=G&&q(function(){return 7!=he(a({},"a",{get:function(){return a(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=i(m,t);r&&delete m[t],a(e,t,n),r&&e!==m&&a(m,t,r)}:a,b=function(e){var t=h[e]=he(r[n]);return t._k=e,t},_=t&&"symbol"==typeof r.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof r},S=function R(e,t,n){return e===m&&S(p,t,n),z(e),t=Y(t,!0),z(n),Q(h,t)?(n.enumerable?(Q(e,c)&&e[c][t]&&(e[c][t]=!1),n=he(n,{enumerable:K(0,!1)})):(Q(e,c)||a(e,c,K(1,{})),e[c][t]=!0),y(e,t,n)):a(e,t,n)},w=function N(e,t){z(e);for(var n,r=ze(t=ie(t)),i=0,o=r.length;i<o;)S(e,n=r[i++],t[n]);return e},C=function D(e,t){return t===undefined?he(e):w(he(e),t)},E=function L(e){var t=d.call(this,e=Y(e,!0));return!(this===m&&Q(h,e)&&!Q(p,e))&&(!(t||!Q(this,e)||!Q(h,e)||Q(this,c)&&this[c][e])||t)},k=function M(e,t){if(e=ie(e),t=Y(t,!0),e!==m||!Q(h,t)||Q(p,t)){var n=i(e,t);return!n||!Q(h,t)||Q(e,c)&&e[c][t]||(n.enumerable=!0),n}},x=function B(e){for(var t,n=s(ie(e)),r=[],i=0;n.length>i;)Q(h,t=n[i++])||t==c||t==o||r.push(t);return r},T=function F(e){for(var t,n=e===m,r=s(n?p:ie(e)),i=[],o=0;r.length>o;)!Q(h,t=r[o++])||n&&!Q(m,t)||i.push(h[t]);return i};t||(ee((r=function j(e){if(this instanceof r)throw TypeError("Symbol is not a constructor!");var t=Z(0<arguments.length?e:undefined),n=function(e){this===m&&n.call(p,e),Q(this,c)&&Q(this[c],t)&&(this[c][t]=!1),y(this,t,K(1,e))};return G&&v&&y(m,t,{configurable:!0,set:n}),b(t)})[n],"toString",function $(){return this._k}),Ye.f=k,X.f=S,qe.f=Ge.f=x,Ee.f=E,Ce.f=T,G&&!ae&&ee(m,"propertyIsEnumerable",E,!0),Ve.f=function(e){return b(re(e))}),te(te.G+te.W+te.F*!t,{Symbol:r});for(var O="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),A=0;O.length>A;)re(O[A++]);for(var P=fe(re.store),I=0;P.length>I;)We(P[I++]);te(te.S+te.F*!t,"Symbol",{"for":function(e){return Q(f,e+="")?f[e]:f[e]=r(e)},keyFor:function U(e){if(!_(e))throw TypeError(e+" is not a symbol!");for(var t in f)if(f[t]===e)return t},useSetter:function(){v=!0},useSimple:function(){v=!1}}),te(te.S+te.F*!t,"Object",{create:C,defineProperty:S,defineProperties:w,getOwnPropertyDescriptor:k,getOwnPropertyNames:x,getOwnPropertySymbols:T}),u&&te(te.S+te.F*(!t||q(function(){var e=r();return"[null]"!=l([e])||"{}"!=l({a:e})||"{}"!=l(Object(e))})),"JSON",{stringify:function H(e){if(e!==undefined&&!_(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&oe(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!_(t))return t}),r[1]=t,l.apply(u,r)}}}),r[n][e]||J(r[n],e,r[n].valueOf),pe(r,"Symbol"),pe(Math,"Math",!0),pe(V.JSON,"JSON",!0)}),e(function(e){e.exports=P.Symbol}),e(function(){te(te.G+te.B,{setImmediate:Re.set,clearImmediate:Re.clear})}),e(function(e){e.exports=P}),e(function(e){e.exports=function(e,t){if(!I(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}})),Ke=e(function(e){"use strict";var u=X.f,a=He.fastKey,l=G?"_s":"size",c=function(e,t){var n,r=a(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,o,n,r){var i=e(function(e,t){Oe(e,i,o,"_i"),e._t=o,e._i=he(null),e._f=undefined,e._l=undefined,e[l]=0,t!=undefined&&Ae(t,n,e[r],e)});return Be(i.prototype,{clear:function a(){for(var e=Xe(this,o),t=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=undefined),delete t[n.i];e._f=e._l=undefined,e[l]=0},"delete":function(e){var t=Xe(this,o),n=c(t,e);if(n){var r=n.n,i=n.p;delete t._i[n.i],n.r=!0,i&&(i.n=r),r&&(r.p=i),t._f==n&&(t._f=r),t._l==n&&(t._l=i),t[l]--}return!!n},forEach:function s(e,t){Xe(this,o);for(var n,r=A(e,1<arguments.length?t:undefined,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function t(e){return!!c(Xe(this,o),e)}}),G&&u(i.prototype,"size",{get:function(){return Xe(this,o)[l]}}),i},def:function(e,t,n){var r,i,o=c(e,t);return o?o.v=n:(e._l=o={i:i=a(t,!0),k:t,v:n,p:r=e._l,n:undefined,r:!1},e._f||(e._f=o),r&&(r.n=o),e[l]++,"F"!==i&&(e._i[i]=o)),e},getEntry:c,setStrong:function(e,n,t){ge(e,n,function(e,t){this._t=Xe(e,n),this._k=t,this._l=undefined},function(){for(var e=this,t=e._k,n=e._l;n&&n.r;)n=n.p;return e._t&&(e._l=n=n?n.n:e._t._f)?f(0,"keys"==t?n.k:"values"==t?n.v:[n.k,n.v]):(e._t=undefined,f(1))},t?"entries":"values",!t,!0),Fe(n)}}}),Je=e(function(e){var o=function(e,t){if(z(e),!I(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=A(Function.call,Ye.f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(t){n=!0}return function i(e,t){return o(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):undefined),check:o}}),Qe=e(function(e){var o=Je.set;e.exports=function(e,t,n){var r,i=t.constructor;return i!==n&&"function"==typeof i&&(r=i.prototype)!==n.prototype&&I(r)&&o&&o(e,r),e}}),Ze=e(function(e){"use strict";e.exports=function(r,e,t,n,i,a){var o=V[r],s=o,u=i?"set":"add",l=s&&s.prototype,c={},d=function(e){var n=l[e];ee(l,e,"delete"==e?function(e){return!(a&&!I(e))&&n.call(this,0===e?0:e)}:"has"==e?function t(e){return!(a&&!I(e))&&n.call(this,0===e?0:e)}:"get"==e?function r(e){return a&&!I(e)?undefined:n.call(this,0===e?0:e)}:"add"==e?function i(e){return n.call(this,0===e?0:e),this}:function o(e,t){return n.call(this,0===e?0:e,t),this})};if("function"==typeof s&&(a||l.forEach&&!q(function(){(new s).entries().next()}))){var f=new s,h=f[u](a?{}:-0,1)!=f,p=q(function(){f.has(1)}),m=N(function(e){new s(e)}),g=!a&&q(function(){for(var e=new s,t=5;t--;)e[u](t,t);return!e.has(-0)});m||(((s=e(function(e,t){Oe(e,s,r);var n=Qe(new o,e,s);return t!=undefined&&Ae(t,i,n[u],n),n})).prototype=l).constructor=s),(p||g)&&(d("delete"),d("has"),i&&d("get")),(g||h)&&d(u),a&&l.clear&&delete l.clear}else s=n.getConstructor(e,r,i,u),Be(s.prototype,t),He.NEED=!0;return pe(s,r),c[r]=s,te(te.G+te.W+te.F*(s!=o),c),a||n.setStrong(s,r,i),s}}),et=(e(function(e){"use strict";var n="Map";e.exports=Ze(n,function(t){return function n(e){return t(this,0<arguments.length?e:undefined)}},{get:function r(e){var t=Ke.getEntry(Xe(this,n),e);return t&&t.v},set:function i(e,t){return Ke.def(Xe(this,n),0===e?0:e,t)}},Ke,!0)}),e(function(e){"use strict";var t="Set";e.exports=Ze(t,function(t){return function n(e){return t(this,0<arguments.length?e:undefined
)}},{add:function n(e){return Ke.def(Xe(this,t),e=0===e?0:e,e)}},Ke)}),e(function(e){var t=V.Reflect;e.exports=t&&t.ownKeys||function r(e){var t=qe.f(z(e)),n=Ce.f;return n?t.concat(n(e)):t}}));e(function(){te(te.S,"Object",{getOwnPropertyDescriptors:function u(e){for(var t,n,r=ie(e),i=Ye.f,o=et(r),a={},s=0;o.length>s;)(n=i(r,t=o[s++]))!==undefined&&w(a,t,n);return a}})}),e(function(){var o=String.fromCharCode,e=String.fromCodePoint;te(te.S+te.F*(!!e&&1!=e.length),"String",{fromCodePoint:function a(e){for(var t,n=[],r=arguments.length,i=0;i<r;){if(t=+arguments[i++],d(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})});try{var tt=new window.CustomEvent("test");if(tt.preventDefault(),!0!==tt.defaultPrevented)throw new Error("Could not prevent default")}catch(hd){var nt=function(e,t){var n,r;return t=t||{bubbles:!1,cancelable:!1,detail:undefined},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};nt.prototype=window.Event.prototype,window.CustomEvent=nt}e(function(){"use strict";function e(t){var n=Date.now();return window.setImmediate(function(){t({didTimeout:!1,timeRemaining:function e(){return Math.max(0,5-(Date.now()-n))}})})}window.requestIdleCallback=window.requestIdleCallback||e,window.cancelIdleCallback=window.cancelIdleCallback||window.clearImmediate});var rt=e(function(H,V){(function(){function Tu(e,t){return e.set(t[0],t[1]),e}function Ou(e,t){return e.add(t),e}function Au(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Pu(e,t,n,r){for(var i=-1,o=e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Iu(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Array(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function Ru(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function Nu(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}function Du(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Lu(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Mu(e,t){return!!e.length&&-1<qu(e,t,0)}function Bu(e,t,n){for(var r=-1,i=e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Fu(e,t){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ju(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function $u(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Uu(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Hu(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Vu(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(s===_l?a==a:n(a,s)))var s=a,u=o}return u}function Wu(e,r,t,i){var o;return t(e,function(e,t,n){if(r(e,t,n))return o=i?t:e,!1}),o}function zu(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function qu(e,t,n){if(t!=t)return ll(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function Gu(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Yu(e,r,i,o,t){return t(e,function(e,t,n){i=o?(o=!1,e):r(i,e,t,n)}),i}function Xu(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Ku(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);o!==_l&&(n=n===_l?o:n+o)}return n}function Ju(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Qu(t,e){return Fu(e,function(e){return[e,t[e]]})}function Zu(t){return function(e){return t(e)}}function el(t,e){return Fu(e,function(e){return t[e]})}function tl(e,t){for(var n=-1,r=e.length;++n<r&&-1<qu(t,e[n],0););return n}function nl(e,t){for(var n=e.length;n--&&-1<qu(t,e[n],0););return n}function e(e){return e&&e.Object===Object?e:null}function rl(e,t){if(e!==t){var n=null===e,r=e===_l,i=e==e,o=null===t,a=t===_l,s=t==t;if(t<e&&!o||!i||n&&!a&&s||r&&s)return 1;if(e<t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function il(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var u=rl(i[r],o[r]);if(u)return s<=r?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}function ol(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function al(e){return I[e]}function sl(e){return R[e]}function ul(e){return"\\"+L[e]}function ll(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!=o)return i}return-1}function cl(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(hd){}return t}function dl(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?ql:t,-1<e&&e%1==0&&e<t}function fl(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function hl(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}function pl(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==kl||(e[n]=kl,o[i++]=n)}return o}function ml(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function gl(e){if(!e||!ed.test(e))return e.length;for(var t=P.lastIndex=0;P.test(e);)t++;return t}function vl(e){return e.match(P)}function yl(e){return N[e]}function bl(e){function g(e){if(ei(e)&&!Vs(e)&&!(e instanceof y)){if(e instanceof v)return e;if(ua.call(e,"__wrapped__"))return Gt(e)}return new v(e)}function o(){}function v(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=_l}function y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xl,this.__views__=[]}function t(){var e=new y(this.__wrapped__);return e.__actions__=Qe(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qe(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qe(this.__views__),e}function n(){if(this.__filtered__){var e=new y(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e}function r(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vs(e),r=t<0,i=n?e.length:0,o=Pt(0,i,this.__views__),a=o.start,s=o.end,u=s-a,l=r?s:a-1,c=this.__iteratees__,d=c.length,f=0,h=Na(u,this.__takeCount__);if(!n||i<wl||i==u&&h==u)return $e(e,this.__actions__);var p=[];e:for(;u--&&f<h;){for(var m=-1,g=e[l+=t];++m<d;){var v=c[m],y=v.iteratee,b=v.type,_=y(g);if(b==Vl)g=_;else if(!_){if(b==Hl)continue e;break e}}p[f++]=g}return p}function i(){}function a(e,t){return u(e,t)&&delete e[t]}function s(e,t){if($a){var n=e[t];return n===El?_l:n}return ua.call(e,t)?e[t]:_l}function u(e,t){return $a?e[t]!==_l:ua.call(e,t)}function l(e,t,n){e[t]=$a&&n===_l?El:n}function c(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function d(){this.__data__={hash:new i,map:Ba?new Ba:[],string:new i}}function f(e){var t=this.__data__;return Ft(e)?a("string"==typeof e?t.string:t.hash,e):Ba?t.map["delete"](e):O(t.map,e)}function h(e){var t=this.__data__;return Ft(e)?s("string"==typeof e?t.string:t.hash,e):Ba?t.map.get(e):A(t.map,e)}function p(e){var t=this.__data__;return Ft(e)?u("string"==typeof e?t.string:t.hash,e):Ba?t.map.has(e):P(t.map,e)}function m(e,t){var n=this.__data__;return Ft(e)?l("string"==typeof e?n.string:n.hash,e,t):Ba?n.map.set(e,t):R(n.map,e,t),this}function b(e){var t=-1,n=e?e.length:0;for(this.__data__=new c;++t<n;)this.push(e[t])}function _(e,t){var n=e.__data__;if(Ft(t)){var r=n.__data__;return("string"==typeof t?r.string:r.hash)[t]===El}return n.has(t)}function S(e){var t=this.__data__;if(Ft(e)){var n=t.__data__;("string"==typeof e?n.string:n.hash)[e]=El}else t.set(e,El)}function w(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function C(){this.__data__={array:[],map:null}}function E(e){var t=this.__data__,n=t.array;return n?O(n,e):t.map["delete"](e)}function k(e){var t=this.__data__,n=t.array;return n?A(n,e):t.map.get(e)}function x(e){var t=this.__data__,n=t.array;return n?P(n,e):t.map.has(e)}function T(e,t){var n=this.__data__,r=n.array;r&&(r.length<wl-1?R(r,e,t):(n.array=null,n.map=new c(r)));var i=n.map;return i&&i.set(e,t),this}function O(e,t){var n=I(e,t);return!(n<0)&&(n==e.length-1?e.pop():xa.call(e,n,1),!0)}function A(e,t){var n=I(e,t);return n<0?_l:e[n][1]}function P(e,t){return-1<I(e,t)}function I(e,t){for(var n=e.length;n--;)if(Lr(e[n][0],t))return n;return-1}function R(e,t,n){var r=I(e,t);r<0?e.push([t,n]):e[r][1]=n}function N(e,t,n,r){return e===_l||Lr(e,aa[n])&&!ua.call(r,n)?t:e}function D(e,t,n){(n===_l||Lr(e[t],n))&&("number"!=typeof t||n!==_l||t in e)||(e[t]=n)}function L(e,t,n){var r=e[t];ua.call(e,t)&&Lr(r,n)&&(n!==_l||t in e)||(e[t]=n)}function M(e,r,i,o){return Ka(e,function(e,t,n){r(o,e,i(e),n)}),o}function B(e,t){return e&&Ze(t,$i(t),e)}function F(e,t){for(var n=-1,r=null==e,i=t.length,o=Array(i);++n<i;)o[n]=r?_l:Bi(e,t[n]);return o}function j(e){return Ur(e)?e:[]}function $(e){return"function"==typeof e?e:Ro}function U(e){return Vs(e)?e:qt(e)}function H(e,t,n){return e==e&&(n!==_l&&(e=e<=n?e:n),t!==_l&&(e=t<=e?e:t)),e}function V(n,r,i,o,e,t,a){var s;if(o&&(s=t?o(n,e,t,a):o(n)),s!==_l)return s;if(!Zr(n))return n;var u=Vs(n);if(u){if(s=Rt(n),!r)return Qe(n,s)}else{var l=At(n),c=l==rc||l==ic;if(Ws(n))return Ve(n,r);if(l==sc||l==Ql||c&&!t){if(cl(n))return t?n:{};if(s=Nt(c?{}:n),!r)return s=B(s,n),i?tt(n,s):s}else{if(!sd[l])return t?n:{};s=Dt(n,l,r)}}a||(a=new w);var d=a.get(n);return d||(a.set(n,s),(u?Ru:Z)(n,function(e,t){L(s,t,V(e,r,i,o,t,n,a))}),i&&!u?tt(n,s):s)}function W(o){var a=$i(o),s=a.length;return function(e){if(null==e)return!s;for(var t=s;t--;){var n=a[t],r=o[n],i=e[n];if(i===_l&&!(n in Object(e))||!r(i))return!1}return!0}}function z(e){return Zr(e)?Ca(e):{}}function q(e,t,n){if("function"!=typeof e)throw new ia(Cl);return ka(function(){e.apply(_l,n)},t)}function G(e,t,n,r){var i=-1,o=Mu,a=!0,s=e.length,u=[],l=t.length;if(!s)return u;n&&(t=Fu(t,Zu(n))),r?(o=Bu,a=!1):t.length>=wl&&(o=_,a=!1,t=new b(t));e:for(;++i<s;){var c=e[i],d=n?n(c):c;if(a&&d==d){for(var f=l;f--;)if(t[f]===d)continue e;u.push(c)}else o(t,d,r)||u.push(c)}return u}function Y(e,r){var i=!0;return Ka(e,function(e,t,n){return i=!!r(e,t,n)}),i}function X(e,t,n,r){var i=e.length;for((n=wi(n))<0&&(n=i<-n?0:i+n),(r=r===_l||i<r?i:wi(r))<0&&(r+=i),r=r<n?0:Ci(r);n<r;)e[n++]=t;return e}function K(e,r){var i=[];return Ka(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i}function J(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];0<t&&Ur(a)&&(n||Vs(a)||Fr(a))?1<t?J(a,t-1,n,r):ju(r,a):n||(r[r.length]=a)}return r}function Q(e,t){return null==e?e:Qa(e,t,Ui)}function Z(e,t){return e&&Qa(e,t,$i)}function ee(e,t){return e&&Za(e,t,$i)}function te(t,e){return Lu(e,function(e){return Kr(t[e])})}function ne(e,t){for(var n=0,r=(t=Bt(t,e)?[t+""]:U(t)).length;null!=e&&n<r;)e=e[t[n++]];return n&&n==r?e:_l}function re(e,t){return ua.call(e,t)||"object"==typeof e&&t in e&&null===_a(e)}function ie(e,t){return t in Object(e)}function oe(e,t,n){return e>=Na(t,n)&&e<Ra(t,n)}function ae(e,t,n){for(var r=n?Bu:Mu,i=e[0].length,o=e.length,a=o,s=Array(o),u=Infinity,l=[];a--;){var c=e[a];a&&t&&(c=Fu(c,Zu(t))),u=Na(c.length,u),s[a]=!n&&(t||120<=i&&120<=c.length)?new b(a&&c):_l}c=e[0];var d=-1,f=s[0];e:for(;++d<i&&l.length<u;){var h=c[d],p=t?t(h):h;if(!(f?_(f,p):r(l,p,n))){for(a=o;--a;){var m=s[a];if(!(m?_(m,p):r(e[a],p,n)))continue e}f&&f.push(p),l.push(h)}}return l}function se(e,r,i,o){return Z(e,function(e,t,n){r(o,i(e),t,n)}),o}function ue(e,t,n){Bt(t,e)||(e=Wt(e,t=U(t)),t=fn(t));var r=null==e?e:e[t];return null==r?_l:Au(r,e,n)}function le(e,t,n,r,i){return e===t||(null==e||null==t||!Zr(e)&&!ei(t)?e!=e&&t!=t:ce(e,t,le,n,r,i))}function ce(e,t,n,r,i,o){var a=Vs(e),s=Vs(t),u=Zl,l=Zl;a||(u=(u=At(e))==Ql?sc:u),s||(l=(l=At(t))==Ql?sc:l);var c=u==sc&&!cl(e),d=l==sc&&!cl(t),f=u==l;if(f&&!c)return o||(o=new w),a||mi(e)?St(e,t,n,r,i,o):wt(e,t,u,n,r,i,o);if(!(i&Bl)){var h=c&&ua.call(e,"__wrapped__"),p=d&&ua.call(t,"__wrapped__");if(h||p)return o||(o=new w),n(h?e.value():e,p?t.value():t,r,i,o)}return!!f&&(o||(o=new w),Ct(e,t,n,r,i,o))}function de(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var u=(s=n[i])[0],l=e[u],c=s[1];if(a&&s[2]){if(l===_l&&!(u in e))return!1}else{var d=new w,f=r?r(l,c,u,e,t,d):_l;if(!(f===_l?le(c,l,r,Ml|Bl,d):f))return!1}}return!0}function fe(e){var t=typeof e;return"function"==t?e:null==e?Ro:"object"==t?Vs(e)?ve(e[0],e[1]):ge(e):$o(e)}function he(e){return Ia(Object(e))}function pe(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function me(e,r){var i=-1,o=$r(e)?Array(e.length):[];return Ka(e,function(e,t,n){o[++i]=r(e,t,n)}),o}function ge(t){var n=xt(t);if(1==n.length&&n[0][2]){var r=n[0][0],i=n[0][1];return function(e){return null!=e&&(e[r]===i&&(i!==_l||r in Object(e)))}}return function(e){return e===t||de(e,t,n)}}function ve(n,r){return function(e){var t=Bi(e,n);return t===_l&&t===r?ji(e,n):le(r,t,_l,Ml|Bl)}}function ye(r,i,o,a,s){if(r!==i){var u=Vs(i)||mi(i)?_l:Ui(i);Ru(u||i,function(e,t){if(u&&(e=i[t=e]),Zr(e))s||(s=new w),be(r,i,t,o,ye,a,s);else{var n=a?a(r[t],e,t+"",r,i,s):_l;n===_l&&(n=e),D(r,t,n)}})}}function be(e,t,n,r,i,o,a){var s=e[n],u=t[n],l=a.get(u);if(l)D(e,n,l);else{var c=o?o(s,u,n+"",e,t,a):_l,d=c===_l;d&&(Vs(c=u)||mi(u)?Vs(s)?c=s:Ur(s)?c=Qe(s):(d=!1,c=V(u,!o)):li(u)||Fr(u)?Fr(s)?c=ki(s):!Zr(s)||r&&Kr(s)?(d=!1,c=V(u,!o)):c=s:d=!1),a.set(u,c),d&&i(c,u,r,o,a),a["delete"](u),D(e,n,c)}}function _e(e,n,r){var i=-1;return n=Fu(n.length?n:Array(1),kt()),Xu(me(e,function(t){return{criteria:Fu(n,function(e){return e(t)}),index:++i,value:t}}),function(e,t){return il(e,t,r)})}function Se(n,e){return n=Object(n),$u(e,function(e,t){return t in n&&(e[t]=n[t]),e},{})}function we(e,n){var r={};return Q(e,function(e,t){n(e,t)&&(r[t]=e)}),r}function Ce(t){return function(e){return null==e?_l:e[t]}}function Ee(t){return function(e){return ne(e,t)}}function ke(e,t,n,r){var i=r?Gu:qu,o=-1,a=t.length,s=e;for(n&&(s=Fu(e,Zu(n)));++o<a;)for(var u=0,l=t[o],c=n?n(l):l;-1<(u=i(s,c,u,r));)s!==e&&xa.call(s,u,1),xa.call(e,u,1);return e}function xe(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(r==n||i!=o){var o=i;if(dl(i))xa.call(e,i,1);else if(Bt(i,e))delete e[i];else{var a=U(i),s=Wt(e,a);null!=s&&delete s[fn(a)]}}}return e}function Te(e,t){return e+Oa(La()*(t-e+1))}function Oe(e,t,n,r){for(var i=-1,o=Ra(Ta((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a}function Ae(e,t,n,r){for(var i=-1,o=(t=Bt(t,e)?[t+""]:U(t)).length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];if(Zr(s)){var l=n;if(i!=a){var c=s[u];(l=r?r(c,u,s):_l)===_l&&(l=null==c?dl(t[i+1])?[]:{}:c)}L(s,u,l)}s=s[u]}return e}function Pe(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Ie(e,r){var i;return Ka(e,function(e,t,n){return!(i=r(e,t,n))}),!!i}function Re(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t==t&&i<=Jl){for(;r<i;){var o=r+i>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?r=o+1:i=o}return i}return Ne(e,t,Ro,n)}function Ne(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!=t,s=null===t,u=t===_l;i<o;){var l=Oa((i+o)/2),c=n(e[l]),d=c!==_l,f=c==c;if(a)var h=f||r;else h=s?f&&d&&(r||null!=c):u?f&&(r||d):null!=c&&(r?c<=t:c<t);h?i=l+1:o=l}return Na(o,Kl)}function De(e){return Le(e)}function Le(e,t){for(var n=0,r=e.length,i=e[0],o=t?t(i):i,a=o,s=1,u=[i];++n<r;)i=e[n],Lr(o=t?t(i):i,a)||(a=o,u[s++]=i);return u}function Me(e,t,n){var r=-1,i=Mu,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Bu;else if(wl<=o){var l=t?null:ts(e);if(l)return ml(l);a=!1,i=_,u=new b}else u=t?[]:s;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(a&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(c)}else i(u,d,n)||(u!==s&&u.push(d),s.push(c))}return s}function Be(e,t){e=Wt(e,t=Bt(t,e)?[t+""]:U(t));var n=fn(t);return null==e||!Fi(e,n)||delete e[n]}function Fe(e,t,n,r){return Ae(e,t,n(ne(e,t)),r)}function je(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Pe(e,r?0:o,r?o+1:i):Pe(e,r?o+1:0,r?i:o)}function $e(e,t){var n=e;return n instanceof y&&(n=n.value()),$u(t,function(e,t){return t.func.apply(t.thisArg,ju([e],t.args))},n)}function Ue(e,t,n){for(var r=-1,i=e.length;++r<i;)var o=o?ju(G(o,e[r],t,n),G(e[r],o,t,n)):e[r];return o&&o.length?Me(o,t,n):[]}function He(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;)n(a,e[r],r<o?t[r]:_l);return a}function Ve(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function We(e){var t=new e.constructor(e.byteLength);return new va(t).set(new va(e)),t}function ze(e){return $u(hl(e),Tu,new e.constructor)}function qe(e){var t=new e.constructor(e.source,Wc.exec(e));return t.lastIndex=e.lastIndex,t}function Ge(e){return $u(ml(e),Ou,new e.constructor)}function Ye(e){return Ya?Object(Ya.call(e)):{}}function Xe(e,t){var n=t?We(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ke(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,l=Ra(o-a,0),c=Array(u+l),d=!r;++s<u;)c[s]=t[s];for(;++i<a;)(d||i<o)&&(c[n[i]]=e[i]);for(;l--;)c[s++]=e[i++];return c}function Je(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,l=t.length,c=Ra(o-s,0),d=Array(c+l),f=!r;++i<c;)d[i]=e[i];for(var h=i;++u<l;)d[h+u]=t[u];for(;++a<s;)(f||i<o)&&(d[h+n[a]]=e[i++]);return d}function Qe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Ze(e,t,n){return et(e,t,n)}function et(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i];L(n,a,r?r(n[a],e[a],a,n,e):e[a])}return n}function tt(e,t){return Ze(e,is(e),t)}function nt(i,o){return function(e,t){var n=Vs(e)?Pu:M,r=o?o():{};return n(e,i,kt(t),r)}}function rt(s){return kr(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:_l,o=2<r?t[2]:_l;for(i="function"==typeof i?(r--,i):_l,o&&Mt(t[0],t[1],o)&&(i=r<3?_l:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&s(e,a,n,i)}return e})}function it(o,a){return function(e,t){if(null==e)return e;if(!$r(e))return o(e,t);for(var n=e.length,r=a?n:-1,i=Object(e);(a?r--:++r<n)&&!1!==t(i[r],r,i););return e}}function ot(u){return function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[u?a:++r];if(!1===t(i[s],s,i))break}return e}}function at(e,t,n){function r(){return(this&&this!==dd&&this instanceof r?o:e).apply(i?n:this,arguments)}var i=t&xl,o=lt(e);return r}function st(i){return function(e){e=Ti(e);var t=ed.test(e)?vl(e):_l,n=t?t[0]:e.charAt(0),r=t?t.slice(1).join(""):e.slice(1);return n[i]()+r}}function ut(t){return function(e){return $u(Oo(so(e)),t,"")}}function lt(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=z(r.prototype),n=r.apply(t,e);return Zr(n)?n:t}}function ct(o,a,s){function u(){for(var e=arguments.length,t=Array(e),n=e,r=Ot(u);n--;)t[n]=arguments[n];var i=e<3&&t[0]!==r&&t[e-1]!==r?[]:pl(t,r);return(e-=i.length)<s?yt(o,a,ft,u.placeholder,_l,t,i,_l,_l,s-e):Au(this&&this!==dd&&this instanceof u?l:o,this,t)}var l=lt(o);return u}function dt(u){return kr(function(i){var o=(i=J(i,1)).length,e=o,t=v.prototype.thru;for(u&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new ia(Cl);if(t&&!a&&"wrapper"==Et(n))var a=new v([],!0)}for(e=a?e:o;++e<o;){var r=Et(n=i[e]),s="wrapper"==r?ns(n):_l;a=s&&jt(s[0])&&s[1]==(Nl|Al|Il|Dl)&&!s[4].length&&1==s[9]?a[Et(s[0])].apply(a,s[3]):1==n.length&&jt(n)?a[r]():a.thru(n)}return function(){var e=arguments,t=e[0];if(a&&1==e.length&&Vs(t)&&t.length>=wl)return a.plant(t).value();for(var n=0,r=o?i[n].apply(this,e):t;++n<o;)r=i[n].call(this,r);return r}})}function ft(u,l,c,d,f,h,p,m,g,v){function y(){for(var e=arguments.length,t=e,n=Array(e);t--;)n[t]=arguments[t];if(w)var r=Ot(y),i=ol(n,r);if(d&&(n=Ke(n,d,f,w)),h&&(n=Je(n,h,p,w)),e-=i,w&&e<v){var o=pl(n,r);return yt(u,l,ft,y.placeholder,c,n,o,m,g,v-e)}var a=_?c:this,s=S?a[u]:u;return e=n.length,m?n=zt(n,m):C&&1<e&&n.reverse(),b&&g<e&&(n.length=g),this&&this!==dd&&this instanceof y&&(s=E||lt(s)),s.apply(a,n)}var b=l&Nl,_=l&xl,S=l&Tl,w=l&(Al|Pl),C=l&Ll,E=S?_l:lt(u);return y}function ht(n,r){return function(e,t){return se(e,n,r(t),{})}}function pt(r){return kr(function(e){return e=Fu(J(e,1),kt()),kr(function(t){var n=this;return r(e,function(e){return Au(e,n,t)})})})}function mt(e,t,n){t=wi(t);var r=gl(e);if(!t||t<=r)return"";var i=t-r,o=go(n=n===_l?" ":n+"",Ta(i/gl(n)));return ed.test(n)?vl(o).slice(0,i).join(""):o.slice(0,i)}function gt(a,e,s,u){function l(){for(var e=-1,t=arguments.length,n=-1,r=u.length,i=Array(r+t),o=this&&this!==dd&&this instanceof l?d:a;++n<r;)i[n]=u[n];for(;t--;)i[n++]=arguments[++e];return Au(o,c?s:this,i)}var c=e&xl,d=lt(a);return l}function vt(r){return function(e,t,n){return n&&"number"!=typeof n&&Mt(e,t,n)&&(t=n=_l),e=(e=Ei(e))==e?e:0,t===_l?(t=e,e=0):t=Ei(t)||0,Oe(e,t,n=n===_l?e<t?1:-1:Ei(n)||0,r)}}function yt(e,t,n,r,i,o,a,s,u,l){var c=t&Al,d=s?Qe(s):_l;t|=c?Il:Rl,(t&=~(c?Rl:Il))&Ol||(t&=~(xl|Tl));var f=[e,t,i,c?o:_l,c?a:_l,c?_l:o,c?_l:a,d,u,l],h=n.apply(_l,f);return jt(e)&&us(h,f),h.placeholder=r,h}function bt(e){var r=na[e];return function(e,t){if(e=Ei(e),t=wi(t)){var n=(Ti(e)+"e").split("e");return+((n=(Ti(r(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))}return r(e)}}function _t(e,t,n,r,i,o,a,s){var u=t&Tl;if(!u&&"function"!=typeof e)throw new ia(Cl);var l=r?r.length:0;if(l||(t&=~(Il|Rl),r=i=_l),a=a===_l?a:Ra(wi(a),0),s=s===_l?s:wi(s),l-=i?i.length:0,t&Rl){var c=r,d=i;r=i=_l}var f=u?_l:ns(e),h=[e,t,n,r,i,c,d,o,a,s];if(f&&Ht(h,f),e=h[0],t=h[1],n=h[2],r=h[3],i=h[4],!(s=h[9]=null==h[9]?u?0:e.length:Ra(h[9]-l,0))&&t&(Al|Pl)&&(t&=~(Al|Pl)),t&&t!=xl)p=t==Al||t==Pl?ct(e,t,s):t!=Il&&t!=(xl|Il)||i.length?ft.apply(_l,h):gt(e,t,n,r);else var p=at(e,t,n);return(f?es:us)(p,h)}function St(e,t,n,r,i,o){var a=-1,s=i&Bl,u=i&Ml,l=e.length,c=t.length;if(l!=c&&!(s&&l<c))return!1;var d=o.get(e);if(d)return d==t;var f=!0;for(o.set(e,t);++a<l;){var h=e[a],p=t[a];if(r)var m=s?r(p,h,a,t,e,o):r(h,p,a,e,t,o);if(m!==_l){if(m)continue;f=!1;break}if(u){if(!Hu(t,function(e){return h===e||n(h,e,r,i,o)})){f=!1;break}}else if(h!==p&&!n(h,p,r,i,o)){f=!1;break}}return o["delete"](e),f}function wt(e,t,n,r,i,o,a){switch(n){case pc:return!(e.byteLength!=t.byteLength||!r(new va(e),new va(t)));case ec:case tc:return+e==+t;case nc:return e.name==t.name&&e.message==t.message;case ac:return e!=+e?t!=+t:e==+t;case uc:case cc:return e==t+"";case oc:var s=hl;case lc:var u=o&Bl;if(s||(s=ml),e.size!=t.size&&!u)return!1;var l=a.get(e);return l?l==t:St(s(e),s(t),r,i,o|Ml,a.set(e,t));case dc:if(Ya)return Ya.call(e)==Ya.call(t)}return!1}function Ct(e,t,n,r,i,o){var a=i&Bl,s=$i(e),u=s.length;if(u!=$i(t).length&&!a)return!1;for(var l=u;l--;){var c=s[l];if(!(a?c in t:re(t,c)))return!1}var d=o.get(e);if(d)return d==t;var f=!0;o.set(e,t);for(var h=a;++l<u;){var p=e[c=s[l]],m=t[c];if(r)var g=a?r(m,p,c,t,e,o):r(p,m,c,e,t,o);if(!(g===_l?p===m||n(p,m,r,i,o):g)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(f=!1)}return o["delete"](e),f}function Et(e){for(var t=e.name+"",n=Va[t],r=ua.call(Va,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function kt(e,t){var n=g.iteratee||No;return n=n===No?fe:n,arguments.length?n(e,t):n}function xt(e){for(var t=Xi(e),n=t.length;n--;)t[n][2]=Ut(t[n][1]);return t}function Tt(e,t){var n=e[t];return oi(n)?n:_l}function Ot(e){return(ua.call(g,"placeholder")?g:e).placeholder}function At(e){return da.call(e)}function Pt(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Na(t,e+a);break;case"takeRight":e=Ra(e,t-a)}}return{start:e,end:t}}function It(e,t,n){if(null==e)return!1;var r=n(e,t);r||Bt(t)||null!=(e=Wt(e,t=U(t)))&&(r=n(e,t=fn(t)));var i=e?e.length:_l;return r||!!i&&Qr(i)&&dl(t,i)&&(Vs(e)||hi(e)||Fr(e))}function Rt(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ua.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Nt(e){return"function"!=typeof e.constructor||$t(e)?{}:z(_a(e))}function Dt(e,t,n){var r=e.constructor;switch(t){case pc:return We(e);case ec:case tc:return new r(+e);case mc:case gc:case vc:case yc:case bc:case _c:case Sc:case wc:case Cc:return Xe(e,n);case oc:return ze(e);case ac:case cc:return new r(e);case uc:return qe(e);case lc:return Ge(e);case dc:return Ye(e)}}function Lt(e){var t=e?e.length:_l;return Qr(t)&&(Vs(e)||hi(e)||Fr(e))?Ju(t,String):null}function Mt(e,t,n){if(!Zr(n))return!1;var r=typeof t;return!!("number"==r?$r(n)&&dl(t,n.length):"string"==r&&t in n)&&Lr(n[t],e)}function Bt(e,t){return"number"==typeof e||!Vs(e)&&(Lc.test(e)||!Dc.test(e)||null!=t&&e in Object(t))}function Ft(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function jt(e){var t=Et(e),n=g[t];if("function"!=typeof n||!(t in y.prototype))return!1;if(e===n)return!0;var r=ns(n);return!!r&&e===r[0]}function $t(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||aa)}function Ut(e){return e==e&&!Zr(e)}function Ht(e,t){var n=e[1],r=t[1],i=n|r,o=i<(xl|Tl|Nl),a=r==Nl&&n==Al||r==Nl&&n==Dl&&e[7].length<=t[8]||r==(Nl|Dl)&&t[7].length<=t[8]&&n==Al;if(!o&&!a)return e;r&xl&&(e[2]=t[2],i|=n&xl?0:Ol);var s=t[3];if(s){var u=e[3];e[3]=u?Ke(u,s,t[4]):Qe(s),e[4]=u?pl(e[3],kl):Qe(t[4])}return(s=t[5])&&(u=e[5],e[5]=u?Je(u,s,t[6]):Qe(s),e[6]=u?pl(e[5],kl):Qe(t[6])),(s=t[7])&&(e[7]=Qe(s)),r&Nl&&(e[8]=null==e[8]?t[8]:Na(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Vt(e,t,n,r,i,o){return Zr(e)&&Zr(t)&&ye(e,t,_l,Vt,o.set(t,e)),e}function Wt(e,t){return 1==t.length?e:Bi(e,Pe(t,0,-1))}function zt(e,t){for(var n=e.length,r=Na(t.length,n),i=Qe(e);r--;){var o=t[r];e[r]=dl(o,n)?i[o]:_l}return e}function qt(e){var i=[];return Ti(e).replace(Mc,function(e,t,n,r){i.push(n?r.replace(Hc,"$1"):t||e)}),i}function Gt(e){if(e instanceof y)return e.clone();var t=new v(e.__wrapped__,e.__chain__);return t.__actions__=Qe(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yt(e,t){t=Ra(wi(t),0);var n=e?e.length:0;if(!n||t<1)return[];for(var r=0,i=0,o=Array(Ta(n/t));r<n;)o[i++]=Pe(e,r,r+=t);return o}function Xt(e){for(var t=-1,n=e?e.length:0,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}function Kt(e,t,n){var r=e?e.length:0;return r?Pe(e,(t=n||t===_l?1:wi(t))<0?0:t,r):[]}function Jt(e,t,n){var r=e?e.length:0;return r?Pe(e,0,(t=r-(t=n||t===_l?1:wi(t)))<0?0:t):[]}function Qt(e,t){return e&&e.length?je(e,kt(t,3),!0,!0):[]}function Zt(e,t){return e&&e.length?je(e,kt(t,3),!0):[]}function en(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Mt(e,t,n)&&(n=0,r=i),X(e,t,n,r)):[]}function tn(e,t){return e&&e.length?zu(e,kt(t,3)):-1}function nn(e,t){return e&&e.length?zu(e,kt(t,3),!0):-1}function rn(e){return(e?e.length:0)?J(e,1):[]}function on(e){return(e?e.length:0)?J(e,zl):[]}function an(e,t){return(e?e.length:0)?J(e,t=t===_l?1:wi(t)):[]}function sn(e){for(var t=-1,n=e?e.length:0,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function un(e){return e?e[0]:_l}function ln(e,t,n){var r=e?e.length:0;return r?((n=wi(n))<0&&(n=Ra(r+n,0)),qu(e,t,n)):-1}function cn(e){return Jt(e,1)}function dn(e,t){return e?Pa.call(e,t):""}function fn(e){var t=e?e.length:0;return t?e[t-1]:_l}function hn(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if(n!==_l&&(i=((i=wi(n))<0?Ra(r+i,0):Na(i,r-1))+1),t!=t)return ll(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function pn(e,t){return e&&e.length&&t&&t.length?ke(e,t):e}function mn(e,t,n){return e&&e.length&&t&&t.length?ke(e,t,kt(n)):e}function gn(e,t,n){return e&&e.length&&t&&t.length?ke(e,t,_l,n):e}function vn(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=kt(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return xe(e,i),n}function yn(e){return e?Ma.call(e):e}function bn(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Mt(e,t,n)?(t=0,n=r):(t=null==t?0:wi(t),n=n===_l?r:wi(n)),Pe(e,t,n)):[]}function _n(e,t){return Re(e,t)}function Sn(e,t,n){return Ne(e,t,kt(n))}function wn(e,t){var n=e?e.length:0;if(n){var r=Re(e,t);if(r<n&&Lr(e[r],t))return r}return-1}function Cn(e,t){return Re(e,t,!0)}function En(e,t,n){return Ne(e,t,kt(n),!0)}function kn(e,t){if(e?e.length:0){var n=Re(e,t,!0)-1;if(Lr(e[n],t))return n}return-1}function xn(e){return e&&e.length?De(e):[]}function Tn(e,t){return e&&e.length?Le(e,kt(t)):[]}function On(e){return Kt(e,1)}function An(e,t,n){return e&&e.length?Pe(e,0,(t=n||t===_l?1:wi(t))<0?0:t):[]}function Pn(e,t,n){var r=e?e.length:0;return r?Pe(e,(t=r-(t=n||t===_l?1:wi(t)))<0?0:t,r):[]}function In(e,t){return e&&e.length?je(e,kt(t,3),!1,!0):[]}function Rn(e,t){return e&&e.length?je(e,kt(t,3)):[]}function Nn(e){return e&&e.length?Me(e):[]}function Dn(e,t){return e&&e.length?Me(e,kt(t)):[]}function Ln(e,t){return e&&e.length?Me(e,_l,t):[]}function Mn(t){if(!t||!t.length)return[];var n=0;return t=Lu(t,function(e){if(Ur(e))return n=Ra(e.length,n),!0}),Ju(n,function(e){return Fu(t,Ce(e))})}function Bn(e,t){if(!e||!e.length)return[];var n=Mn(e);return null==t?n:Fu(n,function(e){return Au(t,_l,e)})}function Fn(e,t){return He(e||[],t||[],L)}function jn(e,t){return He(e||[],t||[],Ae)}function $n(e){var t=g(e);return t.__chain__=!0,t}function Un(e,t){return t(e),e}function Hn(e,t){return t(e)}function Vn(){return $n(this)}function Wn(){return new v(this.value(),this.__chain__)}function zn(e){return this.map(e).flatten()}function qn(){this.__values__===_l&&(this.__values__=Si(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?_l:this.__values__[this.__index__++]}}function Gn(){return this}function Yn(e){for(var t,n=this;n instanceof o;){var r=Gt(n);r.__index__=0,r.__values__=_l,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function Xn(){var e=this.__wrapped__;if(e instanceof y){var t=e;return this.__actions__.length&&(t=new y(this)),(t=t.reverse()).__actions__.push({func:Hn,args:[yn],thisArg:_l}),new v(t,this.__chain__)}return this.thru(yn)}function Kn(){return $e(this.__wrapped__,this.__actions__)}function Jn(e,t,n){var r=Vs(e)?Du:Y;return n&&Mt(e,t,n)&&(t=_l),r(e,kt(t,3))}function Qn(e,t){return(Vs(e)?Lu:K)(e,kt(t,3))}function Zn(e,t){if(t=kt(t,3),Vs(e)){var n=zu(e,t);return-1<n?e[n]:_l}return Wu(e,t,Ka)}function er(e,t){if(t=kt(t,3),Vs(e)){var n=zu(e,t,!0);return-1<n?e[n]:_l}return Wu(e,t,Ja)}function tr(e,t){return J(or(e,t),1)}function nr(e,t){return"function"==typeof t&&Vs(e)?Ru(e,t):Ka(e,$(t))}function rr(e,t){return"function"==typeof t&&Vs(e)?Nu(e,t):Ja(e,$(t))}function ir(e,t,n,r){e=$r(e)?e:to(e),n=n&&!r?wi(n):0;var i=e.length;return n<0&&(n=Ra(i+n,0)),hi(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<qu(e,t,n)}function or(e,t){return(Vs(e)?Fu:me)(e,kt(t,3))}function ar(e,t,n,r){return null==e?[]:(Vs(t)||(t=null==t?[]:[t]),Vs(n=r?_l:n)||(n=null==n?[]:[n]),_e(e,t,n))}function sr(e,t,n){var r=Vs(e)?$u:Yu,i=arguments.length<3;return r(e,kt(t,4),n,i,Ka)}function ur(e,t,n){var r=Vs(e)?Uu:Yu,i=arguments.length<3;return r(e,kt(t,4),n,i,Ja)}function lr(e,r){var t=Vs(e)?Lu:K;return r=kt(r,3),t(e,function(e,t,n){return!r(e,t,n)})}function cr(e){var t=$r(e)?e:to(e),n=t.length;return 0<n?t[Te(0,n-1)]:_l}function dr(e,t){var n=-1,r=Si(e),i=r.length,o=i-1;for(t=H(wi(t),0,i);++n<t;){var a=Te(n,o),s=r[a];r[a]=r[n],r[n]=s}return r.length=t,r}function fr(e){return dr(e,Xl)}function hr(e){if(null==e)return 0;if($r(e)){var t=e.length;return t&&hi(e)?gl(e):t}return $i(e).length}function pr(e,t,n){var r=Vs(e)?Hu:Ie;return n&&Mt(e,t,n)&&(t=_l),r(e,kt(t,3))}function mr(e,t){if("function"!=typeof t)throw new ia(Cl);return e=wi(e),function(){if(--e<1)return t.apply(this,arguments)}}function gr(e,t,n){return t=n?_l:t,t=e&&null==t?e.length:t,_t(e,Nl,_l,_l,_l,_l,t)}function vr(e,t){var n;if("function"!=typeof t)throw new ia(Cl);return e=wi(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=_l),n}}function yr(e,t,n){var r=_t(e,Al,_l,_l,_l,_l,_l,t=n?_l:t);return r.placeholder=yr.placeholder,r}function br(e,t,n){var r=_t(e,Pl,_l,_l,_l,_l,_l,t=n?_l:t);return r.placeholder=br.placeholder,r}function _r(r,i,e){function t(
){p&&ya(p),c&&ya(c),g=0,l=c=h=p=m=_l}function n(e,t){t&&ya(t),c=p=m=_l,e&&(g=Ds(),d=r.apply(h,l),p||c||(l=h=_l))}function o(){var e=i-(Ds()-f);e<=0||i<e?n(m,c):p=ka(o,e)}function a(){return(p&&m||c&&b)&&(d=r.apply(h,l)),t(),d}function s(){n(b,p)}function u(){if(l=arguments,f=Ds(),h=this,m=b&&(p||!v),!1===y)var e=v&&!p;else{g||c||v||(g=f);var t=y-(f-g),n=(t<=0||y<t)&&(v||c);n?(c&&(c=ya(c)),g=f,d=r.apply(h,l)):c||(c=ka(s,t))}return n&&p?p=ya(p):p||i===y||(p=ka(o,i)),e&&(n=!0,d=r.apply(h,l)),!n||p||c||(l=h=_l),d}var l,c,d,f,h,p,m,g=0,v=!1,y=!1,b=!0;if("function"!=typeof r)throw new ia(Cl);return i=Ei(i)||0,Zr(e)&&(v=!!e.leading,y="maxWait"in e&&Ra(Ei(e.maxWait)||0,i),b="trailing"in e?!!e.trailing:b),u.cancel=t,u.flush=a,u}function Sr(e){return _t(e,Ll)}function wr(i,o){if("function"!=typeof i||o&&"function"!=typeof o)throw new ia(Cl);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return a.cache=n.set(t,r),r};return a.cache=new wr.Cache,a}function Cr(e){if("function"!=typeof e)throw new ia(Cl);return function(){return!e.apply(this,arguments)}}function Er(e){return vr(2,e)}function kr(o,a){if("function"!=typeof o)throw new ia(Cl);return a=Ra(a===_l?o.length-1:wi(a),0),function(){for(var e=arguments,t=-1,n=Ra(e.length-a,0),r=Array(n);++t<n;)r[t]=e[a+t];switch(a){case 0:return o.call(this,r);case 1:return o.call(this,e[0],r);case 2:return o.call(this,e[0],e[1],r)}var i=Array(a+1);for(t=-1;++t<a;)i[t]=e[t];return i[a]=r,Au(o,this,i)}}function xr(r,i){if("function"!=typeof r)throw new ia(Cl);return i=i===_l?0:Ra(wi(i),0),kr(function(e){var t=e[i],n=e.slice(0,i);return t&&ju(n,t),Au(r,this,n)})}function Tr(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new ia(Cl);return Zr(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),_r(e,t,{leading:r,maxWait:t,trailing:i})}function Or(e){return gr(e,1)}function Ar(e,t){return $s(t=null==t?Ro:t,e)}function Pr(e){if(!arguments.length)return[];var t=e;return Vs(t)?t:[t]}function Ir(e){return V(e,!1,!0)}function Rr(e,t){return V(e,!1,!0,t)}function Nr(e){return V(e,!0,!0)}function Dr(e,t){return V(e,!0,!0,t)}function Lr(e,t){return e===t||e!=e&&t!=t}function Mr(e,t){return t<e}function Br(e,t){return t<=e}function Fr(e){return Ur(e)&&ua.call(e,"callee")&&(!Ea.call(e,"callee")||da.call(e)==Ql)}function jr(e){return ei(e)&&da.call(e)==pc}function $r(e){return null!=e&&Qr(rs(e))&&!Kr(e)}function Ur(e){return ei(e)&&$r(e)}function Hr(e){return!0===e||!1===e||ei(e)&&da.call(e)==ec}function Vr(e){return ei(e)&&da.call(e)==tc}function Wr(e){return!!e&&1===e.nodeType&&ei(e)&&!li(e)}function zr(e){if($r(e)&&(Vs(e)||hi(e)||Kr(e.splice)||Fr(e)))return!e.length;for(var t in e)if(ua.call(e,t))return!1;return!0}function qr(e,t){return le(e,t)}function Gr(e,t,n){var r=(n="function"==typeof n?n:_l)?n(e,t):_l;return r===_l?le(e,t,n):!!r}function Yr(e){return!!ei(e)&&(da.call(e)==nc||"string"==typeof e.message&&"string"==typeof e.name)}function Xr(e){return"number"==typeof e&&Aa(e)}function Kr(e){var t=Zr(e)?da.call(e):"";return t==rc||t==ic}function Jr(e){return"number"==typeof e&&e==wi(e)}function Qr(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=ql}function Zr(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ei(e){return!!e&&"object"==typeof e}function ti(e){return ei(e)&&At(e)==oc}function ni(e,t){return e===t||de(e,t,xt(t))}function ri(e,t,n){return n="function"==typeof n?n:_l,de(e,t,xt(t),n)}function ii(e){return ui(e)&&e!=+e}function oi(e){return null!=e&&(Kr(e)?ha.test(sa.call(e)):ei(e)&&(cl(e)?ha:Yc).test(e))}function ai(e){return null===e}function si(e){return null==e}function ui(e){return"number"==typeof e||ei(e)&&da.call(e)==ac}function li(e){if(!ei(e)||da.call(e)!=sc||cl(e))return!1;var t=_a(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&sa.call(n)==ca}function ci(e){return Zr(e)&&da.call(e)==uc}function di(e){return Jr(e)&&-ql<=e&&e<=ql}function fi(e){return ei(e)&&At(e)==lc}function hi(e){return"string"==typeof e||!Vs(e)&&ei(e)&&da.call(e)==cc}function pi(e){return"symbol"==typeof e||ei(e)&&da.call(e)==dc}function mi(e){return ei(e)&&Qr(e.length)&&!!ad[da.call(e)]}function gi(e){return e===_l}function vi(e){return ei(e)&&At(e)==fc}function yi(e){return ei(e)&&da.call(e)==hc}function bi(e,t){return e<t}function _i(e,t){return e<=t}function Si(e){if(!e)return[];if($r(e))return hi(e)?vl(e):Qe(e);if(wa&&e[wa])return fl(e[wa]());var t=At(e);return(t==oc?hl:t==lc?ml:to)(e)}function wi(e){if(!e)return 0===e?e:0;if((e=Ei(e))===zl||e===-zl)return(e<0?-1:1)*Gl;var t=e%1;return e==e?t?e-t:e:0}function Ci(e){return e?H(wi(e),0,Xl):0}function Ei(e){if(Zr(e)){var t=Kr(e.valueOf)?e.valueOf():e;e=Zr(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(jc,"");var n=Gc.test(e);return n||Xc.test(e)?ld(e.slice(2),n?2:8):qc.test(e)?Yl:+e}function ki(e){return Ze(e,Ui(e))}function xi(e){return H(wi(e),-ql,ql)}function Ti(e){if("string"==typeof e)return e;if(null==e)return"";if(pi(e))return Xa?Xa.call(e):"";var t=e+"";return"0"==t&&1/e==-zl?"-0":t}function Oi(e,t){var n=z(e);return t?B(n,t):n}function Ai(e,t){return Wu(e,kt(t,3),Z,!0)}function Pi(e,t){return Wu(e,kt(t,3),ee,!0)}function Ii(e,t){return null==e?e:Qa(e,$(t),Ui)}function Ri(e,t){return null==e?e:Za(e,$(t),Ui)}function Ni(e,t){return e&&Z(e,$(t))}function Di(e,t){return e&&ee(e,$(t))}function Li(e){return null==e?[]:te(e,$i(e))}function Mi(e){return null==e?[]:te(e,Ui(e))}function Bi(e,t,n){var r=null==e?_l:ne(e,t);return r===_l?n:r}function Fi(e,t){return It(e,t,re)}function ji(e,t){return It(e,t,ie)}function $i(e){var t=$t(e);if(!t&&!$r(e))return he(e);var n=Lt(e),r=!!n,i=n||[],o=i.length;for(var a in e)!re(e,a)||r&&("length"==a||dl(a,o))||t&&"constructor"==a||i.push(a);return i}function Ui(e){for(var t=-1,n=$t(e),r=pe(e),i=r.length,o=Lt(e),a=!!o,s=o||[],u=s.length;++t<i;){var l=r[t];a&&("length"==l||dl(l,u))||"constructor"==l&&(n||!ua.call(e,l))||s.push(l)}return s}function Hi(e,r){var i={};return r=kt(r,3),Z(e,function(e,t,n){i[r(e,t,n)]=e}),i}function Vi(e,r){var i={};return r=kt(r,3),Z(e,function(e,t,n){i[t]=r(e,t,n)}),i}function Wi(e,n){return n=kt(n),we(e,function(e,t){return!n(e,t)})}function zi(e,t){return null==e?{}:we(e,kt(t))}function qi(e,t,n){if(Bt(t,e))r=null==e?_l:e[t];else{var r=Bi(e,t=U(t));e=Wt(e,t)}return r===_l&&(r=n),Kr(r)?r.call(e):r}function Gi(e,t,n){return null==e?e:Ae(e,t,n)}function Yi(e,t,n,r){return r="function"==typeof r?r:_l,null==e?e:Ae(e,t,n,r)}function Xi(e){return Qu(e,$i(e))}function Ki(e){return Qu(e,Ui(e))}function Ji(e,r,i){var t=Vs(e)||mi(e);if(r=kt(r,4),null==i)if(t||Zr(e)){var n=e.constructor;i=t?Vs(e)?new n:[]:Kr(n)?z(_a(e)):{}}else i={};return(t?Ru:Z)(e,function(e,t,n){return r(i,e,t,n)}),i}function Qi(e,t){return null==e||Be(e,t)}function Zi(e,t,n){return null==e?e:Fe(e,t,$(n))}function eo(e,t,n,r){return r="function"==typeof r?r:_l,null==e?e:Fe(e,t,$(n),r)}function to(e){return e?el(e,$i(e)):[]}function no(e){return null==e?[]:el(e,Ui(e))}function ro(e,t,n){return n===_l&&(n=t,t=_l),n!==_l&&(n=(n=Ei(n))==n?n:0),t!==_l&&(t=(t=Ei(t))==t?t:0),H(Ei(e),t,n)}function io(e,t,n){return t=Ei(t)||0,n===_l?(n=t,t=0):n=Ei(n)||0,oe(e=Ei(e),t,n)}function oo(e,t,n){if(n&&"boolean"!=typeof n&&Mt(e,t,n)&&(t=n=_l),n===_l&&("boolean"==typeof t?(n=t,t=_l):"boolean"==typeof e&&(n=e,e=_l)),e===_l&&t===_l?(e=0,t=1):(e=Ei(e)||0,t===_l?(t=e,e=0):t=Ei(t)||0),t<e){var r=e;e=t,t=r}if(n||e%1||t%1){var i=La();return Na(e+i*(t-e+ud("1e-"+((i+"").length-1))),t)}return Te(e,t)}function ao(e){return lu(Ti(e).toLowerCase())}function so(e){return(e=Ti(e))&&e.replace(Kc,al).replace(Zc,"")}function uo(e,t,n){t="string"==typeof t?t:t+"";var r=(e=Ti(e)).length;return n=n===_l?r:H(wi(n),0,r),0<=(n-=t.length)&&e.indexOf(t,n)==n}function lo(e){return(e=Ti(e))&&Pc.test(e)?e.replace(Oc,sl):e}function co(e){return(e=Ti(e))&&Fc.test(e)?e.replace(Bc,"\\$&"):e}function fo(e,t,n){e=Ti(e),t=wi(t);var r=gl(e);if(!t||t<=r)return e;var i=(t-r)/2,o=Oa(i),a=Ta(i);return mt("",o,n)+e+mt("",a,n)}function ho(e,t,n){return(e=Ti(e))+mt(e,t,n)}function po(e,t,n){return mt(e=Ti(e),t,n)+e}function mo(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Ti(e).replace(jc,""),Da(e,t||(zc.test(e)?16:10))}function go(e,t){e=Ti(e),t=wi(t);var n="";if(!e||t<1||ql<t)return n;for(;t%2&&(n+=e),e+=e,t=Oa(t/2););return n}function vo(){var e=arguments,t=Ti(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function yo(e,t,n){return Ti(e).split(t,n)}function bo(e,t,n){return e=Ti(e),n=H(wi(n),0,e.length),e.lastIndexOf(t,n)==n}function _o(a,e,t){var n=g.templateSettings;t&&Mt(a,e,t)&&(e=_l),a=Ti(a),e=Gs({},e,n,N);var s,u,r=Gs({},e.imports,n.imports,N),i=$i(r),o=el(r,i),l=0,c=e.interpolate||Jc,d="__p += '",f=ra((e.escape||Jc).source+"|"+c.source+"|"+(c===Nc?Vc:Jc).source+"|"+(e.evaluate||Jc).source+"|$","g"),h="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++od+"]")+"\n";a.replace(f,function(e,t,n,r,i,o){return n||(n=r),d+=a.slice(l,o).replace(Qc,ul),t&&(s=!0,d+="' +\n__e("+t+") +\n'"),i&&(u=!0,d+="';\n"+i+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),l=o+e.length,e}),d+="';\n";var p=e.variable;p||(d="with (obj) {\n"+d+"\n}\n"),d=(u?d.replace(Ec,""):d).replace(kc,"$1").replace(xc,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=hu(function(){return Function(i,h+"return "+d).apply(_l,o)});if(m.source=d,Yr(m))throw m;return m}function So(e){return Ti(e).toLowerCase()}function wo(e){return Ti(e).toUpperCase()}function Co(e,t,n){if(!(e=Ti(e)))return e;if(n||t===_l)return e.replace(jc,"");if(!(t+=""))return e;var r=vl(e),i=vl(t);return r.slice(tl(r,i),nl(r,i)+1).join("")}function Eo(e,t,n){if(!(e=Ti(e)))return e;if(n||t===_l)return e.replace(Uc,"");if(!(t+=""))return e;var r=vl(e);return r.slice(0,nl(r,vl(t))+1).join("")}function ko(e,t,n){if(!(e=Ti(e)))return e;if(n||t===_l)return e.replace($c,"");if(!(t+=""))return e;var r=vl(e);return r.slice(tl(r,vl(t))).join("")}function xo(e,t){var n=Fl,r=jl;if(Zr(t)){var i="separator"in t?t.separator:i;n="length"in t?wi(t.length):n,r="omission"in t?Ti(t.omission):r}var o=(e=Ti(e)).length;if(ed.test(e)){var a=vl(e);o=a.length}if(o<=n)return e;var s=n-gl(r);if(s<1)return r;var u=a?a.slice(0,s).join(""):e.slice(0,s);if(i===_l)return u+r;if(a&&(s+=u.length-s),ci(i)){if(e.slice(s).search(i)){var l,c=u;for(i.global||(i=ra(i.source,Ti(Wc.exec(i))+"g")),i.lastIndex=0;l=i.exec(c);)var d=l.index;u=u.slice(0,d===_l?s:d)}}else if(e.indexOf(i,s)!=s){var f=u.lastIndexOf(i);-1<f&&(u=u.slice(0,f))}return u+r}function To(e){return(e=Ti(e))&&Ac.test(e)?e.replace(Tc,yl):e}function Oo(e,t,n){return e=Ti(e),(t=n?_l:t)===_l&&(t=rd.test(e)?nd:td),e.match(t)||[]}function Ao(r){var i=r?r.length:0,t=kt();return r=i?Fu(r,function(e){if("function"!=typeof e[1])throw new ia(Cl);return[t(e[0]),e[1]]}):[],kr(function(e){for(var t=-1;++t<i;){var n=r[t];if(Au(n[0],this,e))return Au(n[1],this,e)}})}function Po(e){return W(V(e,!0))}function Io(e){return function(){return e}}function Ro(e){return e}function No(e){return fe("function"==typeof e?e:V(e,!0))}function Do(e){return ge(V(e,!0))}function Lo(e,t){return ve(e,V(t,!0))}function Mo(r,t,e){var n=$i(t),i=te(t,n);null!=e||Zr(t)&&(i.length||!n.length)||(e=t,t=r,r=this,i=te(t,$i(t)));var o=!(Zr(e)&&"chain"in e)||e.chain,a=Kr(r);return Ru(i,function(e){var n=t[e];r[e]=n,a&&(r.prototype[e]=function(){var e=this.__chain__;if(o||e){var t=r(this.__wrapped__);return(t.__actions__=Qe(this.__actions__)).push({func:n,args:arguments,thisArg:r}),t.__chain__=e,t}return n.apply(r,ju([this.value()],arguments))})}),r}function Bo(){return dd._===this&&(dd._=fa),this}function Fo(){}function jo(e){return e=wi(e),function(){return arguments[e]}}function $o(e){return Bt(e)?Ce(e):Ee(e)}function Uo(t){return function(e){return null==t?_l:ne(t,e)}}function Ho(e,t){if((e=wi(e))<1||ql<e)return[];var n=Xl,r=Na(e,Xl);t=$(t),e-=Xl;for(var i=Ju(r,t);++n<e;)t(n);return i}function Vo(e){return Vs(e)?Fu(e,String):qt(e)}function Wo(e){var t=++la;return Ti(e)+t}function zo(e,t){var n;return e===_l&&t===_l?0:(e!==_l&&(n=e),t!==_l&&(n=n===_l?t:n+t),n)}function qo(e){return e&&e.length?Vu(e,Ro,Mr):_l}function Go(e,t){return e&&e.length?Vu(e,kt(t),Mr):_l}function Yo(e){return Qo(e)/(e?e.length:0)}function Xo(e){return e&&e.length?Vu(e,Ro,bi):_l}function Ko(e,t){return e&&e.length?Vu(e,kt(t),bi):_l}function Jo(e,t){var n;return e===_l&&t===_l?0:(e!==_l&&(n=e),t!==_l&&(n=n===_l?t:n-t),n)}function Qo(e){return e&&e.length?Ku(e,Ro):0}function Zo(e,t){return e&&e.length?Ku(e,kt(t)):0}var ea=(e=e?fd.defaults({},e,fd.pick(dd,id)):dd).Date,ta=e.Error,na=e.Math,ra=e.RegExp,ia=e.TypeError,oa=e.Array.prototype,aa=e.Object.prototype,sa=e.Function.prototype.toString,ua=aa.hasOwnProperty,la=0,ca=sa.call(Object),da=aa.toString,fa=dd._,ha=ra("^"+sa.call(ua).replace(Bc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pa=cd?e.Buffer:_l,ma=e.Reflect,ga=e.Symbol,va=e.Uint8Array,ya=e.clearTimeout,ba=ma?ma.enumerate:_l,_a=Object.getPrototypeOf,Sa=Object.getOwnPropertySymbols,wa="symbol"==typeof(wa=ga&&ga.iterator)?wa:_l,Ca=Object.create,Ea=aa.propertyIsEnumerable,ka=e.setTimeout,xa=oa.splice,Ta=na.ceil,Oa=na.floor,Aa=e.isFinite,Pa=oa.join,Ia=Object.keys,Ra=na.max,Na=na.min,Da=e.parseInt,La=na.random,Ma=oa.reverse,Ba=Tt(e,"Map"),Fa=Tt(e,"Set"),ja=Tt(e,"WeakMap"),$a=Tt(Object,"create"),Ua=ja&&new ja,Ha=!Ea.call({valueOf:1},"valueOf"),Va={},Wa=Ba?sa.call(Ba):"",za=Fa?sa.call(Fa):"",qa=ja?sa.call(ja):"",Ga=ga?ga.prototype:_l,Ya=Ga?Ga.valueOf:_l,Xa=Ga?Ga.toString:_l;g.templateSettings={escape:Ic,evaluate:Rc,interpolate:Nc,variable:"",imports:{_:g}};var Ka=it(Z),Ja=it(ee,!0),Qa=ot(),Za=ot(!0);ba&&!Ea.call({valueOf:1},"valueOf")&&(pe=function(e){return fl(ba(e))});var es=Ua?function(e,t){return Ua.set(e,t),e}:Ro,ts=Fa&&2===new Fa([1,2]).size?function(e){return new Fa(e)}:Fo,ns=Ua?function(e){return Ua.get(e)}:Fo,rs=Ce("length"),is=Sa||function(){return[]};(Ba&&At(new Ba)!=oc||Fa&&At(new Fa)!=lc||ja&&At(new ja)!=fc)&&(At=function(e){var t=da.call(e),n=t==sc?e.constructor:null,r="function"==typeof n?sa.call(n):"";if(r)switch(r){case Wa:return oc;case za:return lc;case qa:return fc}return t});var os,as,ss,us=(as=os=0,function(e,t){var n=Ds(),r=Ul-(n-as);if(as=n,0<r){if(++os>=$l)return e}else os=0;return es(e,t)}),ls=kr(function(e,t){return Vs(e)||(e=null==e?[]:[Object(e)]),Iu(e,t=J(t,1))}),cs=kr(function(e,t){return Ur(e)?G(e,J(t,1,!0)):[]}),ds=kr(function(e,t){var n=fn(t);return Ur(n)&&(n=_l),Ur(e)?G(e,J(t,1,!0),kt(n)):[]}),fs=kr(function(e,t){var n=fn(t);return Ur(n)&&(n=_l),Ur(e)?G(e,J(t,1,!0),_l,n):[]}),hs=kr(function(e){var t=Fu(e,j);return t.length&&t[0]===e[0]?ae(t):[]}),ps=kr(function(e){var t=fn(e),n=Fu(e,j);return t===fn(n)?t=_l:n.pop(),n.length&&n[0]===e[0]?ae(n,kt(t)):[]}),ms=kr(function(e){var t=fn(e),n=Fu(e,j);return t===fn(n)?t=_l:n.pop(),n.length&&n[0]===e[0]?ae(n,_l,t):[]}),gs=kr(pn),vs=kr(function(e,t){var n=F(e,t=Fu(J(t,1),String));return xe(e,t.sort(rl)),n}),ys=kr(function(e){return Me(J(e,1,!0))}),bs=kr(function(e){var t=fn(e);return Ur(t)&&(t=_l),Me(J(e,1,!0),kt(t))}),_s=kr(function(e){var t=fn(e);return Ur(t)&&(t=_l),Me(J(e,1,!0),_l,t)}),Ss=kr(function(e,t){return Ur(e)?G(e,t):[]}),ws=kr(function(e){return Ue(Lu(e,Ur))}),Cs=kr(function(e){var t=fn(e);return Ur(t)&&(t=_l),Ue(Lu(e,Ur),kt(t))}),Es=kr(function(e){var t=fn(e);return Ur(t)&&(t=_l),Ue(Lu(e,Ur),_l,t)}),ks=kr(Mn),xs=kr(function(e){var t=e.length,n=1<t?e[t-1]:_l;return Bn(e,n="function"==typeof n?(e.pop(),n):_l)}),Ts=kr(function(t){var n=(t=J(t,1)).length,e=n?t[0]:0,r=this.__wrapped__,i=function(e){return F(e,t)};return!(1<n||this.__actions__.length)&&r instanceof y&&dl(e)?((r=r.slice(e,+e+(n?1:0))).__actions__.push({func:Hn,args:[i],thisArg:_l}),new v(r,this.__chain__).thru(function(e){return n&&!e.length&&e.push(_l),e})):this.thru(i)}),Os=nt(function(e,t,n){ua.call(e,n)?++e[n]:e[n]=1}),As=nt(function(e,t,n){ua.call(e,n)?e[n].push(t):e[n]=[t]}),Ps=kr(function(e,n,r){var i=-1,o="function"==typeof n,a=Bt(n),s=$r(e)?Array(e.length):[];return Ka(e,function(e){var t=o?n:a&&null!=e?e[n]:_l;s[++i]=t?Au(t,e,r):ue(e,n,r)}),s}),Is=nt(function(e,t,n){e[n]=t}),Rs=nt(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Ns=kr(function(e,t){if(null==e)return[];var n=t.length;return 1<n&&Mt(e,t[0],t[1])?t=[]:2<n&&Mt(t[0],t[1],t[2])&&(t.length=1),_e(e,J(t,1),[])}),Ds=ea.now,Ls=kr(function(e,t,n){var r=xl;if(n.length){var i=pl(n,Ot(Ls));r|=Il}return _t(e,r,t,n,i)}),Ms=kr(function(e,t,n){var r=xl|Tl;if(n.length){var i=pl(n,Ot(Ms));r|=Il}return _t(t,r,e,n,i)}),Bs=kr(function(e,t){return q(e,1,t)}),Fs=kr(function(e,t,n){return q(e,Ei(t)||0,n)}),js=kr(function(r,i){var o=(i=Fu(J(i,1),kt())).length;return kr(function(e){for(var t=-1,n=Na(e.length,o);++t<n;)e[t]=i[t].call(this,e[t]);return Au(r,this,e)})}),$s=kr(function(e,t){var n=pl(t,Ot($s));return _t(e,Il,_l,t,n)}),Us=kr(function(e,t){var n=pl(t,Ot(Us));return _t(e,Rl,_l,t,n)}),Hs=kr(function(e,t){return _t(e,Dl,_l,_l,_l,J(t,1))}),Vs=Array.isArray,Ws=pa?function(e){return e instanceof pa}:Io(!1),zs=rt(function(e,t){if(Ha||$t(t)||$r(t))Ze(t,$i(t),e);else for(var n in t)ua.call(t,n)&&L(e,n,t[n])}),qs=rt(function(e,t){if(Ha||$t(t)||$r(t))Ze(t,Ui(t),e);else for(var n in t)L(e,n,t[n])}),Gs=rt(function(e,t,n,r){et(t,Ui(t),e,r)}),Ys=rt(function(e,t,n,r){et(t,$i(t),e,r)}),Xs=kr(function(e,t){return F(e,J(t,1))}),Ks=kr(function(e){return e.push(_l,N),Au(Gs,_l,e)}),Js=kr(function(e){return e.push(_l,Vt),Au(nu,_l,e)}),Qs=ht(function(e,t,n){e[t]=n},Io(Ro)),Zs=ht(function(e,t,n){ua.call(e,t)?e[t].push(n):e[t]=[n]},kt),eu=kr(ue),tu=rt(function(e,t,n){ye(e,t,n)}),nu=rt(function(e,t,n,r){ye(e,t,n,r)}),ru=kr(function(e,t){return null==e?{}:(t=Fu(J(t,1),String),Se(e,G(Ui(e),t)))}),iu=kr(function(e,t){return null==e?{}:Se(e,J(t,1))}),ou=ut(function(e,t,n){return t=t.toLowerCase(),e+(n?ao(t):t)}),au=ut(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),su=ut(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),uu=st("toLowerCase"),lu=st("toUpperCase"),cu=ut(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),du=ut(function(e,t,n){return e+(n?" ":"")+ao(t)}),fu=ut(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),hu=kr(function(e,t){try{return Au(e,_l,t)}catch(hd){return Yr(hd)?hd:new ta(hd)}}),pu=kr(function(t,e){return Ru(J(e,1),function(e){t[e]=Ls(t[e],t)}),t}),mu=dt(),gu=dt(!0),vu=kr(function(t,n){return function(e){return ue(e,t,n)}}),yu=kr(function(t,n){return function(e){return ue(t,e,n)}}),bu=pt(Fu),_u=pt(Du),Su=pt(Hu),wu=vt(),Cu=vt(!0),Eu=bt("ceil"),ku=bt("floor"),xu=bt("round");return g.prototype=o.prototype,g.prototype.constructor=g,v.prototype=z(o.prototype),v.prototype.constructor=v,y.prototype=z(o.prototype),y.prototype.constructor=y,i.prototype=$a?$a(null):aa,c.prototype.clear=d,c.prototype["delete"]=f,c.prototype.get=h,c.prototype.has=p,c.prototype.set=m,b.prototype.push=S,w.prototype.clear=C,w.prototype["delete"]=E,w.prototype.get=k,w.prototype.has=x,w.prototype.set=T,wr.Cache=c,g.after=mr,g.ary=gr,g.assign=zs,g.assignIn=qs,g.assignInWith=Gs,g.assignWith=Ys,g.at=Xs,g.before=vr,g.bind=Ls,g.bindAll=pu,g.bindKey=Ms,g.castArray=Pr,g.chain=$n,g.chunk=Yt,g.compact=Xt,g.concat=ls,g.cond=Ao,g.conforms=Po,g.constant=Io,g.countBy=Os,g.create=Oi,g.curry=yr,g.curryRight=br,g.debounce=_r,g.defaults=Ks,g.defaultsDeep=Js,g.defer=Bs,g.delay=Fs,g.difference=cs,g.differenceBy=ds,g.differenceWith=fs,g.drop=Kt,g.dropRight=Jt,g.dropRightWhile=Qt,g.dropWhile=Zt,g.fill=en,g.filter=Qn,g.flatMap=tr,g.flatten=rn,g.flattenDeep=on,g.flattenDepth=an,g.flip=Sr,g.flow=mu,g.flowRight=gu,g.fromPairs=sn,g.functions=Li,g.functionsIn=Mi,g.groupBy=As,g.initial=cn,g.intersection=hs,g.intersectionBy=ps,g.intersectionWith=ms,g.invert=Qs,g.invertBy=Zs,g.invokeMap=Ps,g.iteratee=No,g.keyBy=Is,g.keys=$i,g.keysIn=Ui,g.map=or,g.mapKeys=Hi,g.mapValues=Vi,g.matches=Do,g.matchesProperty=Lo,g.memoize=wr,g.merge=tu,g.mergeWith=nu,g.method=vu,g.methodOf=yu,g.mixin=Mo,g.negate=Cr,g.nthArg=jo,g.omit=ru,g.omitBy=Wi,g.once=Er,g.orderBy=ar,g.over=bu,g.overArgs=js,g.overEvery=_u,g.overSome=Su,g.partial=$s,g.partialRight=Us,g.partition=Rs,g.pick=iu,g.pickBy=zi,g.property=$o,g.propertyOf=Uo,g.pull=gs,g.pullAll=pn,g.pullAllBy=mn,g.pullAllWith=gn,g.pullAt=vs,g.range=wu,g.rangeRight=Cu,g.rearg=Hs,g.reject=lr,g.remove=vn,g.rest=kr,g.reverse=yn,g.sampleSize=dr,g.set=Gi,g.setWith=Yi,g.shuffle=fr,g.slice=bn,g.sortBy=Ns,g.sortedUniq=xn,g.sortedUniqBy=Tn,g.split=yo,g.spread=xr,g.tail=On,g.take=An,g.takeRight=Pn,g.takeRightWhile=In,g.takeWhile=Rn,g.tap=Un,g.throttle=Tr,g.thru=Hn,g.toArray=Si,g.toPairs=Xi,g.toPairsIn=Ki,g.toPath=Vo,g.toPlainObject=ki,g.transform=Ji,g.unary=Or,g.union=ys,g.unionBy=bs,g.unionWith=_s,g.uniq=Nn,g.uniqBy=Dn,g.uniqWith=Ln,g.unset=Qi,g.unzip=Mn,g.unzipWith=Bn,g.update=Zi,g.updateWith=eo,g.values=to,g.valuesIn=no,g.without=Ss,g.words=Oo,g.wrap=Ar,g.xor=ws,g.xorBy=Cs,g.xorWith=Es,g.zip=ks,g.zipObject=Fn,g.zipObjectDeep=jn,g.zipWith=xs,g.extend=qs,g.extendWith=Gs,Mo(g,g),g.add=zo,g.attempt=hu,g.camelCase=ou,g.capitalize=ao,g.ceil=Eu,g.clamp=ro,g.clone=Ir,g.cloneDeep=Nr,g.cloneDeepWith=Dr,g.cloneWith=Rr,g.deburr=so,g.endsWith=uo,g.eq=Lr,g.escape=lo,g.escapeRegExp=co,g.every=Jn,g.find=Zn,g.findIndex=tn,g.findKey=Ai,g.findLast=er,g.findLastIndex=nn,g.findLastKey=Pi,g.floor=ku,g.forEach=nr,g.forEachRight=rr,g.forIn=Ii,g.forInRight=Ri,g.forOwn=Ni,g.forOwnRight=Di,g.get=Bi,g.gt=Mr,g.gte=Br,g.has=Fi,g.hasIn=ji,g.head=un,g.identity=Ro,g.includes=ir,g.indexOf=ln,g.inRange=io,g.invoke=eu,g.isArguments=Fr,g.isArray=Vs,g.isArrayBuffer=jr,g.isArrayLike=$r,g.isArrayLikeObject=Ur,g.isBoolean=Hr,g.isBuffer=Ws,g.isDate=Vr,g.isElement=Wr,g.isEmpty=zr,g.isEqual=qr,g.isEqualWith=Gr,g.isError=Yr,g.isFinite=Xr,g.isFunction=Kr,g.isInteger=Jr,g.isLength=Qr,g.isMap=ti,g.isMatch=ni,g.isMatchWith=ri,g.isNaN=ii,g.isNative=oi,g.isNil=si,g.isNull=ai,g.isNumber=ui,g.isObject=Zr,g.isObjectLike=ei,g.isPlainObject=li,g.isRegExp=ci,g.isSafeInteger=di,g.isSet=fi,g.isString=hi,g.isSymbol=pi,g.isTypedArray=mi,g.isUndefined=gi,g.isWeakMap=vi,g.isWeakSet=yi,g.join=dn,g.kebabCase=au,g.last=fn,g.lastIndexOf=hn,g.lowerCase=su,g.lowerFirst=uu,g.lt=bi,g.lte=_i,g.max=qo,g.maxBy=Go,g.mean=Yo,g.min=Xo,g.minBy=Ko,g.noConflict=Bo,g.noop=Fo,g.now=Ds,g.pad=fo,g.padEnd=ho,g.padStart=po,g.parseInt=mo,g.random=oo,g.reduce=sr,g.reduceRight=ur,g.repeat=go,g.replace=vo,g.result=qi,g.round=xu,g.runInContext=bl,g.sample=cr,g.size=hr,g.snakeCase=cu,g.some=pr,g.sortedIndex=_n,g.sortedIndexBy=Sn,g.sortedIndexOf=wn,g.sortedLastIndex=Cn,g.sortedLastIndexBy=En,g.sortedLastIndexOf=kn,g.startCase=du,g.startsWith=bo,g.subtract=Jo,g.sum=Qo,g.sumBy=Zo,g.template=_o,g.times=Ho,g.toInteger=wi,g.toLength=Ci,g.toLower=So,g.toNumber=Ei,g.toSafeInteger=xi,g.toString=Ti,g.toUpper=wo,g.trim=Co,g.trimEnd=Eo,g.trimStart=ko,g.truncate=xo,g.unescape=To,g.uniqueId=Wo,g.upperCase=fu,g.upperFirst=lu,g.each=nr,g.eachRight=rr,g.first=un,Mo(g,(ss={},Z(g,function(e,t){ua.call(g.prototype,t)||(ss[t]=e)}),ss),{chain:!1}),g.VERSION=Sl,Ru(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){g[e].placeholder=g}),Ru(["drop","take"],function(r,i){y.prototype[r]=function(e){var t=this.__filtered__;if(t&&!i)return new y(this);e=e===_l?1:Ra(wi(e),0);var n=this.clone();return t?n.__takeCount__=Na(e,n.__takeCount__):n.__views__.push({size:Na(e,Xl),type:r+(n.__dir__<0?"Right":"")}),n},y.prototype[r+"Right"]=function(e){return this.reverse()[r](e).reverse()}}),Ru(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==Hl||n==Wl;y.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:kt(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Ru(["head","last"],function(e,t){var n="take"+(t?"Right":"");y.prototype[e]=function(){return this[n](1).value()[0]}}),Ru(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");y.prototype[e]=function(){return this.__filtered__?new y(this):this[n](1)}}),y.prototype.compact=function(){return this.filter(Ro)},y.prototype.find=function(e){return this.filter(e).head()},y.prototype.findLast=function(e){return this.reverse().find(e)},y.prototype.invokeMap=kr(function(t,n){return"function"==typeof t?new y(this):this.map(function(e){return ue(e,t,n)})}),y.prototype.reject=function(t){return t=kt(t,3),this.filter(function(e){return!t(e)})},y.prototype.slice=function(e,t){e=wi(e);var n=this;return n.__filtered__&&(0<e||t<0)?new y(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==_l&&(n=(t=wi(t))<0?n.dropRight(-t):n.take(t-e)),n)},y.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},y.prototype.toArray=function(){return this.take(Xl)},Z(y.prototype,function(d,e){var f=/^(?:filter|find|map|reject)|While$/.test(e),h=/^(?:head|last)$/.test(e),p=g[h?"take"+("last"==e?"Right":""):e],m=h||/^find/.test(e);p&&(g.prototype[e]=function(){var e=this.__wrapped__,n=h?[1]:arguments,t=e instanceof y,r=n[0],i=t||Vs(e),o=function(e){var t=p.apply(g,ju([e],n));return h&&a?t[0]:t};i&&f&&"function"==typeof r&&1!=r.length&&(t=i=!1);var a=this.__chain__,s=!!this.__actions__.length,u=m&&!a,l=t&&!s;if(m||!i)return u&&l?d.apply(this,n):(c=this.thru(o),u?h?c.value()[0]:c.value():c);e=l?e:new y(this);var c=d.apply(e,n);return c.__actions__.push({func:Hn,args:[o],thisArg:_l}),new v(c,a)})}),Ru(["pop","push","shift","sort","splice","unshift"],function(e){var n=oa[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);g.prototype[e]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Z(y.prototype,function(e,t){var n=g[t];if(n){var r=n.name+"";(Va[r]||(Va[r]=[])).push({name:t,func:n})}}),Va[ft(_l,Tl).name]=[{name:"wrapper",func:_l}],y.prototype.clone=t,y.prototype.reverse=n,y.prototype.value=r,g.prototype.at=Ts,g.prototype.chain=Vn,g.prototype.commit=Wn,g.prototype.flatMap=zn,g.prototype.next=qn,g.prototype.plant=Yn,g.prototype.reverse=Xn,g.prototype.toJSON=g.prototype.valueOf=g.prototype.value=Kn,wa&&(g.prototype[wa]=Gn),g}var _l,Sl="4.6.1",wl=200,Cl="Expected a function",El="__lodash_hash_undefined__",kl="__lodash_placeholder__",xl=1,Tl=2,Ol=4,Al=8,Pl=16,Il=32,Rl=64,Nl=128,Dl=256,Ll=512,Ml=1,Bl=2,Fl=30,jl="...",$l=150,Ul=16,Hl=1,Vl=2,Wl=3,zl=1/0,ql=9007199254740991,Gl=17976931348623157e292,Yl=NaN,Xl=4294967295,Kl=Xl-1,Jl=Xl>>>1,Ql="[object Arguments]",Zl="[object Array]",ec="[object Boolean]",tc="[object Date]",nc="[object Error]",rc="[object Function]",ic="[object GeneratorFunction]",oc="[object Map]",ac="[object Number]",sc="[object Object]",uc="[object RegExp]",lc="[object Set]",cc="[object String]",dc="[object Symbol]",fc="[object WeakMap]",hc="[object WeakSet]",pc="[object ArrayBuffer]",mc="[object Float32Array]",gc="[object Float64Array]",vc="[object Int8Array]",yc="[object Int16Array]",bc="[object Int32Array]",_c="[object Uint8Array]",Sc="[object Uint8ClampedArray]",wc="[object Uint16Array]",Cc="[object Uint32Array]",Ec=/\b__p \+= '';/g,kc=/\b(__p \+=) '' \+/g,xc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Tc=/&(?:amp|lt|gt|quot|#39|#96);/g,Oc=/[&<>"'`]/g,Ac=RegExp(Tc.source),Pc=RegExp(Oc.source),Ic=/<%-([\s\S]+?)%>/g,Rc=/<%([\s\S]+?)%>/g,Nc=/<%=([\s\S]+?)%>/g,Dc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lc=/^\w*$/,Mc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Bc=/[\\^$.*+?()[\]{}|]/g,Fc=RegExp(Bc.source),jc=/^\s+|\s+$/g,$c=/^\s+/,Uc=/\s+$/,Hc=/\\(\\)?/g,Vc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wc=/\w*$/,zc=/^0x/i,qc=/^[-+]0x[0-9a-f]+$/i,Gc=/^0b[01]+$/i,Yc=/^\[object .+?Constructor\]$/,Xc=/^0o[0-7]+$/i,n=/^(?:0|[1-9]\d*)$/,Kc=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Jc=/($^)/,Qc=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",r="\\u0300-\\u036f\\ufe20-\\ufe23",i="\\u20d0-\\u20f0",o="\\u2700-\\u27bf",a="a-z\\xdf-\\xf6\\xf8-\\xff",s="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\ufe0e\\ufe0f",l="\\xac\\xb1\\xd7\\xf7"+"\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf"+"\\u2018\\u2019\\u201c\\u201d"+" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="["+t+"]",d="["+l+"]",f="["+r+i+"]",h="\\d+",p="["+o+"]",m="["+a+"]",g="[^"+t+l+h+o+a+s+"]",v="\\ud83c[\\udffb-\\udfff]",y="[^"+t+"]",b="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",S="["+s+"]",w="\\u200d",C="(?:"+m+"|"+g+")",E="(?:"+S+"|"+g+")",k="(?:"+f+"|"+v+")"+"?",x="["+u+"]?",T=x+k+("(?:"+w+"(?:"+[y,b,_].join("|")+")"+x+k+")*"),O="(?:"+[p,b,_].join("|")+")"+T,A="(?:"+[y+f+"?",f,b,_,c].join("|")+")",Zc=RegExp(f,"g"),P=RegExp(v+"(?="+v+")|"+A+T,"g"),ed=RegExp("["+w+t+r+i+u+"]"),td=/[a-zA-Z0-9]+/g,nd=RegExp([S+"?"+m+"+(?="+[d,S,"$"].join("|")+")",E+"+(?="+[d,S+C,"$"].join("|")+")",S+"?"+C+"+",S+"+",h,O].join("|"),"g"),rd=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,id=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],od=-1,ad={};ad[mc]=ad[gc]=ad[vc]=ad[yc]=ad[bc]=ad[_c]=ad[Sc]=ad[wc]=ad[Cc]=!0,ad[Ql]=ad[Zl]=ad[pc]=ad[ec]=ad[tc]=ad[nc]=ad[rc]=ad[oc]=ad[ac]=ad[sc]=ad[uc]=ad[lc]=ad[cc]=ad[fc]=!1;var sd={};sd[Ql]=sd[Zl]=sd[pc]=sd[ec]=sd[tc]=sd[mc]=sd[gc]=sd[vc]=sd[yc]=sd[bc]=sd[oc]=sd[ac]=sd[sc]=sd[uc]=sd[lc]=sd[cc]=sd[dc]=sd[_c]=sd[Sc]=sd[wc]=sd[Cc]=!0,sd[nc]=sd[rc]=sd[fc]=!1;var I={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},N={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},D={"function":!0,object:!0},L={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ud=parseFloat,ld=parseInt,M=D.object&&V&&!V.nodeType?V:_l,B=D.object&&H&&!H.nodeType?H:_l,cd=B&&B.exports===M?M:_l,F=e(M&&B&&"object"==typeof W&&W),j=e(D[typeof self]&&self),$=e(D[typeof window]&&window),U=e(D[typeof this]&&this),dd=F||$!==(U&&U.window)&&$||j||U||Function("return this")(),fd=bl();($||j||{})._=fd,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return fd}):M&&B?(cd&&((B.exports=fd)._=fd),M._=fd):dd._=fd}).call(this)}),it=e(function(e){var t;t=function(){function a(e,t,n){return e<t?t:n<e?n:e}function s(e){return 100*(-1+e)}function u(e,t,n){var r;return(r="translate3d"===f.positionUsing?{transform:"translate3d("+s(e)+"%,0,0)"}:"translate"===f.positionUsing?{transform:"translate("+s(e)+"%,0)"}:{"margin-left":s(e)+"%"}).transition="all "+t+"ms "+n,r}function i(e,t){return 0<=("string"==typeof e?e:o(e)).indexOf(" "+t+" ")}function l(e,t){var n=o(e),r=n+t;i(n,t)||(e.className=r.substring(1))}function t(e,t){var n,r=o(e);i(e,t)&&(n=r.replace(" "+t+" "," "),e.className=n.substring(1,n.length-1))}function o(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function c(e){e&&e.parentNode&&e.parentNode.removeChild(e)}var n,r,d={version:"0.2.0"},f=d.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};d.configure=function(e){var t,n;for(t in e)(n=e[t])!==undefined&&e.hasOwnProperty(t)&&(f[t]=n);return this},d.status=null,d.set=function(t){var e=d.isStarted();t=a(t,f.minimum,1),d.status=1===t?null:t;var n=d.render(!e),r=n.querySelector(f.barSelector),i=f.speed,o=f.easing;return n.offsetWidth,h(function(e){""===f.positionUsing&&(f.positionUsing=d.getPositioningCSS()),p(r,u(t,i,o)),1===t?(p(n,{transition:"none",opacity:1}),n.offsetWidth,setTimeout(function(){p(n,{transition:"all "+i+"ms linear",opacity:0}),setTimeout(function(){d.remove(),e()},i)},i)):setTimeout(e,i)}),this
},d.isStarted=function(){return"number"==typeof d.status},d.start=function(){d.status||d.set(0);var e=function(){setTimeout(function(){d.status&&(d.trickle(),e())},f.trickleSpeed)};return f.trickle&&e(),this},d.done=function(e){return e||d.status?d.inc(.3+.5*Math.random()).set(1):this},d.inc=function(e){var t=d.status;return t?("number"!=typeof e&&(e=(1-t)*a(Math.random()*t,.1,.95)),t=a(t+e,0,.994),d.set(t)):d.start()},d.trickle=function(){return d.inc(Math.random()*f.trickleRate)},r=n=0,d.promise=function(e){return e&&"resolved"!==e.state()&&(0===r&&d.start(),n++,r++,e.always(function(){0==--r?(n=0,d.done()):d.set((n-r)/n)})),this},d.render=function(e){if(d.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var t=document.createElement("div");t.id="nprogress",t.innerHTML=f.template;var n,r=t.querySelector(f.barSelector),i=e?"-100":s(d.status||0),o=document.querySelector(f.parent);return p(r,{transition:"all 0 linear",transform:"translate3d("+i+"%,0,0)"}),f.showSpinner||(n=t.querySelector(f.spinnerSelector))&&c(n),o!=document.body&&l(o,"nprogress-custom-parent"),o.appendChild(t),t},d.remove=function(){t(document.documentElement,"nprogress-busy"),t(document.querySelector(f.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&c(e)},d.isRendered=function(){return!!document.getElementById("nprogress")},d.getPositioningCSS=function(){var e=document.body.style,t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return t+"Perspective"in e?"translate3d":t+"Transform"in e?"translate":"margin"};var h=function(){function t(){var e=n.shift();e&&e(t)}var n=[];return function(e){n.push(e),1==n.length&&t()}}(),p=function(){function t(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,t){return t.toUpperCase()})}function n(e){var t=document.body.style;if(e in t)return e;for(var n,r=a.length,i=e.charAt(0).toUpperCase()+e.slice(1);r--;)if((n=a[r]+i)in t)return n;return e}function r(e){return e=t(e),i[e]||(i[e]=n(e))}function o(e,t,n){t=r(t),e.style[t]=n}var a=["Webkit","O","Moz","ms"],i={};return function(e,t){var n,r,i=arguments;if(2==i.length)for(n in t)(r=t[n])!==undefined&&t.hasOwnProperty(n)&&o(e,n,r);else o(e,i[1],i[2])}}();return d},"function"==typeof define&&define.amd?define(t):e.exports=t()}),ot=e(function(n){(function(){var e,t,T=[].slice;t=function(){var R,p,e,N,D,L,M,d,B,m,t,n,F,j,g,r,i,l,U,o,a,s,u,H,c,f,h,v,y,b,_,V,S,W,w,C,E,k,x;for(d={},b={},H=0,y=!(o=/^[a-z]\w*(\.[a-z]\w*|\[\d+\])*$/i),L=S=V=null,(R={shouldDiscardEvent:{}}).getAttribute=function(e,t){return e.getAttribute("data-"+t)||e.getAttribute(t)},R.reset=function(e,t){var n,r,i,o,a,s;for(i in null==t&&(t=document.documentElement),d)if(n=null!=(s=d[i])?s.bindings:void 0)for(r=0,o=n.length;r<o;r++)(a=n[r]).teardown&&a.teardown();return d={},V=e,(S=t).bindingId=H=1,this},R.bind=function(e,t){return null==e&&(e=S),null==t&&(t=R.context(e)),N(t,e,n(e),!0)},R.afterBound=function(e){return L?L.push(e):e()},N=function(e,t,n,r){var i,o,a,s,u,l,c,d,f,h,p,m,g,v,y,b,_,S,w,C,E,k,x,T,O,A,P,I;if(L=[],f=null,t.bindingId&&R.unbind(t),c=R.getAttribute(t,"define-array")){for(m in E=M(t,e,c),null==n&&(n={}),n)I=n[m],E.hasOwnProperty(m)||(E[m]=I);n=E,(f=B(t)).indexes=n}for(a=null,h=0,y=(k=t.attributes).length;h<y;h++)P=(i=k[h]).name,j(P)&&(P=P.slice(5)),(l=R.bindingTypes[P])&&(null==a&&(a=[]),d=i.value,a.push([P,l,d]));if(a)for(null==f&&(f=B(t)),null==f.bindings&&(f.bindings=[]),null==f.indexes&&(f.indexes=n),p=0,b=(x=a.sort(D)).length;p<b;p++)(T=x[p])[0],(o=(l=T[1])(t,e,d=T[2],f))&&f.bindings.push(o);for((C=R.getAttribute(t,"context"))&&("$root"===(g=U(t,C))[0]&&(e=V,g=g.slice(1)),e=F(e,g)||W(e,g,{})),(f||C||r)&&(null==f&&(f=B(t)),f.childContext=e,null!=n&&null==f.indexes&&(f.indexes=n)),s=L,v=0,_=(O=t.children||[]).length;v<_;v++)u=O[v],N(e,u,null!=C?null:n);for(R.count=H,w=0,S=(A=s||[]).length;w<S;w++)(0,A[w])();return L=null,R},B=function(e){var t;return null==e.bindingId&&(e.bindingId=++H),null!=d[t=e.bindingId]?d[t]:d[t]={}},R.refresh=function(){if(!y)return y=!0,setTimeout(R.refreshImmediately,0)},v=function(e){var t,n,r,i;if(e.bindings)for(t=0,n=(i=e.bindings).length;t<n;t++)null!=(r=i[t]).refresh&&r.refresh()},R.refreshImmediately=function(){var e,t;for(t in y=!1,d)e=d[t],v(e)},R.register=function(e,t){if(b[e])throw new Error("Twine error: '"+e+"' is already registered with Twine");return b[e]=t},R.change=function(e,t){var n;return null==t&&(t=!1),(n=document.createEvent("HTMLEvents")).initEvent("change",t,!0),e.dispatchEvent(n)},R.unbind=function(e){var t,n,r,i,o,a,s,u,l,c;if(r=e.bindingId){if(t=null!=(l=d[r])?l.bindings:void 0)for(i=0,a=t.length;i<a;i++)(u=t[i]).teardown&&u.teardown();delete d[r],delete e.bindingId}for(o=0,s=(c=e.children||[]).length;o<s;o++)n=c[o],R.unbind(n);return this},R.context=function(e){return t(e,!1)},R.childContext=function(e){return t(e,!0)},t=function(e,t){for(var n,r,i;e;){if(e===S)return V;if(t||(e=e.parentNode),!e)return console.warn("Unable to find context; please check that the node is attached to the DOM that Twine has bound, or that bindings have been initiated on this node's DOM"),null;if((r=e.bindingId)&&(n=null!=(i=d[r])?i.childContext:void 0))return n;t&&(e=e.parentNode)}},n=function(e){var t,n;for(null;e;){if(t=e.bindingId)return null!=(n=d[t])?n.indexes:void 0;e=e.parentNode}},R.contextKey=function(e,r){var t,n,i,o,a;for(o=[],t=function(e){var t,n;for(t in e)if(n=e[t],r===n){o.unshift(t);break}return r=e};e&&e!==S&&(e=e.parentNode);)(i=e.bindingId)&&(n=null!=(a=d[i])?a.childContext:void 0)&&t(n);return e===S&&t(V),o.join(".")},k=function(e){var t,n;return"input"===(t=e.nodeName.toLowerCase())||"textarea"===t||"select"===t?"checkbox"===(n=e.getAttribute("type"))||"radio"===n?"checked":"value":"textContent"},U=function(e,t){var n,r,i,o,a,s,u;for(o=[],r=i=0,a=(s=t.split(".")).length;i<a;r=++i)if(-1!==(u=(t=s[r]).indexOf("[")))for(0===r?o.push.apply(o,l(t.substr(0,u),e)):o.push(t.substr(0,u)),t=t.substr(u);-1!==(n=t.indexOf("]"));)o.push(parseInt(t.substr(1,n),10)),t=t.substr(n+1);else 0===r?o.push.apply(o,l(t,e)):o.push(t);return o},l=function(e,t){var n,r,i;return null!=(n=null!=(r=d[t.bindingId])&&null!=(i=r.indexes)?i[e]:void 0)?[e,n]:[e]},F=function(e,t){var n,r,i;for(n=0,i=t.length;n<i;n++)r=t[n],null!=e&&(e=e[r]);return e},W=function(e,t,n){var r,i,o,a,s,u;for(t=2<=(u=t).length?T.call(u,0,r=u.length-1):(r=0,[]),a=u[r++],i=0,s=t.length;i<s;i++)e=null!=e[o=t[i]]?e[o]:e[o]={};return e[a]=n},E=function(e){return[].map.call(e.attributes,function(e){return e.name+"="+JSON.stringify(e.value)}).join(" ")},x=function(e,t,n){var r,i;if(g(e)&&(i=U(n,e)))return"$root"===i[0]?function(e,t){return F(t,i)}:function(e){return F(e,i)};e="return "+e,u(n)&&(e="with($arrayPointers) { "+e+" }"),_(t)&&(e="with($registry) { "+e+" }");try{return new Function(t,"with($context) { "+e+" }")}catch(r){throw r,"Twine error: Unable to create function on "+n.nodeName+" node with attributes "+E(n)}},_=function(e){return/\$registry/.test(e)},u=function(e){var t;return null!=e.bindingId&&(null!=(t=d[e.bindingId])?t.indexes:void 0)},p=function(e,t){var n,r,i,o;if(!(r=u(e)))return{};for(i in o={},r)n=r[i],o[i]=t[i][n];return o},g=function(e){return"true"!==e&&"false"!==e&&"null"!==e&&"undefined"!==e&&o.test(e)},j=function(e){return"d"===e[0]&&"a"===e[1]&&"t"===e[2]&&"a"===e[3]&&"-"===e[4]},m=function(e){var t;return(t=document.createEvent("CustomEvent")).initCustomEvent("bindings:change",!0,!1,{}),e.dispatchEvent(t)},D=function(e,t){var n,r,i;return r=e[0],i=t[0],(n={define:1,bind:2,eval:3})[r]?n[i]?n[r]-n[i]:-1:1},R.bindingTypes={bind:function(t,n,e){var r,i,o,a,s,u,l,c,d,f,h;return h=k(t),f=t[h],c=s=void 0,i="radio"===t.getAttribute("type"),o=x(e,"$context,$root,$arrayPointers",t),u=function(){var e;if((e=o.call(t,n,V,p(t,n)))!==s&&(s=e)!==t[h])return t[h]=i?e===t.value:e,m(t)},g(e)?(l=function(){if(i){if(!t.checked)return;return W(n,a,t.value)}return W(n,a,t[h])},a=U(t,e),d="textContent"!==h&&"hidden"!==t.type,"$root"===a[0]&&(n=V,a=a.slice(1)),null==f||!d&&""===f||null!=F(n,a)||l(),d&&(r=function(){if(F(n,a)!==this[h])return l(),R.refreshImmediately()},$(t).on("input keyup change",r),c=function(){return $(t).off("input keyup change",r)}),{refresh:u,teardown:c}):{refresh:u}},"bind-show":function(t,n,e){var r,i;return r=x(e,"$context,$root,$arrayPointers",t),i=void 0,{refresh:function(){var e;if((e=!r.call(t,n,V,p(t,n)))!==i)return $(t).toggleClass("hide",i=e)}}},"bind-class":function(r,i,e){var o,a;return o=x(e,"$context,$root,$arrayPointers",r),a={},{refresh:function(){var e,t,n;for(e in t=o.call(r,i,V,p(r,i)))n=t[e],!a[e]!=!n&&$(r).toggleClass(e,!!n);return a=t}}},"bind-attribute":function(r,i,e){var o,a;return o=x(e,"$context,$root,$arrayPointers",r),a={},{refresh:function(){var e,t,n;for(e in t=o.call(r,i,V,p(r,i)))n=t[e],a[e]!==n&&$(r).attr(e,n||null);return a=t}}},define:function(e,t,n){var r,i,o;for(r in i=x(n,"$context,$root,$registry,$arrayPointers",e).call(e,t,V,b,p(e,t)))o=i[r],t[r]=o},eval:function(e,t,n){x(n,"$context,$root,$registry,$arrayPointers",e).call(e,t,V,b,p(e,t))}},M=function(e,t,n){var r,i,o,a;for(i in r={},o=x(n,"$context,$root",e).call(e,t,V)){if(a=o[i],null==t[i]&&(t[i]=[]),!(t[i]instanceof Array))throw"Twine error: expected '"+i+"' to be an array";r[i]=t[i].length,t[i].push(a)}return r},C=function(o,e){var a;return a="checked"===o||"indeterminate"===o||"disabled"===o||"readOnly"===o||"draggable"===o,R.bindingTypes["bind-"+e.toLowerCase()]=function(t,n,e){var r,i;return r=x(e,"$context,$root,$arrayPointers",t),i=void 0,{refresh:function(){var e;if(e=r.call(t,n,V,p(t,n)),a&&(e=!!e),e!==i)return t[o]=i=e,"checked"===o?m(t):void 0}}}},r=0,a=(f=["placeholder","checked","indeterminate","disabled","href","title","readOnly","src","draggable"]).length;r<a;r++)C(e=f[r],e);for(C("innerHTML","unsafe-html"),c=function(e){var t;return!("submit"!==e.type&&"a"!==e.currentTarget.nodeName.toLowerCase()||"false"!==(t=R.getAttribute(e.currentTarget,"allow-default"))&&!1!==t&&0!==t&&null!=t)},w=function(s){return R.bindingTypes["bind-event-"+s]=function(i,o,a){var e;return e=function(e,t){var n,r;if(((r="function"==typeof(n=R.shouldDiscardEvent)[s]?n[s](e):void 0)||c(e))&&e.preventDefault(),!r)return x(a,"$context,$root,$arrayPointers,event,data",i).call(i,o,V,p(i,o),e,t),R.refreshImmediately()},$(i).on(s,e),{teardown:function(){return $(i).off(s,e)}}}},i=0,s=(h=["click","dblclick","mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","submit","dragenter","dragleave","dragover","drop","drag","change","keypress","keydown","keyup","input","error","done","success","fail","blur","focus","load","paste"]).length;i<s;i++)w(h[i]);return R},"function"==typeof(e=this).define&&e.define.amd?e.define([],t):n.exports?n.exports=t():e.Twine=t()}).call(this)}),at=e(function(n){!function r(e,t){n.exports=t()}(window,function(){return function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=144)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(142));t["default"]=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(115)),o=r(n(111)),a=r(n(55));t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a["default"])(t)));e.prototype=(0,o["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(55));t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},function(e){var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(33)("wks"),i=n(24),o=n(7).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){var r=n(13),i=n(57),o=n(40),a=Object.defineProperty;t.f=n(10)?Object.defineProperty:function s(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(hd){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,t,n){var r=n(133),i=n(38);e.exports=function(e){return r(i(e))}},function(e){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var m=n(7),g=n(4),v=n(41),y=n(14),b=n(9),_="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,l=e&S.P,c=e&S.B,d=e&S.W,f=s?g:g[t]||(g[t]={}),h=f[_],p=s?m:u?m[t]:(m[t]||{})[_];for(r in s&&(n=t),n)(i=!a&&p&&p[r]!==undefined)&&b(f,r)||(o=i?p[r]:n[r],f[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?v(o,m):d&&p[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[_]=r[_],e}(o):l&&"function"==typeof o?v(Function.call,o):o,l&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&h&&!h[r]&&y(h,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(12);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(6),i=n(21);e.exports=n(10)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(68);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(71));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(75);Object.defineProperty(t,"closest",{enumerable:!0,get:function a(){return r(i)["default"]}});var o=n(73);Object.defineProperty(t,"requestNextAnimationFrame",{enumerable:!0,get:function s(){return r(o)["default"]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(91));t["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i["default"])(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(108));t["default"]=i["default"]},function(e){e.exports={}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){e.exports=function(e){try{return!!e()}catch(hd){return!0}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(94));t["default"]=i["default"]},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}},function(e){e.exports=!0},function(e,t,n){var r=n(27),i=n(21),o=n(8),a=n(40),s=n(9),u=n(57),l=Object.getOwnPropertyDescriptor;t.f=n(10)?l:function c(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(hd){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(7),i=n(4),o=n(25),a=n(29),s=n(6).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(38);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(6).f,i=n(9),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(4),i=n(7),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=t!==undefined?t:{})})("versions",[]).push({version:r.version,mode:n(25)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(33)("keys"),i=n(24);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,n){var r=n(51),i=n(32);e.exports=Object.keys||function o(e){return r(e,i)}},function(e,t,o){var r=o(13),i=o(134),a=o(32),s=o(34)("IE_PROTO"),u=function(){},l="prototype",c=function(){var e,t=o(56)("iframe"),n=a.length,r="<",i=">";for(t.style.display="none",o(130).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(r+"script"+i+"document.F=Object"+r+"/script"+i),e.close(),c=e.F;n--;)delete c[l][a[n]];return c()};e.exports=Object.create||function d(e,t){var n;return null!==e?(u[l]=r(e),n=new u,u[l]=null,n[s]=e):n=c(),t===undefined?n:i(n,t)}},function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(139);e.exports=function(r,i,e){if(o(r),i===undefined)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(16);Object.defineProperty(n,"Sensor",{enumerable:!0,get:function c(){return r(i)["default"]}});var o=t(70);Object.defineProperty(n,"MouseSensor",{enumerable:!0,get:function d(){return r(o)["default"]}});var a=t(67);Object.defineProperty(n,"TouchSensor",{enumerable:!0,get:function f(){return r(a)["default"]}});var s=t(65);Object.defineProperty(n,"DragSensor",{enumerable:!0,get:function h(){return r(s)["default"]}});var u=t(63);Object.defineProperty(n,"ForceTouchSensor",{enumerable:!0,get:function p(){return r(u)["default"]}});var l=t(15);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return l[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(96);Object.defineProperty(t,"Announcement",{enumerable:!0,get:function u(){return r(i)["default"]}}),Object.defineProperty(t,"defaultAnnouncementOptions",{enumerable:!0,get:function l(){return i.defaultOptions}});var o=n(93);Object.defineProperty(t,"Focusable",{enumerable:!0,get:function c(){return r(o)["default"]}});var a=n(82);Object.defineProperty(t,"Mirror",{enumerable:!0,get:function d(){return r(a)["default"]}}),Object.defineProperty(t,"defaultMirrorOptions",{enumerable:!0,get:function f(){return a.defaultOptions}});var s=n(77);Object.defineProperty(t,"Scrollable",{enumerable:!0,get:function h(){return r(s)["default"]}}),Object.defineProperty(t,"defaultScrollableOptions",{enumerable:!0,get:function p(){return s.defaultOptions}})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(97);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(98);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t,n){var i=n(11),o=n(4),a=n(22);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},function(e,t,n){var r=n(51),i=n(32).concat("length","prototype");t.f=Object.getOwnPropertyNames||function o(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(9),i=n(30),o=n(34)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(39),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var a=n(9),s=n(8),u=n(132)(!1),l=n(34)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=l&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){e.exports=n(14)},function(e,t,n){"use strict";var _=n(25),S=n(11),w=n(52),C=n(14),E=n(20),k=n(135),x=n(31),T=n(49),O=n(5)("iterator"),A=!([].keys&&"next"in[].keys()),P="@@iterator",I="keys",R="values",N=function(){return this};e.exports=function(e,t,i,n,r,o,a){k(i,t,n);var s,u,l,c=function(e){if(!A&&e in p)return p[e];switch(e){case I:return function t(){return new i(this,e)};case R:return function n(){return new i(this,e)}}return function r(){return new i(this,e)}},d=t+" Iterator",f=r==R,h=!1,p=e.prototype,m=p[O]||p[P]||r&&p[r],g=m||c(r),v=r?f?c("entries"):g:undefined,y="Array"==t&&p.entries||m;if(y&&(l=T(y.call(new e)))!==Object.prototype&&l.next&&(x(l,d,!0),_||"function"==typeof l[O]||C(l,O,N)),f&&m&&m.name!==R&&(h=!0,g=function b(){return m.call(this)}),_&&!a||!A&&!h&&p[O]||C(p,O,g),E[t]=g,E[d]=N,r)if(s={values:f?g:c(R),keys:o?g:c(I),entries:v},a)for(u in s)u in p||w(p,u,s[u]);else S(S.P+S.F*(A||h),t,s);return s}},function(e,t,n){"use strict";var r=n(136)(!0);n(53)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(138)),o=r(n(125)),a="function"==typeof o["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof o["default"]&&e.constructor===o["default"]&&e!==o["default"].prototype?"symbol":typeof e};t["default"]="function"==typeof o["default"]&&"symbol"===a(i["default"])?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o["default"]&&e.constructor===o["default"]&&e!==o["default"].prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){var r=n(12),i=n(7).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(10)&&!n(22)(function(){return 7!=Object.defineProperty(n(56)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(143);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(18)),u=r(n(1)),l=r(n(0)),i=function(){function e(){(0,u["default"])(this,e),this.callbacks={}}return(0,l["default"])(e,[{key:"on",value:function o(e){var t;this.callbacks[e]||(this.callbacks[e]=[]);for(var n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.callbacks[e]).push.apply(t,r),this}},{key:"off",value:function i(e,t){if(!this.callbacks[e])return null;for(var n=this.callbacks[e].slice(0),r=0;r<n.length;r++)t===n[r]&&this.callbacks[e].splice(r,1);return this}},{key:"trigger",value:function a(e){if(!this.callbacks[e.type])return null;for(var t=[].concat((0,s["default"])(this.callbacks[e.type])),n=[],r=t.length-1;0<=r;r--){var i=t[r];try{i(e)}catch(o){n.push(o)}}return n.length&&console.error("Draggable caught errors while triggering '"+e.type+"'",n),this}}]),e}();t["default"]=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(59));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function g(e){return e.detail}function v(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var y=r(n(18)),b=r(n(1)),_=r(n(0)),S=n(17),i=n(43),w=r(n(60)),C=n(42),E=n(44),k=n(45),x=Symbol("onDragStart"),T=Symbol("onDragMove"),O=Symbol("onDragStop"),A=Symbol("onDragPressure"),P={"drag:start":function a(e){return"Picked up "+(e.source.textContent.trim()||e.source.id||"draggable element")},"drag:stop":function s(e){return"Released "+(e.source.textContent.trim()||e.source.id||"draggable element")}},I={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},R=t.defaultOptions={draggable:".draggable-source",handle:null,delay:100,placedTimeout:800,plugins:[],sensors:[]},o=function(){function u(e,t){var n=this,r=0<arguments.length&&e!==undefined?arguments[0]:[document.body],i=1<arguments.length&&t!==undefined?arguments[1]:{};if((0,b["default"])(this,u),r instanceof NodeList||r instanceof Array)this.containers=[].concat((0,y["default"])(r));else{if(!(r instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[r]}this.options=Object.assign({},R,i,{classes:Object.assign({},I,i.classes||{}),announcements:Object.assign({},P,i.announcements||{})}),this.emitter=new w["default"],this.dragging=!1,this.plugins=[],this.sensors=[],this[x]=this[x].bind(this),this[T]=this[T].bind(this),this[O]=this[O].bind(this),this[A]=this[A].bind(this),document.addEventListener("drag:start",this[x],!0),document.addEventListener("drag:move",this[T],!0),document.addEventListener("drag:stop",this[O],!0),document.addEventListener("drag:pressure",this[A],!0);var o=Object.values(u.Plugins).map(function(e){return e}),a=[C.MouseSensor,C.TouchSensor];this.addPlugin.apply(this,[].concat((0,y["default"])(o),(0,y["default"])(this.options.plugins))),this.addSensor.apply(this,[].concat(a,(0,y["default"])(this.options.sensors)));var s=new E.DraggableInitializedEvent({draggable:this});this.on("mirror:created",function(e){var t=e.mirror;return n.mirror=t}),this.on("mirror:destroy",function(){return n.mirror=null}),this.trigger(s)}return(0,_["default"])(u,[{key:"destroy",value:function t(){document.removeEventListener("drag:start",this[x],!0),document.removeEventListener("drag:move",this[T],!0),document.removeEventListener("drag:stop",this[O],!0),document.removeEventListener("drag:pressure",this[A],!0);var e=new E.DraggableDestroyEvent({draggable:this});this.trigger(e),this.removePlugin.apply(this,(0,y["default"])(this.plugins.map(function(e){return e.constructor}))),this.removeSensor.apply(this,(0,y["default"])(this.sensors.map(function(e){return e.constructor})))}},{key:"addPlugin",value:function o(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.map(function(e){return new e(t)});return i.forEach(function(e){return e.attach()}),this.plugins=[].concat((0,y["default"])(this.plugins),(0,y["default"])(i)),this}},{key:"removePlugin",value:function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.plugins.filter(function(e){return t.includes(e.constructor)}).forEach(function(e){return e.detach()}),this.plugins=this.plugins.filter(function(e){return!t.includes(e.constructor)}),this}},{key:"addSensor",value:function a(){for(var t=this,e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.map(function(e){return new e(t.containers,t.options)});return i.forEach(function(e){return e.attach()}),this.sensors=[].concat((0,y["default"])(this.sensors),(0,y["default"])(i)),this}},{key:"removeSensor",value:function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.sensors.filter(function(e){return t.includes(e.constructor)}).forEach(function(e){return e.detach()}),this.sensors=this.sensors.filter(function(e){return!t.includes(e.constructor)}),this}},{key:"addContainer",value:function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.containers=[].concat((0,y["default"])(this.containers),t),this.sensors.forEach(function(e){return e.addContainer.apply(e,t)}),this}},{key:"removeContainer",value:function l(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.containers=this.containers.filter(function(e){return!t.includes(e)}),this.sensors.forEach(function(e){return e.removeContainer.apply(e,t)}),this}},{key:"on",value:function c(e){for(var t,n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.emitter).on.apply(t,[e].concat(r)),this}},{key:"off",value:function n(e,t){return this.emitter.off(e,t),this}},{key:"trigger",value:function d(e){return this.emitter.trigger(e),this}},{key:"getClassNameFor",value:function f(e){return this.options.classes[e]}},{key:"isDragging",value:function e(){return Boolean(this.dragging)}},{key:"getDraggableElements",value:function h(){var n=this;return this.containers.reduce(function(e,t){return[].concat((0,y["default"])(e),(0,y["default"])(n.getDraggableElementsForContainer(t)))},[])}},{key:"getDraggableElementsForContainer",value:function p(e){var t=this,n=e.querySelectorAll(this.options.draggable);return[].concat((0,y["default"])(n)).filter(function(e){return e!==t.originalSource&&e!==t.mirror})}},{key:x,value:function m(t){var n=this,e=g(t),r=e.target,i=e.container;if(this.containers.includes(i))if(this.options.handle&&r&&!(0,S.closest)(r,this.options.handle))e.cancel();else if(this.originalSource=(0,S.closest)(r,this.options.draggable),this.sourceContainer=i,this.originalSource){this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(this.getClassNameFor("source:placed")),this.lastPlacedContainer.classList.remove(this.getClassNameFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";var o=new k.DragStartEvent({source:this.source,
originalSource:this.originalSource,sourceContainer:i,sensorEvent:e});if(this.trigger(o),this.dragging=!o.canceled(),o.canceled())return this.source.parentNode.removeChild(this.source),void(this.originalSource.style.display=null);this.originalSource.classList.add(this.getClassNameFor("source:original")),this.source.classList.add(this.getClassNameFor("source:dragging")),this.sourceContainer.classList.add(this.getClassNameFor("container:dragging")),document.body.classList.add(this.getClassNameFor("body:dragging")),v(document.body,"none"),requestAnimationFrame(function(){var e=g(t).clone({target:n.source});n[T](Object.assign({},t,{detail:e}))})}else e.cancel()}},{key:T,value:function m(e){if(this.dragging){var t=g(e),n=t.container,r=t.target,i=new k.DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t});this.trigger(i),i.canceled()&&t.cancel(),r=(0,S.closest)(r,this.options.draggable);var o=(0,S.closest)(t.target,this.containers),a=t.overContainer||o,s=this.currentOverContainer&&a!==this.currentOverContainer,u=this.currentOver&&r!==this.currentOver,l=a&&this.currentOverContainer!==a,c=o&&r&&this.currentOver!==r;if(u){var d=new k.DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,over:this.currentOver});this.currentOver.classList.remove(this.getClassNameFor("draggable:over")),this.currentOver=null,this.trigger(d)}if(s){var f=new k.DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(this.getClassNameFor("container:over")),this.currentOverContainer=null,this.trigger(f)}if(l){a.classList.add(this.getClassNameFor("container:over"));var h=new k.DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a});this.currentOverContainer=a,this.trigger(h)}if(c){r.classList.add(this.getClassNameFor("draggable:over"));var p=new k.DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t,overContainer:a,over:r});this.currentOver=r,this.trigger(p)}}}},{key:O,value:function m(e){var t=this;if(this.dragging){this.dragging=!1;var n=new k.DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(n),this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.parentNode.removeChild(this.source),this.originalSource.style.display="",this.source.classList.remove(this.getClassNameFor("source:dragging")),this.originalSource.classList.remove(this.getClassNameFor("source:original")),this.originalSource.classList.add(this.getClassNameFor("source:placed")),this.sourceContainer.classList.add(this.getClassNameFor("container:placed")),this.sourceContainer.classList.remove(this.getClassNameFor("container:dragging")),document.body.classList.remove(this.getClassNameFor("body:dragging")),v(document.body,""),this.currentOver&&this.currentOver.classList.remove(this.getClassNameFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(this.getClassNameFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(function(){t.lastPlacedSource&&t.lastPlacedSource.classList.remove(t.getClassNameFor("source:placed")),t.lastPlacedContainer&&t.lastPlacedContainer.classList.remove(t.getClassNameFor("container:placed")),t.lastPlacedSource=null,t.lastPlacedContainer=null},this.options.placedTimeout),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}}},{key:A,value:function m(e){if(this.dragging){var t=g(e),n=this.source||(0,S.closest)(t.originalEvent.target,this.options.draggable),r=new k.DragPressureEvent({sensorEvent:t,source:n,pressure:t.pressure});this.trigger(r)}}}]),u}();o.Plugins={Announcement:i.Announcement,Focusable:i.Focusable,Mirror:i.Mirror,Scrollable:i.Scrollable},t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),l=r(n(0)),c=r(n(3)),d=r(n(2)),i=r(n(16)),f=n(15),h=Symbol("onMouseForceWillBegin"),p=Symbol("onMouseForceDown"),m=Symbol("onMouseDown"),g=Symbol("onMouseForceChange"),v=Symbol("onMouseMove"),y=Symbol("onMouseUp"),b=Symbol("onMouseForceGlobalChange"),o=function(e){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,a["default"])(this,o);var i=(0,c["default"])(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));return i.mightDrag=!1,i[h]=i[h].bind(i),i[p]=i[p].bind(i),i[m]=i[m].bind(i),i[g]=i[g].bind(i),i[v]=i[v].bind(i),i[y]=i[y].bind(i),i}return(0,d["default"])(o,e),(0,l["default"])(o,[{key:"attach",value:function s(){var e=!0,t=!1,n=undefined;try{for(var r,i=this.containers[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.addEventListener("webkitmouseforcewillbegin",this[h],!1),o.addEventListener("webkitmouseforcedown",this[p],!1),o.addEventListener("mousedown",this[m],!0),o.addEventListener("webkitmouseforcechanged",this[g],!1)}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}document.addEventListener("mousemove",this[v]),document.addEventListener("mouseup",this[y])}},{key:"detach",value:function u(){var e=!0,t=!1,n=undefined;try{for(var r,i=this.containers[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.removeEventListener("webkitmouseforcewillbegin",this[h],!1),o.removeEventListener("webkitmouseforcedown",this[p],!1),o.removeEventListener("mousedown",this[m],!0),o.removeEventListener("webkitmouseforcechanged",this[g],!1)}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}document.removeEventListener("mousemove",this[v]),document.removeEventListener("mouseup",this[y])}},{key:h,value:function i(e){e.preventDefault(),this.mightDrag=!0}},{key:p,value:function i(e){if(!this.dragging){var t=document.elementFromPoint(e.clientX,e.clientY),n=e.currentTarget,r=new f.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.currentContainer=n,this.dragging=!r.canceled(),this.mightDrag=!1}}},{key:y,value:function i(e){if(this.dragging){var t=new f.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:null,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,t),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1}}},{key:m,value:function i(e){this.mightDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}},{key:v,value:function i(e){if(this.dragging){var t=document.elementFromPoint(e.clientX,e.clientY),n=new f.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}}},{key:g,value:function i(e){if(!this.dragging){var t=e.target,n=e.currentTarget,r=new f.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r)}}},{key:b,value:function i(e){if(this.dragging){var t=e.target,n=new f.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}}}]),o}(i["default"]);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(62));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),s=r(n(0)),u=r(n(3)),l=r(n(2)),c=n(17),i=r(n(16)),d=n(15),f=Symbol("onMouseDown"),h=Symbol("onMouseUp"),p=Symbol("onDragStart"),m=Symbol("onDragOver"),g=Symbol("onDragEnd"),v=Symbol("onDrop"),y=Symbol("reset"),o=function(e){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,a["default"])(this,o);var i=(0,u["default"])(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));return i.mouseDownTimeout=null,i.draggableElement=null,i.nativeDraggableElement=null,i[f]=i[f].bind(i),i[h]=i[h].bind(i),i[p]=i[p].bind(i),i[m]=i[m].bind(i),i[g]=i[g].bind(i),i[v]=i[v].bind(i),i}return(0,l["default"])(o,e),(0,s["default"])(o,[{key:"attach",value:function t(){document.addEventListener("mousedown",this[f],!0)}},{key:"detach",value:function n(){document.removeEventListener("mousedown",this[f],!0)}},{key:p,value:function i(e){var t=this;e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed=this.options.type;var n=document.elementFromPoint(e.clientX,e.clientY);if(this.currentContainer=(0,c.closest)(e.target,this.containers),this.currentContainer){var r=new d.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:n,container:this.currentContainer,originalEvent:e});setTimeout(function(){t.trigger(t.currentContainer,r),r.canceled()?t.dragging=!1:t.dragging=!0},0)}}},{key:m,value:function i(e){if(this.dragging){var t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new d.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),r.canceled()||(e.preventDefault(),e.dataTransfer.dropEffect=this.options.type)}}},{key:g,value:function i(e){if(this.dragging){document.removeEventListener("mouseup",this[h],!0);var t=document.elementFromPoint(e.clientX,e.clientY),n=this.currentContainer,r=new d.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:n,originalEvent:e});this.trigger(n,r),this.dragging=!1,this[y]()}}},{key:v,value:function i(e){e.preventDefault()}},{key:f,value:function i(e){var t=this;if(!e.target||!e.target.form&&!e.target.contenteditable){var n=(0,c.closest)(e.target,function(e){return e.draggable});n&&(n.draggable=!1,this.nativeDraggableElement=n),document.addEventListener("mouseup",this[h],!0),document.addEventListener("dragstart",this[p],!1),document.addEventListener("dragover",this[m],!1),document.addEventListener("dragend",this[g],!1),document.addEventListener("drop",this[v],!1);var r=(0,c.closest)(e.target,this.options.draggable);r&&(this.mouseDownTimeout=setTimeout(function(){r.draggable=!0,t.draggableElement=r},this.options.delay))}}},{key:h,value:function i(){this[y]()}},{key:y,value:function i(){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[h],!0),document.removeEventListener("dragstart",this[p],!1),document.removeEventListener("dragover",this[m],!1),document.removeEventListener("dragend",this[g],!1),document.removeEventListener("drop",this[v],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}]),o}(i["default"]);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(64));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){e.preventDefault(),e.stopPropagation()}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(1)),u=r(n(0)),l=r(n(3)),c=r(n(2)),d=n(17),o=r(n(16)),f=n(15),h=Symbol("onTouchStart"),p=Symbol("onTouchHold"),m=Symbol("onTouchEnd"),g=Symbol("onTouchMove"),v=!1;window.addEventListener("touchmove",function(e){v&&e.preventDefault()},{passive:!1});var a=function(e){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,s["default"])(this,o);var i=(0,l["default"])(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));return i.currentScrollableParent=null,i.tapTimeout=null,i.touchMoved=!1,i[h]=i[h].bind(i),i[p]=i[p].bind(i),i[m]=i[m].bind(i),i[g]=i[g].bind(i),i}return(0,c["default"])(o,e),(0,u["default"])(o,[{key:"attach",value:function t(){document.addEventListener("touchstart",this[h])}},{key:"detach",value:function n(){document.removeEventListener("touchstart",this[h])}},{key:h,value:function a(e){var t=(0,d.closest)(e.target,this.containers);t&&(document.addEventListener("touchmove",this[g]),document.addEventListener("touchend",this[m]),document.addEventListener("touchcancel",this[m]),t.addEventListener("contextmenu",i),this.currentContainer=t,this.tapTimeout=setTimeout(this[p](e,t),this.options.delay))}},{key:p,value:function a(r,i){var o=this;return function(){if(!o.touchMoved){var e=r.touches[0]||r.changedTouches[0],t=r.target,n=new f.DragStartSensorEvent({clientX:e.pageX,clientY:e.pageY,target:t,container:i,originalEvent:r});o.trigger(i,n),o.dragging=!n.canceled(),v=o.dragging}}}},{key:g,value:function a(e){if(this.touchMoved=!0,this.dragging){var t=e.touches[0]||e.changedTouches[0],n=document.elementFromPoint(t.pageX-window.scrollX,t.pageY-window.scrollY),r=new f.DragMoveSensorEvent({clientX:t.pageX,clientY:t.pageY,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r)}}},{key:m,value:function a(e){if(this.touchMoved=!1,v=!1,document.removeEventListener("touchend",this[m]),document.removeEventListener("touchcancel",this[m]),document.removeEventListener("touchmove",this[g]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",i),clearTimeout(this.tapTimeout),this.dragging){var t=e.touches[0]||e.changedTouches[0],n=document.elementFromPoint(t.pageX-window.scrollX,t.pageY-window.scrollY);e.preventDefault();var r=new f.DragStopSensorEvent({clientX:t.pageX,clientY:t.pageY,target:n,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r),this.currentContainer=null,this.dragging=!1}}}]),o}(o["default"]);t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(66));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DragPressureSensorEvent=t.DragStopSensorEvent=t.DragMoveSensorEvent=t.DragStartSensorEvent=t.SensorEvent=undefined;var u=r(n(1)),l=r(n(0)),c=r(n(3)),d=r(n(2)),i=r(n(19)),o=t.SensorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"originalEvent",get:function n(){return this.data.originalEvent}},{key:"clientX",get:function r(){return this.data.clientX}},{key:"clientY",get:function i(){return this.data.clientY}},{key:"target",get:function o(){return this.data.target}},{key:"container",get:function a(){return this.data.container}},{key:"pressure",get:function s(){return this.data.pressure}}]),t}(i["default"]);(t.DragStartSensorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:start",(t.DragMoveSensorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:move",(t.DragStopSensorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:stop",(t.DragPressureSensorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:pressure"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0});var u=r(n(1)),i=r(n(0)),l=r(n(3)),c=r(n(2)),d=n(17),o=r(n(16)),f=n(15),h=Symbol("onContextMenuWhileDragging"),p=Symbol("onMouseDown"),m=Symbol("onMouseMove"),g=Symbol("onMouseUp"),a=function(e){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,u["default"])(this,o);var i=(0,l["default"])(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,r));return i.mouseDown=!1,i.mouseDownTimeout=null,i.openedContextMenu=!1,i[h]=i[h].bind(i),i[p]=i[p].bind(i),i[m]=i[m].bind(i),i[g]=i[g].bind(i),i}return(0,c["default"])(o,e),(0,i["default"])(o,[{key:"attach",value:function t(){document.addEventListener("mousedown",this[p],!0)}},{key:"detach",value:function n(){document.removeEventListener("mousedown",this[p],!0)}},{key:p,value:function a(t){var n=this;if(0===t.button&&!t.ctrlKey&&!t.metaKey){document.addEventListener("mouseup",this[g]);var r=document.elementFromPoint(t.clientX,t.clientY),i=(0,d.closest)(r,this.containers);i&&(document.addEventListener("dragstart",s),this.mouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(function(){if(n.mouseDown){var e=new f.DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:r,container:i,originalEvent:t});n.trigger(i,e),n.currentContainer=i,n.dragging=!e.canceled(),n.dragging&&(document.addEventListener("contextmenu",n[h]),document.addEventListener("mousemove",n[m]))}},this.options.delay))}}},{key:m,value:function a(e){if(this.dragging){var t=document.elementFromPoint(e.clientX,e.clientY),n=new f.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}}},{key:g,value:function a(e){if(this.mouseDown=Boolean(this.openedContextMenu),this.openedContextMenu)this.openedContextMenu=!1;else if(document.removeEventListener("mouseup",this[g]),document.removeEventListener("dragstart",s),this.dragging){var t=document.elementFromPoint(e.clientX,e.clientY),n=new f.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n),document.removeEventListener("contextmenu",this[h]),document.removeEventListener("mousemove",this[m]),this.currentContainer=null,this.dragging=!1}}},{key:h,value:function a(e){e.preventDefault(),this.openedContextMenu=!0}}]),o}(o["default"]);t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(69));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var s=r(n(18)),u=r(n(1)),l=r(n(0)),i=function(){function i(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,u["default"])(this,i),this.containers=[].concat((0,s["default"])(n)),this.options=Object.assign({},r),this.dragging=!1,this.currentContainer=null}return(0,l["default"])(i,[{key:"attach",value:function e(){return this}},{key:"detach",value:function t(){return this}},{key:"addContainer",value:function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.containers=[].concat((0,s["default"])(this.containers),t)}},{key:"removeContainer",value:function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.containers=this.containers.filter(function(e){return!t.includes(e)})}},{key:"trigger",value:function a(e,t){var n=document.createEvent("Event");return n.detail=t,n.initEvent(t.type,!0,!0),e.dispatchEvent(n),this.lastEvent=t}}]),i}();t["default"]=i},function(e,t){"use strict";function n(e){return requestAnimationFrame(function(){requestAnimationFrame(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e){return e?s?h.call(e,r):l?[].concat((0,f["default"])(o)).includes(e):c?a===e:u?i(e):null:e}if(!e)return null;var r=t,i=t,o=t,a=t,s=Boolean("string"==typeof t),u=Boolean("function"==typeof t),l=Boolean(t instanceof NodeList||t instanceof Array),c=Boolean(t instanceof HTMLElement),d=e;do{if(n(d=d.correspondingUseElement||d.correspondingElement||d))return d;d=d.parentNode}while(d&&d!==document.body&&d!==document);return null}Object.defineProperty(t,"__esModule",{value:!0});var f=r(n(18));t["default"]=i;var h=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=/(auto|scroll)/,n=getComputedStyle(e,null),r=n.getPropertyValue("overflow")+n.getPropertyValue("overflow-y")+n.getPropertyValue("overflow-x");return t.test(r)}function o(e){return"static"===getComputedStyle(e).getPropertyValue("position")}function s(e){if(!e)return g();var t=getComputedStyle(e).getPropertyValue("position"),n="absolute"===t,r=(0,f.closest)(e,function(e){return(!n||!o(e))&&i(e)});return"fixed"!==t&&r?r:g()}function g(){return document.scrollingElement||document.documentElement}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.scroll=t.onDragStop=t.onDragMove=t.onDragStart=undefined;var u=r(n(1)),l=r(n(0)),c=r(n(3)),d=r(n(2)),a=r(n(23)),f=n(17),h=t.onDragStart=Symbol("onDragStart"),p=t.onDragMove=Symbol("onDragMove"),v=t.onDragStop=Symbol("onDragStop"),y=t.scroll=Symbol("scroll"),b=t.defaultOptions={speed:6,sensitivity:50,scrollableElements:[]},m=function(e){function n(e){(0,u["default"])(this,n);var t=(0,c["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},b,t.getOptions()),t.currentMousePosition=null,t.scrollAnimationFrame=null,t.scrollableElement=null,t.findScrollableElementFrame=null,t[h]=t[h].bind(t),t[p]=t[p].bind(t),t[v]=t[v].bind(t),t[y]=t[y].bind(t),t}return(0,d["default"])(n,e),(0,l["default"])(n,[{key:"attach",value:function t(){this.draggable.on("drag:start",this[h]).on("drag:move",this[p]).on("drag:stop",this[v])}},{key:"detach",value:function r(){this.draggable.off("drag:start",this[h]).off("drag:move",this[p]).off("drag:stop",this[v])}},{key:"getOptions",value:function i(){return this.draggable.options.scrollable||{}}},{key:"getScrollableElement",value:function o(e){return this.hasDefinedScrollableElements()?(0,f.closest)(e,this.options.scrollableElements)||document.documentElement:s(e)}},{key:"hasDefinedScrollableElements",value:function a(){return Boolean(0!==this.options.scrollableElements.length)}},{key:h,value:function m(e){var t=this;this.findScrollableElementFrame=requestAnimationFrame(function(){t.scrollableElement=t.getScrollableElement(e.source)})}},{key:p,value:function m(e){var t=this;if(this.findScrollableElementFrame=requestAnimationFrame(function(){t.scrollableElement=t.getScrollableElement(e.sensorEvent.target)}),this.scrollableElement){var n=e.sensorEvent,r={x:0,y:0};"ontouchstart"in window&&(r.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:n.clientX-r.x,clientY:n.clientY-r.y},this.scrollAnimationFrame=requestAnimationFrame(this[y])}}},{key:v,value:function m(){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}},{key:y,value:function m(){if(this.scrollableElement&&this.currentMousePosition){cancelAnimationFrame(this.scrollAnimationFrame);var e=this.options,t=e.speed,n=e.sensitivity,r=this.scrollableElement.getBoundingClientRect(),i=r.bottom>window.innerHeight,o=r.top<0||i,a=g(),s=this.scrollableElement,u=this.currentMousePosition.clientX,l=this.currentMousePosition.clientY;if(s===document.body||s===document.documentElement||o){var c=window,d=c.innerHeight,f=c.innerWidth;l<n?a.scrollTop-=t:d-l<n&&(a.scrollTop+=t),u<n?a.scrollLeft-=t:f-u<n&&(a.scrollLeft+=t)}else{var h=s.offsetHeight,p=s.offsetWidth;r.top+h-l<n?s.scrollTop+=t:l-r.top<n&&(s.scrollTop-=t),r.left+p-u<n?s.scrollLeft+=t:u-r.left<n&&(s.scrollLeft-=t)}this.scrollAnimationFrame=requestAnimationFrame(this[y])}}}]),n}(a["default"]);t["default"]=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var i=n(76),o=r(i);t["default"]=o["default"],t.defaultOptions=i.defaultOptions},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.MirrorDestroyEvent=t.MirrorMoveEvent=t.MirrorAttachedEvent=t.MirrorCreatedEvent=t.MirrorCreateEvent=t.MirrorEvent=undefined;var u=r(n(1)),l=r(n(0)),c=r(n(3)),d=r(n(2)),i=r(n(19)),o=t.MirrorEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"source",get:function n(){return this.data.source}},{key:"originalSource",get:function r(){return this.data.originalSource}},{key:"sourceContainer",get:function i(){return this.data.sourceContainer}},{key:"sensorEvent",get:function o(){return this.data.sensorEvent}},{key:"dragEvent",get:function a(){return this.data.dragEvent}},{key:"originalEvent",get:function s(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}]),t}(i["default"]);(t.MirrorCreateEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="mirror:create",(t.MirrorCreatedEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"mirror",get:function n(){return this.data.mirror}}]),t}(o)).type="mirror:created",(t.MirrorAttachedEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"mirror",get:function n(){return this.data.mirror}}]),t}(o)).type="mirror:attached";var a=t.MirrorMoveEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"mirror",get:function n(){return this.data.mirror}}]),t}(o);a.type="mirror:move",a.cancelable=!0;var s=t.MirrorDestroyEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"mirror",get:function n(){return this.data.mirror}}]),t}(o);s.type="mirror:destroy",s.cancelable=!0},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(78);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var n=e.source,r=(0,v["default"])(e,["source"]);return m(function(e){var t=n.getBoundingClientRect();e(Object.assign({source:n,sourceRect:t},r))})}function c(e){var n=e.sensorEvent,r=e.sourceRect,i=e.options,o=(0,v["default"])(e,["sensorEvent","sourceRect","options"]);return m(function(e){var t={top:null===i.cursorOffsetY?n.clientY-r.top:i.cursorOffsetY,left:null===i.cursorOffsetX?n.clientX-r.left:i.cursorOffsetX};e(Object.assign({sensorEvent:n,sourceRect:r,mirrorOffset:t,options:i},o))})}function d(e){var i=e.mirror,o=e.source,a=e.options,s=(0,v["default"])(e,["mirror","source","options"]);return m(function(e){var t=void 0,n=void 0;if(a.constrainDimensions){var r=getComputedStyle(o);t=r.getPropertyValue("height"),n=r.getPropertyValue("width")}i.style.position="fixed",i.style.pointerEvents="none",i.style.top=0,i.style.left=0,i.style.margin=0,a.constrainDimensions&&(i.style.height=t,i.style.width=n),e(Object.assign({mirror:i,source:o,options:a},s))})}function f(e){var t=e.mirror,n=e.mirrorClass,r=(0,v["default"])(e,["mirror","mirrorClass"]);return m(function(e){t.classList.add(n),e(Object.assign({mirror:t,mirrorClass:n},r))})}function h(e){var t=e.mirror,n=(0,v["default"])(e,["mirror"]);return m(function(e){t.removeAttribute("id"),delete t.id,e(Object.assign({mirror:t},n))})}function p(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=t.withFrame,r=n!==undefined&&n,i=t.initial,f=i!==undefined&&i;return function(e){var i=e.mirror,o=e.sensorEvent,a=e.mirrorOffset,s=e.initialY,u=e.initialX,l=e.scrollOffset,c=e.options,d=(0,v["default"])(e,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options"]);return m(function(e){var t=Object.assign({mirror:i,sensorEvent:o,mirrorOffset:a,options:c},d);if(a){var n=o.clientX-a.left-l.x,r=o.clientY-a.top-l.y;c.xAxis&&c.yAxis||f?i.style.transform="translate3d("+n+"px, "+r+"px, 0)":c.xAxis&&!c.yAxis?i.style.transform="translate3d("+n+"px, "+s+"px, 0)":c.yAxis&&!c.xAxis&&(i.style.transform="translate3d("+u+"px, "+r+"px, 0)"),f&&(t.initialX=n,t.initialY=r)}e(t)},{frame:r})}}function m(n,e){var t=(1<arguments.length&&e!==undefined?arguments[1]:{}).raf,r=t!==undefined&&t;return new Promise(function(e,t){r?requestAnimationFrame(function(){n(e,t)}):n(e,t)})}function g(e){return/^drag/.test(e.originalEvent.type)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=t.getAppendableContainer=t.onScroll=t.onMirrorMove=t.onMirrorCreated=t.onDragStop=t.onDragMove=t.onDragStart=undefined;var v=r(n(80)),o=r(n(1)),a=r(n(0)),s=r(n(3)),y=r(n(2)),i=r(n(23)),b=n(79),_=t.onDragStart=Symbol("onDragStart"),S=t.onDragMove=Symbol("onDragMove"),w=t.onDragStop=Symbol("onDragStop"),C=t.onMirrorCreated=Symbol("onMirrorCreated"),E=t.onMirrorMove=Symbol("onMirrorMove"),k=t.onScroll=Symbol("onScroll"),x=t.getAppendableContainer=Symbol("getAppendableContainer"),T=t.defaultOptions={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null},l=function(e){function n(e){(0,o["default"])(this,n);var t=(0,s["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},T,t.getOptions()),t.scrollOffset={x:0,y:0},t.initialScrollOffset={x:window.scrollX,y:window.scrollY},t[_]=t[_].bind(t),t[S]=t[S].bind(t),t[w]=t[w].bind(t),t[C]=t[C].bind(t),t[E]=t[E].bind(t),t[k]=t[k].bind(t),t}return(0,y["default"])(n,e),(0,a["default"])(n,[{key:"attach",value:function t(){this.draggable.on("drag:start",this[_]).on("drag:move",this[S]).on("drag:stop",this[w]).on("mirror:created",this[C]).on("mirror:move",this[E])}},{key:"detach",value:function r(){this.draggable.off("drag:start",this[_]).off("drag:move",this[S]).off("drag:stop",this[w]).off("mirror:created",this[C]).off("mirror:move",this[E])}},{key:"getOptions",value:function i(){return this.draggable.options.mirror||{}}},{key:_,value:function l(e){if(!e.canceled()){"ontouchstart"in window&&document.addEventListener("scroll",this[k],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};var t=e.source,n=e.originalSource,r=e.sourceContainer,i=e.sensorEvent,o=new b.MirrorCreateEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:e});if(this.draggable.trigger(o),!g(i)&&!o.canceled()){var a=this[x](t)||r;this.mirror=t.cloneNode(!0);var s=new b.MirrorCreatedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:e,mirror:this.mirror}),u=new b.MirrorAttachedEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:e,mirror:this.mirror});this.draggable.trigger(s),
a.appendChild(this.mirror),this.draggable.trigger(u)}}}},{key:S,value:function l(e){if(this.mirror&&!e.canceled()){var t=e.source,n=e.originalSource,r=e.sourceContainer,i=e.sensorEvent,o=new b.MirrorMoveEvent({source:t,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:e,mirror:this.mirror});this.draggable.trigger(o)}}},{key:w,value:function l(e){if("ontouchstart"in window&&document.removeEventListener("scroll",this[k],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},this.mirror){var t=e.source,n=e.sourceContainer,r=e.sensorEvent,i=new b.MirrorDestroyEvent({source:t,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:e});this.draggable.trigger(i),i.canceled()||this.mirror.parentNode.removeChild(this.mirror)}}},{key:k,value:function l(){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}},{key:C,value:function l(e){var o=this,t=e.mirror,n=e.source,r=e.sensorEvent,i=this.draggable.getClassNameFor("mirror"),a=function a(e){var t=e.mirrorOffset,n=e.initialX,r=e.initialY,i=(0,v["default"])(e,["mirrorOffset","initialX","initialY"]);return o.mirrorOffset=t,o.initialX=n,o.initialY=r,Object.assign({mirrorOffset:t,initialX:n,initialY:r},i)},s={mirror:t,source:n,sensorEvent:r,mirrorClass:i,scrollOffset:this.scrollOffset,options:this.options};return Promise.resolve(s).then(u).then(c).then(d).then(f).then(p({initial:!0})).then(h).then(a)}},{key:E,value:function l(e){if(e.canceled())return null;var t={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset};return Promise.resolve(t).then(p({raf:!0}))}},{key:x,value:function l(e){var t=this.options.appendTo;return"string"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:"function"==typeof t?t(e):e.parentNode}}]),n}(i["default"]);t["default"]=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var i=n(81),o=r(i);t["default"]=o["default"],t.defaultOptions=i.defaultOptions},function(e,t,n){var o=n(5)("iterator"),a=!1;try{var r=[7][o]();r["return"]=function(){a=!0},Array.from(r,function(){throw 2})}catch(hd){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(hd){}return n}},function(e,t,n){var i=n(35),o=n(5)("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(hd){}};e.exports=function(e){var t,n,r;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(84),i=n(5)("iterator"),o=n(20);e.exports=n(4).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(6),i=n(21);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(20),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||o[i]===e)}},function(e,t,n){var o=n(13);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(hd){var i=e["return"];throw i!==undefined&&o(i.call(e)),hd}}},function(e,t,n){"use strict";var p=n(41),r=n(11),m=n(30),g=n(88),v=n(87),y=n(50),b=n(86),_=n(85);r(r.S+r.F*!n(83)(function(e){Array.from(e)}),"Array",{from:function S(e,t,n){var r,i,o,a,s=m(e),u="function"==typeof this?this:Array,l=arguments.length,c=1<l?t:undefined,d=c!==undefined,f=0,h=_(s);if(d&&(c=p(c,2<l?n:undefined,2)),h==undefined||u==Array&&v(h))for(i=new u(r=y(s.length));f<r;f++)b(i,f,d?c(s[f],f):s[f]);else for(a=h.call(s),i=new u;!(o=a.next()).done;f++)b(i,f,d?g(a,c,[o.value,f],!0):o.value);return i.length=f,i}})},function(e,t,n){n(54),n(89),e.exports=n(4).Array.from},function(e,t,n){e.exports={"default":n(90),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function s(e){Boolean(!e.getAttribute("tabindex")&&-1===e.tabIndex)&&(a.push(e),e.tabIndex=0)}function u(e){var t=a.indexOf(e);-1!==t&&(e.tabIndex=-1,a.splice(t,1))}Object.defineProperty(t,"__esModule",{value:!0});var l=r(n(18)),c=r(n(1)),d=r(n(0)),f=r(n(3)),h=r(n(2)),i=r(n(23)),p=Symbol("onInitialize"),m=Symbol("onDestroy"),g={},o=function(e){function n(e){(0,c["default"])(this,n);var t=(0,f["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},g,t.getOptions()),t[p]=t[p].bind(t),t[m]=t[m].bind(t),t}return(0,h["default"])(n,e),(0,d["default"])(n,[{key:"attach",value:function t(){this.draggable.on("draggable:initialize",this[p]).on("draggable:destroy",this[m])}},{key:"detach",value:function r(){this.draggable.off("draggable:initialize",this[p]).off("draggable:destroy",this[m])}},{key:"getOptions",value:function i(){return this.draggable.options.focusable||{}}},{key:"getElements",value:function o(){return[].concat((0,l["default"])(this.draggable.containers),(0,l["default"])(this.draggable.getDraggableElements()))}},{key:p,value:function a(){var e=this;requestAnimationFrame(function(){e.getElements().forEach(function(e){return s(e)})})}},{key:m,value:function a(){var e=this;requestAnimationFrame(function(){e.getElements().forEach(function(e){return u(e)})})}}]),n}(i["default"]);t["default"]=o;var a=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(92));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(0)),a=function(){function t(e){(0,i["default"])(this,t),this.draggable=e}return(0,o["default"])(t,[{key:"attach",value:function e(){throw new Error("Not Implemented")}},{key:"detach",value:function n(){throw new Error("Not Implemented")}}]),t}();t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){var n=t.expire,r=document.createElement("div");return r.textContent=e,S.appendChild(r),setTimeout(function(){S.removeChild(r)},n)}function i(){var e=document.createElement("div");return e.setAttribute("id","draggable-live-region"),e.setAttribute(m,"additions"),e.setAttribute(g,"true"),e.setAttribute(v,"assertive"),e.setAttribute(y,"log"),e.style.position="fixed",e.style.width="1px",e.style.height="1px",e.style.top="-1px",e.style.overflow="hidden",e}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var s=r(n(1)),u=r(n(0)),l=r(n(3)),c=r(n(2)),o=r(n(23)),d=Symbol("onInitialize"),f=Symbol("onDestroy"),h=Symbol("announceEvent"),p=Symbol("announceMessage"),m="aria-relevant",g="aria-atomic",v="aria-live",y="role",b=t.defaultOptions={expire:7e3},_=function(e){function n(e){(0,s["default"])(this,n);var t=(0,l["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},b,t.getOptions()),t.originalTriggerMethod=t.draggable.trigger,t[d]=t[d].bind(t),t[f]=t[f].bind(t),t}return(0,c["default"])(n,e),(0,u["default"])(n,[{key:"attach",value:function t(){this.draggable.on("draggable:initialize",this[d])}},{key:"detach",value:function r(){this.draggable.off("draggable:destroy",this[f])}},{key:"getOptions",value:function i(){return this.draggable.options.announcements||{}}},{key:h,value:function o(e){var t=this.options[e.type];t&&"string"==typeof t&&this[p](t),t&&"function"==typeof t&&this[p](t(e))}},{key:p,value:function o(e){a(e,{expire:this.options.expire})}},{key:d,value:function o(){var t=this;this.draggable.trigger=function(e){try{t[h](e)}finally{t.originalTriggerMethod.call(t.draggable,e)}}}},{key:f,value:function o(){this.draggable.trigger=this.originalTriggerMethod}}]),n}(o["default"]);t["default"]=_;var S=i();document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(S)})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var i=n(95),o=r(i);t["default"]=o["default"],t.defaultOptions=i.defaultOptions},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DraggableDestroyEvent=t.DraggableInitializedEvent=t.DraggableEvent=undefined;var i=r(n(1)),o=r(n(0)),a=r(n(3)),s=r(n(2)),u=r(n(19)),l=t.DraggableEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),(0,o["default"])(t,[{key:"draggable",get:function n(){return this.data.draggable}}]),t}(u["default"]);l.type="draggable",(t.DraggableInitializedEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),t}(l)).type="draggable:initialize",(t.DraggableDestroyEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),t}(l)).type="draggable:destroy"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.DragStopEvent=t.DragPressureEvent=t.DragOutContainerEvent=t.DragOverContainerEvent=t.DragOutEvent=t.DragOverEvent=t.DragMoveEvent=t.DragStartEvent=t.DragEvent=undefined;var u=r(n(1)),l=r(n(0)),c=r(n(3)),d=r(n(2)),i=r(n(19)),o=t.DragEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"source",get:function n(){return this.data.source}},{key:"originalSource",get:function r(){return this.data.originalSource}},{key:"mirror",get:function i(){return this.data.mirror}},{key:"sourceContainer",get:function o(){return this.data.sourceContainer}},{key:"sensorEvent",get:function a(){return this.data.sensorEvent}},{key:"originalEvent",get:function s(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}]),t}(i["default"]);o.type="drag";var a=t.DragStartEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o);a.type="drag:start",a.cancelable=!0,(t.DragMoveEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:move";var s=t.DragOverEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"overContainer",get:function n(){return this.data.overContainer}},{key:"over",get:function r(){return this.data.over}}]),t}(o);s.type="drag:over",s.cancelable=!0,(t.DragOutEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"overContainer",get:function n(){return this.data.overContainer}},{key:"over",get:function r(){return this.data.over}}]),t}(o)).type="drag:out",(t.DragOverContainerEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"overContainer",get:function n(){return this.data.overContainer}}]),t}(o)).type="drag:over:container",(t.DragOutContainerEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"overContainer",get:function n(){return this.data.overContainer}}]),t}(o)).type="drag:out:container",(t.DragPressureEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),(0,l["default"])(t,[{key:"pressure",get:function n(){return this.data.pressure}}]),t}(o)).type="drag:pressure",(t.DragStopEvent=function(e){function t(){return(0,u["default"])(this,t),(0,c["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,d["default"])(t,e),t}(o)).type="drag:stop"},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(45);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return i[e]}})});var o=t(44);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return o[e]}})});var a=t(43);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return a[e]}})});var s=t(42);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return s[e]}})});var u=r(t(61));n["default"]=u["default"]},function(e,t,n){var r=n(8),i=n(26).f;n(46)("getOwnPropertyDescriptor",function(){return function n(e,t){return i(r(e),t)}})},function(e,t,n){n(100);var r=n(4).Object;e.exports=function i(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){e.exports={"default":n(101),__esModule:!0}},function(e,t,n){var r=n(30),i=n(49);n(46)("getPrototypeOf",function(){return function t(e){return i(r(e))}})},function(e,t,n){n(103),e.exports=n(4).Object.getPrototypeOf},function(e,t,n){e.exports={"default":n(104),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var a=r(n(105)),s=r(n(102));t["default"]=function u(e,t,n){null===e&&(e=Function.prototype);var r=(0,s["default"])(e,t);if(r===undefined){var i=(0,a["default"])(e);return null===i?undefined:u(i,t,n)}if("value"in r)return r.value;var o=r.get;return o===undefined?undefined:o.call(n)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){var t=e.dragEvent,n=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){var r=t.over.textContent.trim()||t.over.id||"sortable element";return t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING?"Placed "+n+" after "+r:"Placed "+n+" before "+r}return"Placed "+n+" into a different container"}function o(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function f(e){var t=e.source,n=e.over,r=e.overContainer,i=!e.children.length,o=t.parentNode!==r,a=n&&!o;return i?s(t,r):a?u(t,n):o?l(t,n,r):null}function s(e,t){var n=e.parentNode;return t.appendChild(e),{oldContainer:n,newContainer:t}}function u(e,t){return o(e)<o(t)?e.parentNode.insertBefore(e,t.nextElementSibling):e.parentNode.insertBefore(e,t),{oldContainer:e.parentNode,newContainer:e.parentNode}}function l(e,t,n){var r=e.parentNode;return t?t.parentNode.insertBefore(e,t):n.appendChild(e),{oldContainer:r,newContainer:e.parentNode}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),c=r(n(0)),h=r(n(3)),p=r(n(106)),m=r(n(2)),d=r(n(99)),g=n(58),v=Symbol("onDragStart"),y=Symbol("onDragOverContainer"),b=Symbol("onDragOver"),_=Symbol("onDragStop"),S={"sortable:sorted":i},w=function(e){function o(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:[],r=1<arguments.length&&t!==undefined?arguments[1]:{};(0,a["default"])(this,o);var i=(0,h["default"])(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n,Object.assign({},r,{announcements:Object.assign({},S,r.announcements||{})})));return i.startIndex=null,i.startContainer=null,i[v]=i[v].bind(i),i[y]=i[y].bind(i),i[b]=i[b].bind(i),i[_]=i[_].bind(i),i.on("drag:start",i[v]).on("drag:over:container",i[y]).on("drag:over",i[b]).on("drag:stop",i[_]),i}return(0,m["default"])(o,e),(0,c["default"])(o,[{key:"destroy",value:function t(){(0,p["default"])(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"destroy",this).call(this),this.off("drag:start",this[v]).off("drag:over:container",this[y]).off("drag:over",this[b]).off("drag:stop",this[_])}},{key:"index",value:function n(e){return this.getDraggableElementsForContainer(e.parentNode).indexOf(e)}},{key:v,value:function d(e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);var t=new g.SortableStartEvent({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}},{key:y,value:function d(e){if(!e.canceled()){var t=e.source,n=e.over,r=e.overContainer,i=this.index(t),o=new g.SortableSortEvent({dragEvent:e,currentIndex:i,source:t,over:n});if(this.trigger(o),!o.canceled()){var a=f({source:t,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(a){var s=a.oldContainer,u=a.newContainer,l=this.index(e.source),c=new g.SortableSortedEvent({dragEvent:e,oldIndex:i,newIndex:l,oldContainer:s,newContainer:u});this.trigger(c)}}}}},{key:b,value:function d(e){if(e.over!==e.originalSource&&e.over!==e.source){var t=e.source,n=e.over,r=e.overContainer,i=this.index(t),o=new g.SortableSortEvent({dragEvent:e,currentIndex:i,source:t,over:n});if(this.trigger(o),!o.canceled()){var a=f({source:t,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(a){var s=a.oldContainer,u=a.newContainer,l=this.index(t),c=new g.SortableSortedEvent({dragEvent:e,oldIndex:i,newIndex:l,oldContainer:s,newContainer:u});this.trigger(c)}}}}},{key:_,value:function d(e){var t=new g.SortableStopEvent({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(t),this.startIndex=null,this.startContainer=null}}]),o}(d["default"]);t["default"]=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(1)),s=r(n(0)),u=Symbol("canceled"),i=function(){function t(e){(0,a["default"])(this,t),this[u]=!1,this.data=e}return(0,s["default"])(t,[{key:"cancel",value:function e(){this[u]=!0}},{key:"canceled",value:function n(){return Boolean(this[u])}},{key:"clone",value:function r(e){return new this.constructor(Object.assign({},this.data,e))}},{key:"type",get:function i(){return this.constructor.type}},{key:"cancelable",get:function o(){return this.constructor.cancelable}}]),t}();i.type="event",i.cancelable=!1,t["default"]=i},function(e,t,n){var r=n(11);r(r.S,"Object",{create:n(37)})},function(e,t,n){n(109);var r=n(4).Object;e.exports=function i(e,t){return r.create(e,t)}},function(e,t,n){e.exports={"default":n(110),__esModule:!0}},function(e,t,o){var n=o(12),r=o(13),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(41)(Function.call,o(26).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(hd){n=!0}return function i(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):undefined),check:a}},function(e,t,n){var r=n(11);r(r.S,"Object",{setPrototypeOf:n(112).set})},function(e,t,n){n(113),e.exports=n(4).Object.setPrototypeOf},function(e,t,n){e.exports={"default":n(114),__esModule:!0}},function(e,t,n){n(28)("observable")},function(e,t,n){n(28)("asyncIterator")},function(){},function(e,t,n){var r=n(8),i=n(47).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(hd){return a.slice()}};e.exports.f=function u(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(35);e.exports=Array.isArray||function i(e){return"Array"==r(e)}},function(e,t,n){var s=n(36),u=n(48),l=n(27);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=l.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(24)("meta"),i=n(12),o=n(9),a=n(6).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(22)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},h=function(e){return l&&p.NEED&&u(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},function(e,t,n){"use strict";var r=n(7),a=n(9),i=n(10),o=n(11),s=n(52),u=n(122).KEY,l=n(22),c=n(33),d=n(31),f=n(24),h=n(5),p=n(29),m=n(28),g=n(121),v=n(120),y=n(13),b=n(12),_=n(8),S=n(40),w=n(21),C=n(37),E=n(119),k=n(26),x=n(6),T=n(36),O=k.f,A=x.f,P=E.f,I=r.Symbol,R=r.JSON,N=R&&R.stringify,D="prototype",L=h("_hidden"),M=h("toPrimitive"),B={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),$=c("op-symbols"),U=Object[D],H="function"==typeof I,V=r.QObject,W=!V||!V[D]||!V[D].findChild,z=i&&l(function(){return 7!=C(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(U,t);r&&delete U[t],A(e,t,n),r&&e!==U&&A(U,t,r)}:A,q=function(e){var t=j[e]=C(I[D]);return t._k=e,t},G=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function oe(e,t,n){return e===U&&Y($,t,n),y(e),t=S(t,!0),y(n),a(j,t)?(n.enumerable?(a(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:w(0,!1)})):(a(e,L)||A(e,L,w(1,{})),e[L][t]=!0),z(e,t,n)):A(e,t,n)},X=function ae(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;i<o;)Y(e,n=r[i++],t[n]);return e},K=function se(e,t){return t===undefined?C(e):X(C(e),t)},J=function ue(e){var t=B.call(this,e=S(e,!0));return!(this===U&&a(j,e)&&!a($,e))&&(!(t||!a(this,e)||!a(j,e)||a(this,L)&&this[L][e])||t)},Q=function le(e,t){if(e=_(e),t=S(t,!0),e!==U||!a(j,t)||a($,t)){var n=O(e,t);return!n||!a(j,t)||a(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function ce(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)a(j,t=n[i++])||t==L||t==u||r.push(t);return r},ee=function de(e){for(var t,n=e===U,r=P(n?$:_(e)),i=[],o=0;r.length>o;)!a(j,t=r[o++])||n&&!a(U,t)||i.push(j[t]);return i};H||(s((I=function fe(e){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?e:undefined),n=function(e){this===U&&n.call($,e),a(this,L)&&a(this[L],t)&&(this[L][t]=!1),z(this,t,w(1,e))};return i&&W&&z(U,t,{configurable:!0,set:n}),q(t)})[D],"toString",function he(){return this._k}),k.f=Q,x.f=Y,n(47).f=E.f=Z,n(27).f=J,n(48).f=ee,i&&!n(25)&&s(U,"propertyIsEnumerable",J,!0),p.f=function(e){return q(h(e))}),o(o.G+o.W+o.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=T(h.store),ie=0;re.length>ie;)m(re[ie++]);o(o.S+o.F*!H,"Symbol",{"for":function(e){return a(F,e+="")?F[e]:F[e]=I(e)},keyFor:function pe(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!H,"Object",{create:K,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&o(o.S+o.F*(!H||l(function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function me(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||e!==undefined)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,N.apply(R,r)}}),I[D][M]||n(14)(I[D],M,I[D].valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){n(123),n(118),n(117),n(116),e.exports=n(4).Symbol},function(e,t,n){e.exports={"default":n(124),__esModule:!0}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e){e.exports=function(){}},function(e,t,n){"use strict";var r=n(127),i=n(126),o=n(20),a=n(8);e.exports=n(53)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(128);for(var r=n(7),i=n(14),o=n(20),a=n(5)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],d=c&&c.prototype;d&&!d[a]&&i(d,a,l),o[l]=o.Array}},function(e,t,n){var r=n(7).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(39),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var u=n(8),l=n(50),c=n(131);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=l(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(35);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(6),s=n(13),u=n(36);e.exports=n(10)?Object.defineProperties:function l(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){"use strict";var r=n(37),i=n(21),o=n(31),a={};n(14)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var u=n(39),l=n(38);e.exports=function(s){return function(e,t){var n,r,i=String(l(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":undefined:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){n(54),n(129),e.exports=n(29).f("iterator")},function(e,t,n){e.exports={"default":n(137),__esModule:!0}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(11);r(r.S+r.F*!n(10),"Object",{defineProperty:n(6).f})},function(e,t,n){n(140);var r=n(4).Object;e.exports=function i(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={"default":n(141),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SortableStopEvent=t.SortableSortedEvent=t.SortableSortEvent=t.SortableStartEvent=t.SortableEvent=undefined;var a=r(n(1)),s=r(n(0)),u=r(n(3)),l=r(n(2)),i=r(n(19)),o=t.SortableEvent=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"dragEvent",get:function n(){return this.data.dragEvent}}]),t}(i["default"]);o.type="sortable";var c=t.SortableStartEvent=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"startIndex",get:function n(){return this.data.startIndex}},{key:"startContainer",get:function r(){return this.data.startContainer}}]),t}(o);c.type="sortable:start",c.cancelable=!0;var d=t.SortableSortEvent=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"currentIndex",get:function n(){return this.data.currentIndex}},{key:"over",get:function r(){return this.data.oldIndex}},{key:"overContainer",get:function i(){return this.data.newIndex}}]),t}(o);d.type="sortable:sort",d.cancelable=!0,(t.SortableSortedEvent=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"oldIndex",get:function n(){return this.data.oldIndex}},{key:"newIndex",get:function r(){return this.data.newIndex}},{key:"oldContainer",get:function i(){return this.data.oldContainer}},{key:"newContainer",get:function o(){return this.data.newContainer}}]),t}(o)).type="sortable:sorted",(t.SortableStopEvent=function(e){function t(){return(0,a["default"])(this,t),(0,u["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l["default"])(t,e),(0,s["default"])(t,[{key:"oldIndex",get:function n(){return this.data.oldIndex}},{key:"newIndex",get:function r(){return this.data.newIndex}},{key:"oldContainer",get:function i(){return this.data.oldContainer}},{key:"newContainer",get:function o(){return this.data.newContainer}}]),t}(o)).type="sortable:stop"},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(58);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return i[e]}})});var o=r(t(107));n["default"]=o["default"]}])})}),st=e(function(n){!function r(e,t){n.exports=t()}(window,function(){return function(n){function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var r={};return i.m=n,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function n(){return e["default"]}:function r(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=112)}([function(e,t,n){var r=n(26)("wks"),i=n(18),o=n(3).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e){var t=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=t)},function(e,t,n){var r=n(12),i=n(49),o=n(33),a=Object.defineProperty;t.f=n(7)?Object.defineProperty:function s(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(hd){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(109));t["default"]=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i["default"])(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}()},function(e,t){"use strict";t.__esModule=!0,t["default"]=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){e.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(81)),o=r(n(77)),a=r(n(47));t["default"]=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,a["default"])(t)));e.prototype=(0,o["default"])(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i["default"]?(0,i["default"])(e,t):e.__proto__=t)}},function(e,t,n){var r=n(100),i=n(31);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}
t.__esModule=!0;var i=r(n(47));t["default"]=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i["default"])(t))&&"function"!=typeof t?e:t}},function(e){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(2),i=n(16);e.exports=n(7)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var m=n(3),g=n(1),v=n(34),y=n(13),b=n(6),_="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,l=e&S.P,c=e&S.B,d=e&S.W,f=s?g:g[t]||(g[t]={}),h=f[_],p=s?m:u?m[t]:(m[t]||{})[_];for(r in s&&(n=t),n)(i=!a&&p&&p[r]!==undefined)&&b(f,r)||(o=i?p[r]:n[r],f[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?v(o,m):d&&p[r]==o?function(r){var e=function(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)};return e[_]=r[_],e}(o):l&&"function"==typeof o?v(Function.call,o):o,l&&((f.virtual||(f.virtual={}))[r]=o,e&S.R&&h&&!h[r]&&y(h,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,e.exports=S},function(e){e.exports={}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(72));t["default"]=i["default"]},function(e){var t=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++t+n).toString(36))}},function(e){e.exports=!0},function(e){e.exports=function(e){try{return!!e()}catch(hd){return!0}}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(3),i=n(1),o=n(19),a=n(23),s=n(2).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){t.f=n(0)},function(e,t,n){var r=n(2).f,i=n(6),o=n(0)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(1),i=n(3),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=t!==undefined?t:{})})("versions",[]).push({version:r.version,mode:n(19)?"pure":"global",copyright:"\xa9 2018 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(26)("keys"),i=n(18);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,t,n){var r=n(43),i=n(25);e.exports=Object.keys||function o(e){return r(e,i)}},function(e,t,o){var r=o(12),i=o(101),a=o(25),s=o(27)("IE_PROTO"),u=function(){},l="prototype",c=function(){var e,t=o(48)("iframe"),n=a.length,r="<",i=">";for(t.style.display="none",o(97).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(r+"script"+i+"document.F=Object"+r+"/script"+i),e.close(),c=e.F;n--;)delete c[l][a[n]];return c()};e.exports=Object.create||function d(e,t){var n;return null!==e?(u[l]=r(e),n=new u,u[l]=null,n[s]=e):n=c(),t===undefined?n:i(n,t)}},function(e){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?n:t)(e)}},function(e,t,n){var i=n(11);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var o=n(106);e.exports=function(r,i,e){if(o(r),i===undefined)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(54);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(71);Object.defineProperty(t,"closest",{enumerable:!0,get:function a(){return r(i)["default"]}});var o=n(59);Object.defineProperty(t,"requestNextAnimationFrame",{enumerable:!0,get:function s(){return r(o)["default"]}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(74));t["default"]=i["default"]},function(e,t,n){var r=n(21),i=n(16),o=n(9),a=n(33),s=n(6),u=n(49),l=Object.getOwnPropertyDescriptor;t.f=n(7)?l:function c(e,t){if(e=o(e),t=a(t,!0),u)try{return l(e,t)}catch(hd){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(43),i=n(25).concat("length","prototype");t.f=Object.getOwnPropertyNames||function o(e){return r(e,i)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(31);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(32),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},function(e,t,n){var a=n(6),s=n(9),u=n(99)(!1),l=n(27)("IE_PROTO");e.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=l&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},function(e,t,n){e.exports=n(13)},function(e,t,n){"use strict";var _=n(19),S=n(14),w=n(44),C=n(13),E=n(15),k=n(102),x=n(24),T=n(96),O=n(0)("iterator"),A=!([].keys&&"next"in[].keys()),P="@@iterator",I="keys",R="values",N=function(){return this};e.exports=function(e,t,i,n,r,o,a){k(i,t,n);var s,u,l,c=function(e){if(!A&&e in p)return p[e];switch(e){case I:return function t(){return new i(this,e)};case R:return function n(){return new i(this,e)}}return function r(){return new i(this,e)}},d=t+" Iterator",f=r==R,h=!1,p=e.prototype,m=p[O]||p[P]||r&&p[r],g=m||c(r),v=r?f?c("entries"):g:undefined,y="Array"==t&&p.entries||m;if(y&&(l=T(y.call(new e)))!==Object.prototype&&l.next&&(x(l,d,!0),_||"function"==typeof l[O]||C(l,O,N)),f&&m&&m.name!==R&&(h=!0,g=function b(){return m.call(this)}),_&&!a||!A&&!h&&p[O]||C(p,O,g),E[t]=g,E[d]=N,r)if(s={values:f?g:c(R),keys:o?g:c(I),entries:v},a)for(u in s)u in p||w(p,u,s[u]);else S(S.P+S.F*(A||h),t,s);return s}},function(e,t,n){"use strict";var r=n(103)(!0);n(45)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:undefined,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(105)),o=r(n(91)),a="function"==typeof o["default"]&&"symbol"==typeof i["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof o["default"]&&e.constructor===o["default"]&&e!==o["default"].prototype?"symbol":typeof e};t["default"]="function"==typeof o["default"]&&"symbol"===a(i["default"])?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof o["default"]&&e.constructor===o["default"]&&e!==o["default"].prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,t,n){var r=n(11),i=n(3).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){e.exports=!n(7)&&!n(20)(function(){return 7!=Object.defineProperty(n(48)("div"),"a",{get:function(){return 7}}).a})},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t(110);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return r[e]}})})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(r,i,e){for(var o=e.duration,a=e.easingFunction,t=e.horizontal,n=[r,i],s=0;s<n.length;s++){n[s].style.pointerEvents="none"}if(t){var u=r.offsetWidth;r.style.transform="translate3d("+u+"px, 0, 0)",i.style.transform="translate3d(-"+u+"px, 0, 0)"}else{var l=r.offsetHeight;r.style.transform="translate3d(0, "+l+"px, 0)",i.style.transform="translate3d(0, -"+l+"px, 0)"}requestAnimationFrame(function(){for(var e=[r,i],t=0;t<e.length;t++){var n=e[t];n.addEventListener("transitionend",c),n.style.transition="transform "+o+"ms "+a,n.style.transform=""}})}function c(e){e.target.style.transition="",e.target.style.pointerEvents="",e.target.removeEventListener("transitionend",c)}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var o=r(n(5)),a=r(n(4)),l=r(n(10)),d=r(n(8)),i=r(n(17)),f=Symbol("onSortableSorted"),h=t.defaultOptions={duration:150,easingFunction:"ease-in-out",horizontal:!1},s=function(e){function n(e){(0,o["default"])(this,n);var t=(0,l["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},h,t.getOptions()),t.lastAnimationFrame=null,t[f]=t[f].bind(t),t}return(0,d["default"])(n,e),(0,a["default"])(n,[{key:"attach",value:function t(){this.draggable.on("sortable:sorted",this[f])}},{key:"detach",value:function r(){this.draggable.off("sortable:sorted",this[f])}},{key:"getOptions",value:function i(){return this.draggable.options.swapAnimation||{}}},{key:f,value:function s(e){var t=this,n=e.oldIndex,r=e.newIndex,i=e.dragEvent,o=i.source,a=i.over;cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(function(){r<=n?u(o,a,t.options):u(a,o,t.options)})}}]),n}(i["default"]);t["default"]=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var i=n(51),o=r(i);t["default"]=o["default"],t.defaultOptions=i.defaultOptions},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),a=r(n(4)),s=r(n(10)),u=r(n(8)),i=r(n(17)),l=n(35),c=Symbol("onDragStart"),d=Symbol("onDragStop"),f=Symbol("onDragOver"),h=Symbol("onDragOut"),p=Symbol("onMirrorCreated"),m=Symbol("onMirrorDestroy"),g=function(e){function n(e){(0,o["default"])(this,n);var t=(0,s["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.firstSource=null,t.mirror=null,t[c]=t[c].bind(t),t[d]=t[d].bind(t),t[f]=t[f].bind(t),t[h]=t[h].bind(t),t[p]=t[p].bind(t),t[m]=t[m].bind(t),t}return(0,u["default"])(n,e),(0,a["default"])(n,[{key:"attach",value:function t(){this.draggable.on("drag:start",this[c]).on("drag:stop",this[d]).on("drag:over",this[f]).on("drag:out",this[h]).on("droppable:over",this[f]).on("droppable:out",this[h]).on("mirror:created",this[p]).on("mirror:destroy",this[m])}},{key:"detach",value:function r(){this.draggable.off("drag:start",this[c]).off("drag:stop",this[d]).off("drag:over",this[f]).off("drag:out",this[h]).off("droppable:over",this[f]).off("droppable:out",this[h]).off("mirror:created",this[p]).off("mirror:destroy",this[m])}},{key:c,value:function i(e){e.canceled()||(this.firstSource=e.source)}},{key:d,value:function i(){this.firstSource=null}},{key:f,value:function i(e){var t=this;if(!e.canceled()){var n=e.source||e.dragEvent.source;if(n!==this.firstSource){var r=new l.SnapInEvent({dragEvent:e,snappable:e.over||e.droppable});this.draggable.trigger(r),r.canceled()||(this.mirror&&(this.mirror.style.display="none"),n.classList.remove(this.draggable.getClassNameFor("source:dragging")),n.classList.add(this.draggable.getClassNameFor("source:placed")),setTimeout(function(){n.classList.remove(t.draggable.getClassNameFor("source:placed"))},this.draggable.options.placedTimeout))}else this.firstSource=null}}},{key:h,value:function i(e){if(!e.canceled()){var t=e.source||e.dragEvent.source,n=new l.SnapOutEvent({dragEvent:e,snappable:e.over||e.droppable});this.draggable.trigger(n),n.canceled()||(this.mirror&&(this.mirror.style.display=""),t.classList.add(this.draggable.getClassNameFor("source:dragging")))}}},{key:p,value:function i(e){var t=e.mirror;this.mirror=t}},{key:m,value:function i(){this.mirror=null}}]),n}(i["default"]);t["default"]=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SnapOutEvent=t.SnapInEvent=t.SnapEvent=undefined;var i=r(n(5)),o=r(n(4)),a=r(n(10)),s=r(n(8)),u=r(n(37)),l=t.SnapEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),(0,o["default"])(t,[{key:"dragEvent",get:function n(){return this.data.dragEvent}},{key:"snappable",get:function r(){return this.data.snappable}}]),t}(u["default"]);l.type="snap";var c=t.SnapInEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),t}(l);c.type="snap:in",c.cancelable=!0;var d=t.SnapOutEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),t}(l);d.type="snap:out",d.cancelable=!0},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(35);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return i[e]}})});var o=r(t(53));n["default"]=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var a=r(n(5)),s=r(n(4)),u=r(n(10)),l=r(n(8)),i=r(n(17)),c=n(36),d=Symbol("onMirrorCreated"),f=Symbol("onMirrorDestroy"),h=Symbol("onDragOver"),p=Symbol("resize"),m=t.defaultOptions={},o=function(e){function n(e){(0,a["default"])(this,n);var t=(0,u["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.options=Object.assign({},m,t.getOptions()),t.lastWidth=0,t.lastHeight=0,t.mirror=null,t[d]=t[d].bind(t),t[f]=t[f].bind(t),t[h]=t[h].bind(t),t}return(0,l["default"])(n,e),(0,s["default"])(n,[{key:"attach",value:function t(){this.draggable.on("mirror:created",this[d]).on("drag:over",this[h]).on("drag:over:container",this[h])}},{key:"detach",value:function r(){this.draggable.off("mirror:created",this[d]).off("mirror:destroy",this[f]).off("drag:over",this[h]).off("drag:over:container",this[h])}},{key:"getOptions",value:function i(){return this.draggable.options.resizeMirror||{}}},{key:d,value:function o(e){var t=e.mirror;this.mirror=t}},{key:f,value:function o(){this.mirror=null}},{key:h,value:function o(e){this[p](e)}},{key:p,value:function o(e){var n=this,r=e.overContainer,i=e.over;requestAnimationFrame(function(){n.mirror.parentNode!==r&&r.appendChild(n.mirror);var t=i||n.draggable.getDraggableElementsForContainer(r)[0];t&&(0,c.requestNextAnimationFrame)(function(){var e=t.getBoundingClientRect();n.lastHeight===e.height&&n.lastWidth===e.width||(n.mirror.style.width=e.width+"px",n.mirror.style.height=e.height+"px",n.lastWidth=e.width,n.lastHeight=e.height)})})}}]),n}(i["default"]);t["default"]=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.defaultOptions=undefined;var i=n(56),o=r(i);t["default"]=o["default"],t.defaultOptions=i.defaultOptions},function(e,t){"use strict";function n(e){return requestAnimationFrame(function(){requestAnimationFrame(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(58));t["default"]=i["default"]},function(e,t,n){var o=n(0)("iterator"),a=!1;try{var r=[7][o]();r["return"]=function(){a=!0},Array.from(r,function(){throw 2})}catch(hd){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(hd){}return n}},function(e,t,n){var i=n(28),o=n(0)("toStringTag"),a="Arguments"==i(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(hd){}};e.exports=function(e){var t,n,r;return e===undefined?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(61),i=n(0)("iterator"),o=n(15);e.exports=n(1).getIteratorMethod=function(e){if(e!=undefined)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){"use strict";var r=n(2),i=n(16);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(15),i=n(0)("iterator"),o=Array.prototype;e.exports=function(e){return e!==undefined&&(r.Array===e||o[i]===e)}},function(e,t,n){var o=n(12);e.exports=function(e,t,n,r){try{return r?t(o(n)[0],n[1]):t(n)}catch(hd){var i=e["return"];throw i!==undefined&&o(i.call(e)),hd}}},function(e,t,n){"use strict";var p=n(34),r=n(14),m=n(41),g=n(65),v=n(64),y=n(42),b=n(63),_=n(62);r(r.S+r.F*!n(60)(function(e){Array.from(e)}),"Array",{from:function S(e,t,n){var r,i,o,a,s=m(e),u="function"==typeof this?this:Array,l=arguments.length,c=1<l?t:undefined,d=c!==undefined,f=0,h=_(s);if(d&&(c=p(c,2<l?n:undefined,2)),h==undefined||u==Array&&v(h))for(i=new u(r=y(s.length));f<r;f++)b(i,f,d?c(s[f],f):s[f]);else for(a=h.call(s),i=new u;!(o=a.next()).done;f++)b(i,f,d?g(a,c,[o.value,f],!0):o.value);return i.length=f,i}})},function(e,t,n){n(46),n(66),e.exports=n(1).Array.from},function(e,t,n){e.exports={"default":n(67),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=r(n(68));t["default"]=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i["default"])(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){function n(e){return e?s?h.call(e,r):l?[].concat((0,f["default"])(o)).includes(e):c?a===e:u?i(e):null:e}if(!e)return null;var r=t,i=t,o=t,a=t,s=Boolean("string"==typeof t),u=Boolean("function"==typeof t),l=Boolean(t instanceof NodeList||t instanceof Array),c=Boolean(t instanceof HTMLElement),d=e;do{if(n(d=d.correspondingUseElement||d.correspondingElement||d))return d;d=d.parentNode}while(d&&d!==document.body&&d!==document);return null}Object.defineProperty(t,"__esModule",{value:!0});var f=r(n(69));t["default"]=i;var h=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(70));t["default"]=i["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(5)),o=r(n(4)),a=function(){function t(e){(0,i["default"])(this,t),this.draggable=e}return(0,o["default"])(t,[{key:"attach",value:function e(){throw new Error("Not Implemented")}},{key:"detach",value:function n(){throw new Error("Not Implemented")}}]),t}();t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5)),s=r(n(4)),u=r(n(10)),l=r(n(8)),i=r(n(17)),c=n(36),d=n(50),f=Symbol("onDragMove"),h=Symbol("onDragStop"),p=Symbol("onRequestAnimationFrame"),a=function(e){function n(e){(0,o["default"])(this,n);var t=(0,u["default"])(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.currentlyCollidingElement=null,t.lastCollidingElement=null,t.currentAnimationFrame=null,t[f]=t[f].bind(t),t[h]=t[h].bind(t),t[p]=t[p].bind(t),t}return(0,l["default"])(n,e),(0,s["default"])(n,[{key:"attach",value:function t(){this.draggable.on("drag:move",this[f]).on("drag:stop",this[h])}},{key:"detach",value:function r(){this.draggable.off("drag:move",this[f]).off("drag:stop",this[h])}},{key:"getCollidables",value:function i(){var e=this.draggable.options.collidables;return"string"==typeof e?Array.prototype.slice.call(document.querySelectorAll(e)):e instanceof NodeList||e instanceof Array?Array.prototype.slice.call(e):e instanceof HTMLElement?[e]:"function"==typeof e?e():[]}},{key:f,value:function a(e){var t=e.sensorEvent.target;this.currentAnimationFrame=requestAnimationFrame(this[p](t)),this.currentlyCollidingElement&&e.cancel();var n=new d.CollidableInEvent({dragEvent:e,collidingElement:this.currentlyCollidingElement}),r=new d.CollidableOutEvent({dragEvent:e,collidingElement:this.lastCollidingElement}),i=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement),o=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);i?(this.lastCollidingElement&&this.draggable.trigger(r),this.draggable.trigger(n)):o&&this.draggable.trigger(r),this.lastCollidingElement=this.currentlyCollidingElement}},{key:h,value:function a(e){var t=this.currentlyCollidingElement||this.lastCollidingElement,n=new d.CollidableOutEvent({dragEvent:e,collidingElement:t});t&&this.draggable.trigger(n),this.lastCollidingElement=null,this.currentlyCollidingElement=null}},{key:p,value:function a(e){var n=this;return function(){var t=n.getCollidables();n.currentlyCollidingElement=(0,c.closest)(e,function(e){return t.includes(e)})}}}]),n}(i["default"]);t["default"]=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(n(5)),s=r(n(4)),u=Symbol("canceled"),i=function(){function t(e){(0,a["default"])(this,t),this[u]=!1,this.data=e}return(0,s["default"])(t,[{key:"cancel",value:function e(){this[u]=!0}},{key:"canceled",value:function n(){return Boolean(this[u])}},{key:"clone",value:function r(e){return new this.constructor(Object.assign({},this.data,e))}},{key:"type",get:function i(){return this.constructor.type}},{key:"cancelable",get:function o(){return this.constructor.cancelable}}]),t}();i.type="event",i.cancelable=!1,t["default"]=i},function(e,t,n){var r=n(14);r(r.S,"Object",{create:n(30)})},function(e,t,n){n(75);var r=n(1).Object;e.exports=function i(e,t){return r.create(e,t)}},function(e,t,n){e.exports={"default":n(76),__esModule:!0}},function(e,t,o){var n=o(11),r=o(12),a=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,n,r){try{(r=o(34)(Function.call,o(38).f(Object.prototype,"__proto__").set,2))(e,[]),n=!(e instanceof Array)}catch(hd){n=!0}return function i(e,t){return a(e,t),n?e.__proto__=t:r(e,t),e}}({},!1):undefined),check:a}},function(e,t,n){var r=n(14);r(r.S,"Object",{setPrototypeOf:n(78).set})},function(e,t,n){n(79),e.exports=n(1).Object.setPrototypeOf},function(e,t,n){e.exports={"default":n(80),__esModule:!0}},function(e,t,n){n(22)("observable")},function(e,t,n){n(22)("asyncIterator")},function(){},function(e,t,n){var r=n(9),i=n(39).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(hd){return a.slice()}};e.exports.f=function u(e){return a&&"[object Window]"==o.call(e)?s(e):i(r(e))}},function(e,t,n){var r=n(28);e.exports=Array.isArray||function i(e){return"Array"==r(e)}},function(e,t,n){var s=n(29),u=n(40),l=n(21);e.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=l.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},function(e,t,n){var r=n(18)("meta"),i=n(11),o=n(6),a=n(2).f,s=0,u=Object.isExtensible||function(){return!0},l=!n(20)(function(){return u(Object.preventExtensions({}))}),c=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[r].i},f=function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;c(e)}return e[r].w},h=function(e){return l&&p.NEED&&u(e)&&!o(e,r)&&c(e),e},p=e.exports={KEY:r,NEED:!1,fastKey:d,getWeak:f,onFreeze:h}},function(e,t,n){"use strict";var r=n(3),a=n(6),i=n(7),o=n(14),s=n(44),u=n(88).KEY,l=n(20),c=n(26),d=n(24),f=n(18),h=n(0),p=n(23),m=n(22),g=n(87),v=n(86),y=n(12),b=n(11),_=n(9),S=n(33),w=n(16),C=n(30),E=n(85),k=n(38),x=n(2),T=n(29),O=k.f,A=x.f,P=E.f,I=r.Symbol,R=r.JSON,N=R&&R.stringify,D="prototype",L=h("_hidden"),M=h("toPrimitive"),B={}.propertyIsEnumerable,F=c("symbol-registry"),j=c("symbols"),$=c("op-symbols"),U=Object[D],H="function"==typeof I,V=r.QObject,W=!V||!V[D]||!V[D].findChild,z=i&&l(function(){return 7!=C(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=O(U,t);r&&delete U[t],A(e,t,n),r&&e!==U&&A(U,t,r)}:A,q=function(e){var t=j[e]=C(I[D]);return t._k=e,t},G=H&&"symbol"==typeof I.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof I},Y=function oe(e,t,n){return e===U&&Y($,t,n),y(e),t=S(t,!0),y(n),a(j,t)?(n.enumerable?(a(e,L)&&e[L][t]&&(e[L][t]=!1),n=C(n,{enumerable:w(0,!1)})):(a(e,L)||A(e,L,w(1,{})),e[L][t]=!0),z(e,t,n)):A(e,t,n)},X=function ae(e,t){y(e);for(var n,r=g(t=_(t)),i=0,o=r.length;i<o;)Y(e,n=r[i++],t[n]);return e},K=function se(e,t){return t===undefined?C(e):X(C(e),t)},J=function ue(e){var t=B.call(this,e=S(e,!0));return!(this===U&&a(j,e)&&!a($,e))&&(!(t||!a(this,e)||!a(j,e)||a(this,L)&&this[L][e])||t)},Q=function le(e,t){if(e=_(e),t=S(t,!0),e!==U||!a(j,t)||a($,t)){var n=O(e,t);return!n||!a(j,t)||a(e,L)&&e[L][t]||(n.enumerable=!0),n}},Z=function ce(e){for(var t,n=P(_(e)),r=[],i=0;n.length>i;)a(j,t=n[i++])||t==L||t==u||r.push(t);return r},ee=function de(e){for(var t,n=e===U,r=P(n?$:_(e)),i=[],o=0;r.length>o;)!a(j,t=r[o++])||n&&!a(U,t)||i.push(j[t]);return i};H||(s((I=function fe(e){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(0<arguments.length?e:undefined),n=function(e){this===U&&n.call($,e),a(this,L)&&a(this[L],t)&&(this[L][t]=!1),z(this,t,w(1,e))};return i&&W&&z(U,t,{configurable:!0,set:n}),q(t)})[D],"toString",function he(){return this._k}),k.f=Q,x.f=Y,n(39).f=E.f=Z,n(21).f=J,n(40).f=ee,i&&!n(19)&&s(U,"propertyIsEnumerable",J,!0),p.f=function(e){return q(h(e))}),o(o.G+o.W+o.F*!H,{Symbol:I});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=T(h.store),ie=0;re.length>ie;)m(re[ie++]);o(o.S+o.F*!H,"Symbol",{"for":function(e){return a(F,e+="")?F[e]:F[e]=I(e)},keyFor:function pe(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){W=!0},useSimple:function(){W=!1}}),o(o.S+o.F*!H,"Object",{create:K,defineProperty:Y,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),R&&o(o.S+o.F*(!H||l(function(){var e=I();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function me(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||e!==undefined)&&!G(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,N.apply(R,r)}}),I[D][M]||n(13)(I[D],M,I[D].valueOf),d(I,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){n(89),n(84),n(83),n(82),e.exports=n(1).Symbol},function(e,t,n){e.exports={"default":n(90),__esModule:!0}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e){e.exports=function(){}},function(e,t,n){"use strict";var r=n(93),i=n(92),o=n(15),a=n(9);e.exports=n(45)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=undefined,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){n(94);for(var r=n(3),i=n(13),o=n(15),a=n(0)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var l=s[u],c=r[l],d=c&&c.prototype;d&&!d[a]&&i(d,a,l),o[l]=o.Array}},function(e,t,n){var r=n(6),i=n(41),o=n(27)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(32),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var u=n(9),l=n(42),c=n(98);e.exports=function(s){return function(e,t,n){var r,i=u(e),o=l(i.length),a=c(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},function(e,t,n){var r=n(28);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var a=n(2),s=n(12),u=n(29);e.exports=n(7)?Object.defineProperties:function l(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},function(e,t,n){"use strict";var r=n(30),i=n(16),o=n(24),a={};n(13)(a,n(0)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var u=n(32),l=n(31);e.exports=function(s){return function(e,t){var n,r,i=String(l(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":undefined:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},function(e,t,n){n(46),n(95),e.exports=n(23).f("iterator")},function(e,t,n){e.exports={"default":n(104),__esModule:!0}},function(e){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(14);r(r.S+r.F*!n(7),"Object",{defineProperty:n(2).f})},function(e,t,n){n(107);var r=n(1).Object;e.exports=function i(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){e.exports={"default":n(108),__esModule:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.CollidableOutEvent=t.CollidableInEvent=t.CollidableEvent=undefined;var i=r(n(5)),o=r(n(4)),a=r(n(10)),s=r(n(8)),u=r(n(37)),l=t.CollidableEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),(0,o["default"])(t,[{key:"dragEvent",get:function n(){return this.data.dragEvent}}]),t}(u["default"]);l.type="collidable",(t.CollidableInEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),(0,o["default"])(t,[{key:"collidingElement",get:function n(){return this.data.collidingElement}}]),t}(l)).type="collidable:in",(t.CollidableOutEvent=function(e){function t(){return(0,i["default"])(this,t),(0,a["default"])(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s["default"])(t,e),(0,o["default"])(t,[{key:"collidingElement",get:function n(){return this.data.collidingElement}}]),t}(l)).type="collidable:out"},function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var i=t(50);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function t(){return i[e]}})});var o=r(t(73));n["default"]=o["default"]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(111);Object.defineProperty(t,"Collidable",{enumerable:!0,get:function u(){return r(i)["default"]}});var o=n(57);Object.defineProperty(t,"ResizeMirror",{enumerable:!0,get:function l(){return r(o)["default"]}}),Object.defineProperty(t,"defaultResizeMirrorOptions",{enumerable:!0,get:function c(){
return o.defaultOptions}});var a=n(55);Object.defineProperty(t,"Snappable",{enumerable:!0,get:function d(){return r(a)["default"]}});var s=n(52);Object.defineProperty(t,"SwapAnimation",{enumerable:!0,get:function f(){return r(s)["default"]}}),Object.defineProperty(t,"defaultSwapAnimationOptions",{enumerable:!0,get:function h(){return s.defaultOptions}})}])})}),ut=e(function(t){!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):t.exports=e}(function(Le,Me){"use strict";function Be(e,t,n,r){for(var i=[],o=0;o<e.length;o++){var a=e[o];if(a){var s=tinycolor(a),u=s.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";u+=tinycolor.equals(t,a)?" sp-thumb-active":"";var l=s.toString(r.preferredFormat||"rgb"),c=qe?"background-color:"+s.toRgbString():"filter:"+s.toFilter();i.push('<span title="'+l+'" data-color="'+s.toRgbString()+'" class="'+u+'"><span class="sp-thumb-inner" style="'+c+';" /></span>')}else{var d="sp-clear-display";i.push(Le("<div />").append(Le('<span data-color="" style="background-color:transparent;" class="'+d+'"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+n+"'>"+i.join("")+"</div>"}function Fe(){for(var e=0;e<We.length;e++)We[e]&&We[e].hide()}function je(e,t){var n=Le.extend({},i,e);return n.callbacks={move:r(n.move,t),change:r(n.change,t),show:r(n.show,t),hide:r(n.hide,t),beforeShow:r(n.beforeShow,t)},n}function t(e,t){function r(){if(P.showPaletteOnly&&(P.showPalette=!0),_e.text(P.showPaletteOnly?P.togglePaletteMoreText:P.togglePaletteLessText),P.palette){X=P.palette.slice(0),K=Le.isArray(X[0])?X:[X],J={};for(var e=0;e<K.length;e++)for(var t=0;t<K[e].length;t++){var n=tinycolor(K[e][t]).toRgbString();J[n]=!0}}oe.toggleClass("sp-flat",I),oe.toggleClass("sp-input-disabled",!P.showInput),oe.toggleClass("sp-alpha-enabled",P.showAlpha),oe.toggleClass("sp-clear-enabled",Ne),oe.toggleClass("sp-buttons-disabled",!P.showButtons),oe.toggleClass("sp-palette-buttons-disabled",!P.togglePaletteOnly),oe.toggleClass("sp-palette-disabled",!P.showPalette),oe.toggleClass("sp-palette-only",P.showPaletteOnly),oe.toggleClass("sp-initial-disabled",!P.showInitial),oe.addClass(P.className).addClass(P.containerClassName),E()}function n(){function e(e){return e.data&&e.data.ignore?(v(Le(e.target).closest(".sp-thumb-el").data("color")),_()):(v(Le(e.target).closest(".sp-thumb-el").data("color")),_(),C(!0),P.hideAfterPaletteSelect&&m()),!1}if(ze&&oe.find("*:not(input)").attr("unselectable","on"),r(),Ce&&re.after(Ee).hide(),Ne||ye.hide(),I)re.after(oe).hide();else{var t="parent"===P.appendTo?re.parent():Le(P.appendTo);1!==t.length&&(t=Le("body")),t.append(oe)}i(),ke.bind("click.spectrum touchstart.spectrum",function(e){ie||f(),e.stopPropagation(),Le(e.target).is("input")||e.preventDefault()}),(re.is(":disabled")||!0===P.disabled)&&O(),oe.click(Ue),pe.change(d),pe.bind("paste",function(){setTimeout(d,1)}),pe.keydown(function(e){13==e.keyCode&&d()}),ve.text(P.cancelText),ve.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),g(),m()}),ye.attr("title",P.clearText),ye.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),Re=!0,_(),I&&C(!0)}),be.text(P.chooseText),be.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),ze&&pe.is(":focus")&&pe.trigger("change"),b()&&(C(!0),m())}),_e.text(P.showPaletteOnly?P.togglePaletteMoreText:P.togglePaletteLessText),_e.bind("click.spectrum",function(e){e.stopPropagation(),e.preventDefault(),P.showPaletteOnly=!P.showPaletteOnly,P.showPaletteOnly||I||oe.css("left","-="+(ae.outerWidth(!0)+5)),r()}),He(fe,function(e,t,n){Y=e/H,Re=!1,n.shiftKey&&(Y=Math.round(10*Y)/10),_()},s,u),He(le,function(e,t){z=parseFloat(t/U),Re=!1,P.showAlpha||(Y=1),_()},s,u),He(se,function(e,t,n){if(n.shiftKey){if(!te){var r=q*F,i=j-G*j,o=Math.abs(e-r)>Math.abs(t-i);te=o?"x":"y"}}else te=null;var a=!te||"y"===te;(!te||"x"===te)&&(q=parseFloat(e/F)),a&&(G=parseFloat((j-t)/j)),Re=!1,P.showAlpha||(Y=1),_()},s,u),Te?(v(Te),S(),Pe=Ae||tinycolor(Te).format,o(Te)):S(),I&&h();var n=ze?"mousedown.spectrum":"click.spectrum touchstart.spectrum";me.delegate(".sp-thumb-el",n,e),ge.delegate(".sp-thumb-el:nth-child(1)",n,{ignore:!0},e)}function i(){if(N&&window.localStorage){try{var e=window.localStorage[N].split(",#");1<e.length&&(delete window.localStorage[N],Le.each(e,function(e,t){o(t)}))}catch(hd){}try{Q=window.localStorage[N].split(";")}catch(hd){}}}function o(e){if(R){var t=tinycolor(e).toRgbString();if(!J[t]&&-1===Le.inArray(t,Q))for(Q.push(t);Q.length>Z;)Q.shift();if(N&&window.localStorage)try{window.localStorage[N]=Q.join(";")}catch(hd){}}}function a(){var e=[];if(P.showPalette)for(var t=0;t<Q.length;t++){var n=tinycolor(Q[t]).toRgbString();J[n]||e.push(Q[t])}return e.reverse().slice(0,P.maxSelectionSize)}function l(){var n=y(),e=Le.map(K,function(e,t){return Be(e,n,"sp-palette-row sp-palette-row-"+t,P)});i(),Q&&e.push(Be(a(),n,"sp-palette-row sp-palette-row-selection",P)),me.html(e.join(""))}function c(){if(P.showInitial){var e=Oe,t=y();ge.html(Be([e,t],t,"sp-palette-row-initial",P))}}function s(){(j<=0||F<=0||U<=0)&&E(),oe.addClass(ee),te=null,re.trigger("dragstart.spectrum",[y()])}function u(){oe.removeClass(ee),re.trigger("dragstop.spectrum",[y()])}function d(){var e=pe.val();if(null!==e&&""!==e||!Ne){var t=tinycolor(e);t.isValid()?(v(t),C(!0)):pe.addClass("sp-validation-error")}else v(null),C(!0)}function f(){B?m():h()}function h(){var e=Le.Event("beforeShow.spectrum");B?E():(re.trigger(e,[y()]),!1===L.beforeShow(y())||e.isDefaultPrevented()||(Fe(),B=!0,Le(ne).bind("click.spectrum",p),Le(window).bind("resize.spectrum",M),Ee.addClass("sp-active"),oe.removeClass("sp-hidden"),E(),S(),Oe=y(),c(),L.show(Oe),re.trigger("show.spectrum",[Oe])))}function p(e){2!=e.button&&(Ie?C(!0):g(),m())}function m(){B&&!I&&(B=!1,Le(ne).unbind("click.spectrum",p),Le(window).unbind("resize.spectrum",M),Ee.removeClass("sp-active"),oe.addClass("sp-hidden"),L.hide(y()),re.trigger("hide.spectrum",[y()]))}function g(){v(Oe,!0)}function v(e,t){var n,r;tinycolor.equals(e,y())?S():(!e&&Ne?Re=!0:(Re=!1,r=(n=tinycolor(e)).toHsv(),z=r.h%360/360,q=r.s,G=r.v,Y=r.a),S(),n&&n.isValid()&&!t&&(Pe=Ae||n.getFormat()))}function y(e){return e=e||{},Ne&&Re?null:tinycolor.fromRatio({h:z,s:q,v:G,a:Math.round(100*Y)/100},{format:e.format||Pe})}function b(){return!pe.hasClass("sp-validation-error")}function _(){S(),L.move(y()),re.trigger("move.spectrum",[y()])}function S(){pe.removeClass("sp-validation-error"),w();var e=tinycolor.fromRatio({h:z,s:1,v:1});se.css("background-color",e.toHexString());var t=Pe;Y<1&&(0!==Y||"name"!==t)&&("hex"!==t&&"hex3"!==t&&"hex6"!==t&&"name"!==t||(t="rgb"));var n=y({format:t}),r="";if(xe.removeClass("sp-clear-display"),xe.css("background-color","transparent"),!n&&Ne)xe.addClass("sp-clear-display");else{var i=n.toHexString(),o=n.toRgbString();if(qe||1===n.alpha?xe.css("background-color",o):(xe.css("background-color","transparent"),xe.css("filter",n.toFilter())),P.showAlpha){var a=n.toRgb();a.a=0;var s=tinycolor(a).toRgbString(),u="linear-gradient(left, "+s+", "+i+")";ze?de.css("filter",tinycolor(s).toFilter({gradientType:1},i)):(de.css("background","-webkit-"+u),de.css("background","-moz-"+u),de.css("background","-ms-"+u),de.css("background","linear-gradient(to right, "+s+", "+i+")"))}r=n.toString(t)}P.showInput&&pe.val(r),P.showPalette&&l(),c()}function w(){var e=q,t=G;if(Ne&&Re)he.hide(),ce.hide(),ue.hide();else{he.show(),ce.show(),ue.show();var n=e*F,r=j-t*j;n=Math.max(-$,Math.min(F-$,n-$)),r=Math.max(-$,Math.min(j-$,r-$)),ue.css({top:r+"px",left:n+"px"});var i=Y*H;he.css({left:i-V/2+"px"});var o=z*U;ce.css({top:o-W+"px"})}}function C(e){var t=y(),n="",r=!tinycolor.equals(t,Oe);t&&(n=t.toString(Pe),o(t)),Se&&re.val(n),e&&r&&(L.change(t),re.trigger("change",[t]))}function E(){F=se.width(),j=se.height(),$=ue.height(),le.width(),U=le.height(),W=ce.height(),H=fe.width(),V=he.width(),I||(oe.css("position","absolute"),P.offset?oe.offset(P.offset):oe.offset($e(oe,ke))),w(),P.showPalette&&l(),re.trigger("reflow.spectrum")}function k(){re.show(),ke.unbind("click.spectrum touchstart.spectrum"),oe.remove(),Ee.remove(),We[De.id]=null}function x(e,t){return e===Me?Le.extend({},P):t===Me?P[e]:(P[e]=t,void r())}function T(){ie=!1,re.attr("disabled",!1),ke.removeClass("sp-disabled")}function O(){m(),ie=!0,re.attr("disabled",!0),ke.addClass("sp-disabled")}function A(e){P.offset=e,E()}var P=je(t,e),I=P.flat,R=P.showSelectionPalette,N=P.localStorageKey,D=P.theme,L=P.callbacks,M=Ve(E,10),B=!1,F=0,j=0,$=0,U=0,H=0,V=0,W=0,z=0,q=0,G=0,Y=1,X=[],K=[],J={},Q=P.selectionPalette.slice(0),Z=P.maxSelectionSize,ee="sp-dragging",te=null,ne=e.ownerDocument,re=(ne.body,Le(e)),ie=!1,oe=Le(Xe,ne).addClass(D),ae=oe.find(".sp-picker-container"),se=oe.find(".sp-color"),ue=oe.find(".sp-dragger"),le=oe.find(".sp-hue"),ce=oe.find(".sp-slider"),de=oe.find(".sp-alpha-inner"),fe=oe.find(".sp-alpha"),he=oe.find(".sp-alpha-handle"),pe=oe.find(".sp-input"),me=oe.find(".sp-palette"),ge=oe.find(".sp-initial"),ve=oe.find(".sp-cancel"),ye=oe.find(".sp-clear"),be=oe.find(".sp-choose"),_e=oe.find(".sp-palette-toggle"),Se=re.is("input"),we=Se&&Ge&&"color"===re.attr("type"),Ce=Se&&!I,Ee=Ce?Le(Ye).addClass(D).addClass(P.className).addClass(P.replacerClassName):Le([]),ke=Ce?Ee:re,xe=Ee.find(".sp-preview-inner"),Te=P.color||Se&&re.val(),Oe=!1,Ae=P.preferredFormat,Pe=Ae,Ie=!P.showButtons||P.clickoutFiresChange,Re=!Te,Ne=P.allowEmpty&&!we;n();var De={show:h,hide:m,toggle:f,reflow:E,option:x,enable:T,disable:O,offset:A,set:function(e){v(e),C()},get:y,destroy:k,container:oe};return De.id=We.push(De)-1,De}function $e(e,t){var n=0,r=e.outerWidth(),i=e.outerHeight(),o=t.outerHeight(),a=e[0].ownerDocument,s=a.documentElement,u=s.clientWidth+Le(a).scrollLeft(),l=s.clientHeight+Le(a).scrollTop(),c=t.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+r>u&&r<u?Math.abs(c.left+r-u):0),c.top-=Math.min(c.top,c.top+i>l&&i<l?Math.abs(i+o-n):n),c}function e(){}function Ue(e){e.stopPropagation()}function r(e,t){var n=Array.prototype.slice,r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}function He(a,s,t,e){function u(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function n(e){if(d){if(ze&&c.documentMode<9&&!e.button)return l();var t=e.originalEvent&&e.originalEvent.touches,n=t?t[0].pageX:e.pageX,r=t?t[0].pageY:e.pageY,i=Math.max(0,Math.min(n-f.left,p)),o=Math.max(0,Math.min(r-f.top,h));m&&u(e),s.apply(a,[i,o,e])}}function r(e){(e.which?3==e.which:2==e.button)||d||!1!==t.apply(a,arguments)&&(d=!0,h=Le(a).height(),p=Le(a).width(),f=Le(a).offset(),Le(c).bind(i),Le(c.body).addClass("sp-dragging"),m||n(e),u(e))}function l(){d&&(Le(c).unbind(i),Le(c.body).removeClass("sp-dragging"),e.apply(a,arguments)),d=!1}s=s||function(){},t=t||function(){},e=e||function(){};var c=document,d=!1,f={},h=0,p=0,m="ontouchstart"in window,i={};i.selectstart=u,i.dragstart=u,i["touchmove mousemove"]=n,i["touchend mouseup"]=l,Le(a).bind("touchstart mousedown",r)}function Ve(r,i,o){var a;return function(){var e=this,t=arguments,n=function(){a=null,r.apply(e,t)};o&&clearTimeout(a),!o&&a||(a=setTimeout(n,i))}}var n,i={beforeShow:e,move:e,change:e,show:e,hide:e,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!1,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},We=[],ze=!!/msie/i.exec(window.navigator.userAgent),qe=function(){function e(e,t){return!!~(""+e).indexOf(t)}var t=document.createElement("div").style;return t.cssText="background-color:rgba(0,0,0,.5)",e(t.backgroundColor,"rgba")||e(t.backgroundColor,"hsla")}(),Ge="color"===(n=Le("<input type='color' value='!' />")[0]).type&&"!"!==n.value,Ye=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),Xe=function(){var e="";if(ze)for(var t=1;t<=6;t++)e+="<div class='sp-"+t+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",e,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),o="spectrum.id";Le.fn.spectrum=function(n){if("string"!=typeof n)return this.spectrum("destroy").each(function(){var e=t(this,Le.extend({},n,Le(this).data()));Le(this).data(o,e.id)});var r=this,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=We[Le(this).data(o)];if(e){var t=e[n];if(!t)throw new Error("Spectrum: no such method: '"+n+"'");"get"==n?r=e.get():"container"==n?r=e.container:"option"==n?r=e.option.apply(e,i):"destroy"==n?(e.destroy(),Le(this).removeData(o)):t.apply(e,i)}}),r},Le.fn.spectrum.load=!0,Le.fn.spectrum.loadOpts={},Le.fn.spectrum.draggable=He,Le.fn.spectrum.defaults=i,Le.spectrum={},Le.spectrum.localization={},Le.spectrum.palettes={},Le.fn.spectrum.processNativeColorInputs=function(){Ge||Le("input[type=color]").spectrum({preferredFormat:"hex6"})},function(){function r(e){var t={r:0,g:0,b:0},n=1,r=!1,i=!1;return"string"==typeof e&&(e=R(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(t=o(e.r,e.g,e.b),r=!0,i="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=A(e.s),e.v=A(e.v),t=u(e.h,e.s,e.v),r=!0,i="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=A(e.s),e.l=A(e.l),t=a(e.h,e.s,e.l),r=!0,i="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=w(n),{ok:r,format:e.format||i,r:F(255,j(t.r,0)),g:F(255,j(t.g,0)),b:F(255,j(t.b,0)),a:n}}function o(e,t,n){return{r:255*C(e,255),g:255*C(t,255),b:255*C(n,255)}}function i(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=j(e,t,n),a=F(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var u=o-a;switch(i=.5<s?u/(2-o-a):u/(o+a),o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,l:s}}function a(e,t,n){function r(e,t,n){return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var i,o,a;if(e=C(e,360),t=C(t,100),n=C(n,100),0===t)i=o=a=n;else{var s=n<.5?n*(1+t):n+t-n*t,u=2*n-s;i=r(u,s,e+1/3),o=r(u,s,e),a=r(u,s,e-1/3)}return{r:255*i,g:255*o,b:255*a}}function s(e,t,n){e=C(e,255),t=C(t,255),n=C(n,255);var r,i,o=j(e,t,n),a=F(e,t,n),s=o,u=o-a;if(i=0===o?0:u/o,o==a)r=0;else{switch(o){case e:r=(t-n)/u+(t<n?6:0);break;case t:r=(n-e)/u+2;break;case n:r=(e-t)/u+4}r/=6}return{h:r,s:i,v:s}}function u(e,t,n){e=6*C(e,360),t=C(t,100),n=C(n,100);var r=M.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),u=r%6;return{r:255*[n,a,o,o,s,n][u],g:255*[s,n,n,a,o,o][u],b:255*[o,o,s,n,n,a][u]}}function t(e,t,n,r){var i=[O(B(e).toString(16)),O(B(t).toString(16)),O(B(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function l(e,t,n,r){return[O(P(r)),O(B(e).toString(16)),O(B(t).toString(16)),O(B(n).toString(16))].join("")}function e(e,t){t=0===t?0:t||10;var n=U(e).toHsl();return n.s-=t/100,n.s=E(n.s),U(n)}function n(e,t){t=0===t?0:t||10;var n=U(e).toHsl();return n.s+=t/100,n.s=E(n.s),U(n)}function c(e){return U(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var n=U(e).toHsl();return n.l+=t/100,n.l=E(n.l),U(n)}function f(e,t){t=0===t?0:t||10;var n=U(e).toRgb();return n.r=j(0,F(255,n.r-B(-t/100*255))),n.g=j(0,F(255,n.g-B(-t/100*255))),n.b=j(0,F(255,n.b-B(-t/100*255))),U(n)}function h(e,t){t=0===t?0:t||10;var n=U(e).toHsl();return n.l-=t/100,n.l=E(n.l),U(n)}function p(e,t){var n=U(e).toHsl(),r=(B(n.h)+t)%360;return n.h=r<0?360+r:r,U(n)}function m(e){var t=U(e).toHsl();return t.h=(t.h+180)%360,U(t)}function g(e){var t=U(e).toHsl(),n=t.h;return[U(e),U({h:(n+120)%360,s:t.s,l:t.l}),U({h:(n+240)%360,s:t.s,l:t.l})]}function v(e){var t=U(e).toHsl(),n=t.h;return[U(e),U({h:(n+90)%360,s:t.s,l:t.l}),U({h:(n+180)%360,s:t.s,l:t.l}),U({h:(n+270)%360,s:t.s,l:t.l})]}function y(e){var t=U(e).toHsl(),n=t.h;return[U(e),U({h:(n+72)%360,s:t.s,l:t.l}),U({h:(n+216)%360,s:t.s,l:t.l})]}function b(e,t,n){t=t||6,n=n||30;var r=U(e).toHsl(),i=360/n,o=[U(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(U(r));return o}function _(e,t){t=t||6;for(var n=U(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(U({h:r,s:i,v:o})),o=(o+s)%1;return a}function S(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function w(e){return e=parseFloat(e),(isNaN(e)||e<0||1<e)&&(e=1),e}function C(e,t){x(e)&&(e="100%");var n=T(e);return e=F(t,j(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),M.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return F(1,j(0,e))}function k(e){return parseInt(e,16)}function x(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function T(e){return"string"==typeof e&&-1!=e.indexOf("%")}function O(e){return 1==e.length?"0"+e:""+e}function A(e){return e<=1&&(e=100*e+"%"),e}function P(e){return Math.round(255*parseFloat(e)).toString(16)}function I(e){return k(e)/255}function R(e){e=e.replace(N,"").replace(D,"").toLowerCase();var t,n=!1;if(z[e])e=z[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=G.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=G.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=G.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=G.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=G.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=G.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=G.hex8.exec(e))?{a:I(t[1]),r:k(t[2]),g:k(t[3]),b:k(t[4]),format:n?"name":"hex8"}:(t=G.hex6.exec(e))?{r:k(t[1]),g:k(t[2]),b:k(t[3]),format:n?"name":"hex"}:!!(t=G.hex3.exec(e))&&{r:k(t[1]+""+t[1]),g:k(t[2]+""+t[2]),b:k(t[3]+""+t[3]),format:n?"name":"hex"}}var N=/^[\s,#]+/,D=/\s+$/,L=0,M=Math,B=M.round,F=M.min,j=M.max,$=M.random,U=function(e,t){if(t=t||{},(e=e||"")instanceof U)return e;if(!(this instanceof U))return new U(e,t);var n=r(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=B(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=B(this._r)),this._g<1&&(this._g=B(this._g)),this._b<1&&(this._b=B(this._b)),this._ok=n.ok,this._tc_id=L++};U.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=w(e),this._roundA=B(100*this._a)/100,this},toHsv:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s(this._r,this._g,this._b),t=B(360*e.h),n=B(100*e.s),r=B(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=i(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=i(this._r,this._g,this._b),t=B(360*e.h),n=B(100*e.s),r=B(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return t(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return l(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:B(this._r),g:B(this._g),b:B(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+B(this._r)+", "+B(this._g)+", "+B(this._b)+")":"rgba("+B(this._r)+", "+B(this._g)+", "+B(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:B(100*C(this._r,255))+"%",g:B(100*C(this._g,255))+"%",b:B(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+B(100*C(this._r,255))+"%, "+B(100*C(this._g,255))+"%, "+B(100*C(this._b,255))+"%)":"rgba("+B(100*C(this._r,255))+"%, "+B(100*C(this._g,255))+"%, "+B(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(q[t(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+l(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";e&&(n=U(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&0<=this._a;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(f,arguments)},darken:function(){return this._applyModification(h,arguments)},desaturate:function(){return this._applyModification(e,arguments)},saturate:function(){return this._applyModification(n,arguments)},greyscale:function(){return this._applyModification(c,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(_,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},U.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:A(e[r]));e=n}return U(e,t)},U.equals=function(e,t){return!(!e||!t)&&U(e).toRgbString()==U(t).toRgbString()},U.random=function(){return U.fromRatio({r:$(),g:$(),b:$()})},U.mix=function(e,t,n){n=0===n?0:n||50;var r,i=U(e).toRgb(),o=U(t).toRgb(),a=n/100,s=2*a-1,u=o.a-i.a,l=1-(r=((r=s*u==-1?s:(s+u)/(1+s*u))+1)/2),c={r:o.r*r+i.r*l,g:o.g*r+i.g*l,b:o.b*r+i.b*l,a:o.a*a+i.a*(1-a)};return U(c)},U.readability=function(e,t){var n=U(e),r=U(t),i=n.toRgb(),o=r.toRgb(),a=n.getBrightness(),s=r.getBrightness(),u=Math.max(i.r,o.r)-Math.min(i.r,o.r)+Math.max(i.g,o.g)-Math.min(i.g,o.g)+Math.max(i.b,o.b)-Math.min(i.b,o.b);return{brightness:Math.abs(a-s),color:u}},U.isReadable=function(e,t){var n=U.readability(e,t);return 125<n.brightness&&500<n.color},U.mostReadable=function(e,t){for(var n=null,r=0,i=!1,o=0;o<t.length;o++){var a=U.readability(e,t[o]),s=125<a.brightness&&500<a.color,u=a.brightness/125*3+a.color/500;(s&&!i||s&&i&&r<u||!s&&!i&&r<u)&&(i=s,r=u,n=U(t[o]))}return n};var H,V,W,z=U.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},q=U.hexNames=S(z),G=(V="[\\s|\\(]+("+(H="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",W="[\\s|\\(]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")[,|\\s]+("+H+")\\s*\\)?",{rgb:new RegExp("rgb"+V),rgba:new RegExp("rgba"+W),hsl:new RegExp("hsl"+V),hsla:new RegExp("hsla"+W),hsv:new RegExp("hsv"+V),hsva:new RegExp("hsva"+W),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=U}(),Le(function(){Le.fn.spectrum.load&&Le.fn.spectrum.processNativeColorInputs()})})}),lt=(e(function(){"use strict";window.$=window.jQuery=$,window._=rt,window.NProgress=it,window.Twine=ot,window.Sortable=at["default"],window.DraggablePlugins=st,ut(window.jQuery),window.UI={}}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SPACING=t.AUTOCOMPLETE_MAX_SIZE=t.DEFAULT_OPTION_NAMES=t.config=undefined;var n=se($),r=(0,n["default"])("meta[name='shopify-admin-context']").attr("content");r&&n["default"].extend(t,JSON.parse(r));var i=(0,n["default"])("meta[name='shopify-admin-config']").attr("content")||"{}";(t.config=JSON.parse(i)).rte_content_css_path="//cdn.shopify.com/s/assets/admin/rte-iframe-fb212d824a99da27f67b9067a9c6ad2685c6875679a3142827af700513948de8.css";t.DEFAULT_OPTION_NAMES=["Size","Color","Material","Style","Title"],t.AUTOCOMPLETE_MAX_SIZE=50,t.DEFAULT_SPACING=20;window.Shopify=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(o){return function a(){for(var e="",t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];s["default"].isObject(s["default"].last(n))&&(e="?"+u["default"].param(n.pop()));var i=n.reduce(function(e,t,n){return e.replace(":"+(n+1),t)},o);if(-1!==i.indexOf(":"))throw new Error("Path '"+i+"' is expecting more arguments");return{html:""+i+e,json:i+".json"+e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.settings_generate_pin=t.fraud_analysis_engagement_events_track=t.fraud_protect=t.feature_feedbacks=t.register_ups_carrier=t.shipping_labels_printing=t.complete_shipping_label_purchase=t.shipping_label=t.shipping_labels=t.url_settings=t.editor_stylesheets=t.create_from_burst_admin_images_path=t.admin_image=t.admin_images=t.billing_action=t.customer_upload_parameters=t.customer_timeline_comments=t.draft_order_upload_parameters=t.draft_order_timeline_comments=t.inventory_transfer_upload_parameters=t.inventory_transfer_timeline_comments=t.order_upload_parameters=t.order_timeline_comments=t.preview_email_template=t.device_attributes=t.inventory_transfers_new=t.inventory_transfers_product_browser_resources=t.inventory_transfers=t.inventory_transfer=t.carrier_service_rates=t.logout=t.your_profile=t.settings_files_update_image=t.auth_login=t.auth_token=t.argus_token=t.theme_preview=t.theme_editor_preset=t.theme_editor_save=t.theme_editor_override=t.theme_editor_section_panels=t.theme_editor_new_section_panel=t.settings_pos=t.settings_online_store=t.settings_sales_channels=t.settings_files=t.settings_gift_cards=t.settings_billing=t.settings_account=t.settings_domain_status=t.settings_verify_domain_eligibility=t.settings_start_auth_code_check=t.settings_domain_prepare_for_transfer_in=t.settings_domain_transfer_eligibility=t.settings_domain_transfer_in=t.settings_domain_subscriptions_update_registrar_info=t.settings_domain_subscriptions_update_domain_contact=t.settings_domain_subscriptions_email_forwards=t.settings_domain_subscriptions_resend_email=t.settings_domain_subscriptions_update_verification_status=t.settings_domain_subscriptions_add_subdomain=t.settings_domain_subscriptions_auto_renew=t.settings_domains_reset_record=t.settings_domains_delete_email_forward_modal=t.settings_domains_reset_dns_record_modal=t.settings_domains_update_dns_record_modal=t.settings_domains_delete_dns_record_modal=t.settings_domains_delete_dns_record=t.settings_domains_update_dns_record=t.settings_domains_create_dns_record=t.settings_domains_update_domain_contact=t.settings_domains_prepare_domain_connect_activation=t.settings_domains_domain_details=undefined,
t.settings_domains_dns_status=t.settings_domains_initiate_verification_status=t.settings_domains_domain_subscription_status=t.settings_domains_pending_domain_dns_status=t.settings_domains_verify_domain_dns=t.settings_domains_create_domain_subscription=t.settings_domains_registration_status=t.settings_domains_domain_availability=t.complete_domain_connect_activation_settings_domains=t.ssl_onboarding_settings_domains=t.settings_domains=t.settings_notifications_email_sender=t.settings_notifications_toggle=t.settings_notifications=t.settings_taxes=t.settings_shipping_edit_byoa_carrier=t.settings_shipping_authorize_admin_settings_shipping_byoa_carrier_service=t.settings_shipping_register_and_create_byoa_carrier=t.settings_shipping_carrier_service_available_services=t.settings_shipping=t.settings_checkout=t.settings_payments=t.settings_general=t.settings=t.price_rule_upload_parameters=t.price_rule_timeline_comments=t.draft_order_product_browser_resources=t.draft_orders=t.draft_order=t.new_blog=t.new_page=t.new_article=t.new_collection=t.new_draft_order=t.new_discount=t.new_product=t.next_page_gift_cards=t.next_page_customers=t.next_page_inventory_transfers=t.next_page_draft_orders=t.next_page_checkouts=t.next_page_products=t.next_page_orders=t.gift_card=t.gift_cards=t.app=t.apps=t.pos_locations=t.pos=t.theme_publish=t.theme=t.themes=t.menu_object_details=t.menu_validate_changes=t.menu_apply_changes=t.menus=t.menu=t.redirects=t.link_lists=t.prev_page_gift_cards=t.prev_page_customers=t.prev_page_inventory_transfers=t.prev_page_draft_orders=t.prev_page_checkouts=t.prev_page_products=t.prev_page_orders=t.bulk_update=t.bulk=t.pages=t.articles=t.dashboards=t.finances=t.reports=t.analytics=t.collections=t.product_images=t.create_multiple_product_images=t.update_product_image=t.reorder_product_images=t.attach_image_product_variant=t.reorder_product_options=t.product_variant=t.checkout=t.checkouts=t.product=t.products_transfers=t.products_inventory=t.products=t.discounts=t.new_customer=t.customer=t.customers=t.pay_outstanding_invoices=t.cancel_label=t.fetch_rates_shopify_shipping=t.create_order_address=t.update_order_address=t.order=t.orders=t.root=undefined;var s=se(_),u=se($);t.root=n("/admin"),t.orders=n("/admin/orders"),t.order=n("/admin/orders/:1"),t.update_order_address=n("/admin/orders/:1/update_address"),t.create_order_address=n("/admin/orders/:1/create_address"),t.fetch_rates_shopify_shipping=n("/admin/shopify-shipping/fetch_rates"),t.cancel_label=n("/admin/orders/:1/shipping_labels/:2/cancel"),t.pay_outstanding_invoices=n("/admin/settings/account/invoices/pay_outstanding"),t.customers=n("/admin/customers"),t.customer=n("/admin/customers/:1"),t.new_customer=n("/admin/customers/new"),t.discounts=n("/admin/discounts"),t.products=n("/admin/products"),t.products_inventory=n("/admin/products/inventory"),t.products_transfers=n("/admin/transfers"),t.product=n("/admin/products/:1"),t.checkouts=n("/admin/checkouts"),t.checkout=n("/admin/checkouts/:1"),t.product_variant=n("/admin/products/:1/variants/:2"),t.reorder_product_options=n("/admin/products/:1/options/reorder"),t.attach_image_product_variant=n("/admin/products/:1/variants/:2/attach_image"),t.reorder_product_images=n("/admin/products/:1/images/reorder"),t.update_product_image=n("/admin/products/:1/images/:2"),t.create_multiple_product_images=n("/admin/products/:1/images/create_multiple"),t.product_images=n("/admin/products/:1/images"),t.collections=n("/admin/collections"),t.analytics=n("/admin/dashboards"),t.reports=n("/admin/reports"),t.finances=n("/admin/reports/finances"),t.dashboards=n("/admin/dashboards"),t.articles=n("/admin/articles"),t.pages=n("/admin/pages"),t.bulk=n("/admin/bulk"),t.bulk_update=n("/admin/bulk/update"),t.prev_page_orders=n("/admin/orders/prev_page"),t.prev_page_products=n("/admin/products/prev_page"),t.prev_page_checkouts=n("/admin/checkouts/prev_page"),t.prev_page_draft_orders=n("/admin/draft_orders/prev_page"),t.prev_page_inventory_transfers=n("/admin/transfers/prev_page"),t.prev_page_customers=n("/admin/customers/prev_page"),t.prev_page_gift_cards=n("/admin/gift_cards/prev_page"),t.link_lists=n("/admin/link_lists"),t.redirects=n("/admin/redirects"),t.menu=n("/admin/menus/:1"),t.menus=n("/admin/menus"),t.menu_apply_changes=n("/admin/menus/apply_changes"),t.menu_validate_changes=n("/admin/menus/validate_changes"),t.menu_object_details=n("/admin/menus/linked_object_details"),t.themes=n("/admin/themes"),t.theme=n("/admin/themes/:1"),t.theme_publish=n("/admin/themes/:1/publish"),t.pos=n("/admin/settings/locations"),t.pos_locations=n("/admin/settings/locations"),t.apps=n("/admin/apps"),t.app=n("/admin/apps/:1"),t.gift_cards=n("/admin/gift_cards"),t.gift_card=n("/admin/gift_cards/:1"),t.next_page_orders=n("/admin/orders/next_page"),t.next_page_products=n("/admin/products/next_page"),t.next_page_checkouts=n("/admin/checkouts/next_page"),t.next_page_draft_orders=n("/admin/draft_orders/next_page"),t.next_page_inventory_transfers=n("/admin/transfers/next_page"),t.next_page_customers=n("/admin/customers/next_page"),t.next_page_gift_cards=n("/admin/gift_cards/next_page"),t.new_product=n("/admin/products/new"),t.new_discount=n("/admin/discounts/new"),t.new_draft_order=n("/admin/draft_orders/new"),t.new_collection=n("/admin/collections/new"),t.new_article=n("/admin/articles/new"),t.new_page=n("/admin/pages/new"),t.new_blog=n("/admin/blogs/new"),t.draft_order=n("/admin/draft_orders/:1"),t.draft_orders=n("/admin/draft_orders"),t.draft_order_product_browser_resources=n("/admin/draft_orders/product_browser_resources"),t.price_rule_timeline_comments=n("/admin/price_rules/:1/timeline_comments"),t.price_rule_upload_parameters=n("/admin/price_rules/:1/timeline_comments/upload_parameters"),t.settings=n("/admin/settings"),t.settings_general=n("/admin/settings/general"),t.settings_payments=n("/admin/settings/payments"),t.settings_checkout=n("/admin/settings/checkout"),t.settings_shipping=n("/admin/settings/shipping"),t.settings_shipping_carrier_service_available_services=n("/admin/settings/shipping/carrier_services/:1/available_services_for_countries"),t.settings_shipping_register_and_create_byoa_carrier=n("/admin/settings/shipping/byoa_carrier_services/register_and_create"),t.settings_shipping_authorize_admin_settings_shipping_byoa_carrier_service=n("/admin/settings/shipping/byoa_carrier_services/:1/authorize"),t.settings_shipping_edit_byoa_carrier=n("/admin/settings/shipping/byoa_carrier_services/:1/update_carrier_account"),t.settings_taxes=n("/admin/settings/taxes"),t.settings_notifications=n("/admin/settings/notifications"),t.settings_notifications_toggle=n("/admin/settings/notifications/:1/toggle"),t.settings_notifications_email_sender=n("/admin/settings/notifications/email_sender"),t.settings_domains=n("/admin/settings/domains"),t.ssl_onboarding_settings_domains=n("/admin/settings/domains?ssl_onboarding=true"),t.complete_domain_connect_activation_settings_domains=n("/admin/settings/domains/complete_domain_connect_activation"),t.settings_domains_domain_availability=n("/admin/settings/domains/buy/domain-availability"),t.settings_domains_registration_status=n("/admin/settings/domains/registration_status"),t.settings_domains_create_domain_subscription=n("/admin/settings/domains/create_domain_subscription"),t.settings_domains_verify_domain_dns=n("/admin/settings/domains/verify_domain_dns"),t.settings_domains_pending_domain_dns_status=n("/admin/settings/domains/pending_domain_dns_status"),t.settings_domains_domain_subscription_status=n("/admin/settings/domains/domain_subscription_status"),t.settings_domains_initiate_verification_status=n("/admin/settings/domains/initiate_verification_status"),t.settings_domains_dns_status=n("/admin/settings/domains/dns_status"),t.settings_domains_domain_details=n("/admin/settings/domains/domain_details"),t.settings_domains_prepare_domain_connect_activation=n("/admin/settings/domains/prepare_domain_connect_activation"),t.settings_domains_update_domain_contact=n("/admin/settings/domains/update_domain_contact"),t.settings_domains_create_dns_record=n("/admin/settings/domains/:1/dns"),t.settings_domains_update_dns_record=n("/admin/settings/domains/:1/dns/:2"),t.settings_domains_delete_dns_record=n("/admin/settings/domains/:1/dns/:2"),t.settings_domains_delete_dns_record_modal=n("/admin/settings/domains/:1/dns/:2/delete_dns_modal"),t.settings_domains_update_dns_record_modal=n("/admin/settings/domains/:1/dns/:2/update_dns_modal"),t.settings_domains_reset_dns_record_modal=n("/admin/settings/domains/:1/dns/:2/reset_dns_modal"),t.settings_domains_delete_email_forward_modal=n("/admin/settings/domain_subscriptions/:1/email_forwards/:2/delete_email_forward_modal"),t.settings_domains_reset_record=n("/admin/settings/domains/:1/dns/:2/reset_record"),t.settings_domain_subscriptions_auto_renew=n("/admin/settings/domain_subscriptions/:1/auto_renew"),t.settings_domain_subscriptions_add_subdomain=n("/admin/settings/domain_subscriptions/:1/add_subdomain"),t.settings_domain_subscriptions_update_verification_status=n("/admin/settings/domain_subscriptions/:1/update_verification_status"),t.settings_domain_subscriptions_resend_email=n("/admin/settings/domain_subscriptions/:1/send_verification_email"),t.settings_domain_subscriptions_email_forwards=n("/admin/settings/domain_subscriptions/:1/email_forwards"),t.settings_domain_subscriptions_update_domain_contact=n("/admin/settings/domain_subscriptions/:1/update_domain_contact"),t.settings_domain_subscriptions_update_registrar_info=n("/admin/settings/domain_subscriptions/:1/update_registrar_info"),t.settings_domain_transfer_in=n("/admin/settings/domains/transfer_in"),t.settings_domain_transfer_eligibility=n("/admin/settings/domains/transfer_in/domain_transfer_eligibility"),t.settings_domain_prepare_for_transfer_in=n("/admin/settings/domains/transfer_in/prepare_for_transfer"),t.settings_start_auth_code_check=n("/admin/settings/domains/transfer_in/start_auth_code_check"),t.settings_verify_domain_eligibility=n("/admin/settings/domains/transfer_in/verify_domain_eligibility"),t.settings_domain_status=n("/admin/settings/domains/transfer_in/domain_status"),t.settings_account=n("/admin/settings/account"),t.settings_billing=n("/admin/settings/billing"),t.settings_gift_cards=n("/admin/settings/gift_cards"),t.settings_files=n("/admin/settings/files"),t.settings_sales_channels=n("/admin/settings/channels"),t.settings_online_store=n("/admin/online_store/preferences"),t.settings_pos=n("/admin/pos/preferences"),t.theme_editor_new_section_panel=n("/admin/themes/:1/editor/new_section_panel"),t.theme_editor_section_panels=n("/admin/themes/:1/editor/section_panels"),t.theme_editor_override=n("/admin/themes/:1/editor/override"),t.theme_editor_save=n("/admin/themes/:1/editor/update_current"),t.theme_editor_preset=n("/admin/themes/:1/presets"),t.theme_preview=n("/admin/themes/:1/preview"),t.argus_token=n("/admin/argus/token"),t.auth_token=n("/admin/auth/token"),t.auth_login=n("/admin/auth/login"),t.settings_files_update_image=n("/admin/settings/files/update_image"),t.your_profile=n("/admin/settings/account/:1"),t.logout=n("/admin/auth/logout"),t.carrier_service_rates=n("/admin/settings/shipping/carrier_services/:1/rates"),t.inventory_transfer=n("/admin/transfers/:1"),t.inventory_transfers=n("/admin/transfers"),t.inventory_transfers_product_browser_resources=n("/admin/transfers/product_browser_resources"),t.inventory_transfers_new=n("/admin/transfers/new"),t.device_attributes=n("/admin/device_attributes"),t.preview_email_template=n("/admin/customers/:1/invite_preview"),t.order_timeline_comments=n("/admin/orders/:1/timeline_comments"),t.order_upload_parameters=n("/admin/orders/:1/timeline_comments/upload_parameters"),t.inventory_transfer_timeline_comments=n("/admin/transfers/:1/timeline_comments"),t.inventory_transfer_upload_parameters=n("/admin/transfers/:1/timeline_comments/upload_parameters"),t.draft_order_timeline_comments=n("/admin/draft_orders/:1/timeline_comments"),t.draft_order_upload_parameters=n("/admin/draft_orders/:1/timeline_comments/upload_parameters"),t.customer_timeline_comments=n("/admin/customers/:1/timeline_comments"),t.customer_upload_parameters=n("/admin/customers/:1/timeline_comments/upload_parameters"),t.billing_action=n("/admin/tools/billing_action"),t.admin_images=n("/admin/images"),t.admin_image=n("/admin/images/:1"),t.create_from_burst_admin_images_path=n("/admin/images/create_from_burst"),t.editor_stylesheets=n("/services/assets/:1/editor_stylesheets"),t.url_settings=n("/admin/url_settings"),t.shipping_labels=n("/admin/shipping_labels"),t.shipping_label=n("/admin/shipping_labels/:1"),t.complete_shipping_label_purchase=n("/admin/shipping_labels/:1/complete_purchase"),t.shipping_labels_printing=n("/admin/shipping_labels/print"),t.register_ups_carrier=n("/admin/ups_registrations"),t.feature_feedbacks=n("/admin/feature_feedbacks"),t.fraud_protect=n("/admin/fraud_protect"),t.fraud_analysis_engagement_events_track=n("/admin/fraud_analysis_engagement/events/track"),t.settings_generate_pin=n("/admin/settings/generate_pin");Shopify.routes=null!=t["default"]?t["default"]:t}));e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function n(e){return""+Shopify.config.cdn_host_with_path+e};t.tinymce={name:"tinymce",reloadAfterNavigation:!1,attributes:{src:n("/assets/admin/admin_tinymce-4deec7385aa727ab96f3df8bf9649249b0dff05c7e916d0d23133269b3abafe9.js"),integrity:"sha256-Te7HOFqnJ6uW89+L+WSSSbDf8Fx+kW0NIxMyabOrr+k=",crossorigin:"anonymous"},getModule:function r(){return window.tinymce}},t.fabric={name:"fabric",reloadAfterNavigation:!1,attributes:{src:n("/assets/admin/admin_fabric-5f15bc6616afbaa1f37a5935d554b2a348d8625c45f1e28dad1770a82766876c.js"),integrity:"sha256-XxW8ZhavuqHzelk11VSyo0jYYlxF8eKNrRdwqCdmh2w=",crossorigin:"anonymous"},getModule:function r(){return window.fabric}},t.shopifyDetect={name:"shopify-detect",reloadAfterNavigation:!1,attributes:{src:n("/assets/shopify-detect-34e8fa1f1f9ae2d25b47ee5ffdb1eeaf6c9a00c1a6382bdfcf42452f50c06fcc.js"),integrity:"sha256-NOj6Hx+a4tJbR+5f/bHur2yaAMGmOCvfz0JFL1DAb8w=",crossorigin:"anonymous"},getModule:function r(){return window.ShopifyDetect}},t.trix={name:"trix",reloadAfterNavigation:!1,attributes:{src:n("/assets/admin/admin_timeline-8771ca6a2969589be13ae12efab400e3e8721dc9eb48c7a9a6f11ed9a2048f2e.js"),integrity:"sha256-h3HKailpWJvhOuEu+rQA4+hyHcnrSMeppvEe2aIEjy4=",crossorigin:"anonymous"},getModule:function r(){return window.Trix}},t.spectrum={name:"spectrum",reloadAfterNavigation:!1,attributes:{src:n("/assets/admin/admin_spectrum-7e0c0cbc0c7fd6c7c03da3f28c8421025ebdb4d760421feed601476fa4d42d64.js"),integrity:"sha256-fgwMvAx/1sfAPaPyjIQhAl69tNdgQh/u1gFHb6TULWQ=",crossorigin:"anonymous"},getModule:function r(){}},t.draggable={name:"draggable",reloadAfterNavigation:!1,attributes:{src:n("/assets/admin/draggable-a805ba388e5701cf26328792de72052f0a10f51ea9c839652da1a10415a27188.js"),integrity:"sha256-qAW6OI5XAc8mMoeS3nIFLwoQ9R6pyDllLaGhBBWicYg=",crossorigin:"anonymous"},getModule:function r(){}};Shopify.AsyncJsAssets=null!=t["default"]?t["default"]:t});!function(s,Se){"use strict";function r(e,t){for(var n,r=[],i=0;i<e.length;++i){if(!(n=u[e[i]]||o(e[i])))throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===Se)throw"invalid module definition, dependencies must be specified";if(n===Se)throw"invalid module definition, definition function must be specified";r(t,function(){u[e]=n.apply(null,arguments)})}function o(e){for(var t=s,n=e.split(/[.\/]/),r=0;r<n.length;++r){if(!t[n[r]])return;t=t[n[r]]}return t}function t(e){var t,n,r,i,o;for(t=0;t<e.length;t++){n=s,i=(r=e[t]).split(/[.\/]/);for(var a=0;a<i.length-1;++a)n[i[a]]===Se&&(n[i[a]]={}),n=n[i[a]];n[i[i.length-1]]=u[r]}if(s.AMDLC_TESTS){for(r in o=s.privateModules||{},u)o[r]=u[r];for(t=0;t<e.length;t++)delete o[e[t]];s.privateModules=o}}var u={};e("tinymce/geom/Rect",[],function(){function a(e,t,n){var r,i,o,a,s,u;return r=t.x,i=t.y,o=e.w,a=e.h,s=t.w,u=t.h,"b"===(n=(n||"").split(""))[0]&&(i+=u),"r"===n[1]&&(r+=s),"c"===n[0]&&(i+=l(u/2)),"c"===n[1]&&(r+=l(s/2)),"b"===n[3]&&(i-=a),"r"===n[4]&&(r-=o),"c"===n[3]&&(i-=l(a/2)),"c"===n[4]&&(r-=l(o/2)),h(r,i,o,a)}function e(e,t,n,r){var i,o;for(o=0;o<r.length;o++)if((i=a(e,t,r[o])).x>=n.x&&i.x+i.w<=n.w+n.x&&i.y>=n.y&&i.y+i.h<=n.h+n.y)return r[o];return null}function t(e,t,n){return h(e.x-t,e.y-n,e.w+2*t,e.h+2*n)}function n(e,t){var n,r,i,o;return n=p(e.x,t.x),r=p(e.y,t.y),i=s(e.x+e.w,t.x+t.w),o=s(e.y+e.h,t.y+t.h),i-n<0||o-r<0?null:h(n,r,i-n,o-r)}function r(e,t,n){var r,i,o,a,s,u,l,c,d,f;return s=e.x,u=e.y,l=e.x+e.w,c=e.y+e.h,d=t.x+t.w,f=t.y+t.h,r=p(0,t.x-s),i=p(0,t.y-u),o=p(0,l-d),a=p(0,c-f),s+=r,u+=i,n&&(l+=r,c+=i,s-=o,u-=a),h(s,u,(l-=o)-s,(c-=a)-u)}function h(e,t,n,r){return{x:e,y:t,w:n,h:r}}function i(e){return h(e.left,e.top,e.width,e.height)}var s=Math.min,p=Math.max,l=Math.round;return{inflate:t,relativePosition:a,findBestRelativePosition:e,intersect:n,clamp:r,create:h,fromClientRect:i}}),e("tinymce/util/Promise",[],function(){function n(e,t){return function(){e.apply(t,arguments)}}function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,n(r,this),n(i,this))}function a(n){var r=this;null!==this._state?e(function(){var e=r._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(r._value)}catch(hd){return void n.reject(hd)}n.resolve(t)}else(r._state?n.resolve:n.reject)(r._value)}):this._deferreds.push(n)}function r(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void l(n(t,e),n(r,this),n(i,this))}this._state=!0,this._value=e,s.call(this)}catch(hd){i.call(this,hd)}}function i(e){this._state=!1,this._value=e,s.call(this)}function s(){for(var e=0,t=this._deferreds.length;e<t;e++)a.call(this,this._deferreds[e]);this._deferreds=null}function u(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function l(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(i){if(r)return;r=!0,n(i)}}if(window.Promise)return window.Promise;var e=o.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)},t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(n,r){var i=this;return new o(function(e,t){a.call(i,new u(n,r,e,t))})},o.all=function(e){var u=Array.prototype.slice.call(1===arguments.length&&t(e)?arguments[0]:arguments);return new o(function(i,o){function a(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void n.call(e,function(e){a(t,e)},o)}u[t]=e,0==--s&&i(u)}catch(r){o(r)}}if(0===u.length)return i([]);for(var s=u.length,e=0;e<u.length;e++)a(e,u[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(n){return new o(function(e,t){t(n)})},o.race=function(i){return new o(function(e,t){for(var n=0,r=i.length;n<r;n++)i[n].then(e,t)})},o}),e("tinymce/util/Delay",["tinymce/util/Promise"],function(n){function r(e,t){function n(e){window.setTimeout(e,0)}var r,i=window.requestAnimationFrame,o=["ms","moz","webkit"];for(r=0;r<o.length&&!i;r++)i=window[o[r]+"RequestAnimationFrame"];i||(i=n),i(e,t)}function i(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function o(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function e(e){return clearTimeout(e)}function t(e){return clearInterval(e)}function a(t,n){var r,e;return(e=function(){var e=arguments;clearTimeout(r),r=i(function(){t.apply(this,e)},n)}).stop=function(){clearTimeout(r)},e}var s;return{requestAnimationFrame:function(e,t){s?s.then(e):s=new n(function(e){t||(t=document.body),r(e,t)}).then(e)},setTimeout:i,setInterval:o,setEditorTimeout:function(e,t,n){return i(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=o(function(){e.removed?clearInterval(r):t()},n)},debounce:a,throttle:a,clearInterval:t,clearTimeout:e}}),e("tinymce/Env",[],function(){function e(e){return"matchMedia"in window&&matchMedia(e).matches}var t,n,r,i,o,a,s,u,l,c,d,f,h,p=navigator,m=p.userAgent;return t=window.opera&&window.opera.buildNumber,l=/Android/.test(m),r=(r=!(n=/WebKit/.test(m))&&!t&&/MSIE/gi.test(m)&&/Explorer/gi.test(p.appName))&&/MSIE (\w+)\./.exec(m)[1],i=-1!=m.indexOf("Trident/")&&(-1!=m.indexOf("rv:")||-1!=p.appName.indexOf("Netscape"))&&11,o=-1!=m.indexOf("Edge/")&&!r&&!i&&12,r=r||i||o,a=!n&&!i&&/Gecko/.test(m),s=-1!=m.indexOf("Mac"),u=/(iPad|iPhone)/.test(m),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=e("only screen and (max-device-width: 480px)")&&(l||u),f=e("only screen and (min-width: 800px)")&&(l||u),h=-1!=m.indexOf("Windows Phone"),o&&(n=!1),{opera:t,webkit:n,ie:r,gecko:a,mac:s,iOS:u,android:l,contentEditable:!u||c||534<=m.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=r,range:window.getSelection&&"Range"in window,documentMode:r&&!o?document.documentMode||7:10,fileApi:c,ceFalse:!1===r||8<r,canHaveCSP:!1===r||11<r,desktop:!d&&!f,windowsPhone:h}}),e("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(u,c){function S(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function w(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function d(e,t){var n,r=t;return(n=e.path)&&0<n.length&&(r=n[0]),e.deepPath&&(n=e.deepPath())&&0<n.length&&(r=n[0]),r}function C(e,t){function n(){return!1}function r(){return!0}var i,o,a=t||{};for(i in e)h[i]||(a[i]=e[i]);if(a.target||(a.target=a.srcElement||document),c.experimentalShadowDom&&(a.target=d(e,a.target)),e&&f.test(e.type)&&e.pageX===o&&e.clientX!==o){var s=a.target.ownerDocument||document,u=s.documentElement,l=s.body;a.pageX=e.clientX+(u&&u.scrollLeft||l&&l.scrollLeft||0)-(u&&u.clientLeft||l&&l.clientLeft||0),a.pageY=e.clientY+(u&&u.scrollTop||l&&l.scrollTop||0)-(u&&u.clientTop||l&&l.clientTop||0)}return a.preventDefault=function(){a.isDefaultPrevented=r,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},a.stopPropagation=function(){a.isPropagationStopped=r,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=r,a.stopPropagation()},a.isDefaultPrevented||(a.isDefaultPrevented=n,a.isPropagationStopped=n,a.isImmediatePropagationStopped=n),"undefined"==typeof a.metaKey&&(a.metaKey=!1),a}function E(e,t,n){function r(){n.domLoaded||(n.domLoaded=!0,t(s))}function i(){("complete"===a.readyState||"interactive"===a.readyState&&a.body)&&(w(a,"readystatechange",i),r())}function o(){try{a.documentElement.doScroll("left")}catch(e){return void u.setTimeout(o)}r()}var a=e.document,s={type:"ready"};n.domLoaded?t(s):(a.addEventListener?"complete"===a.readyState?r():S(e,"DOMContentLoaded",r):(S(a,"readystatechange",i),a.documentElement.doScroll&&e.self===e.top&&o()),S(e,"load",r))}function e(){function h(e,t){var n,r,i,o,a=_[t];if(n=a&&a[e.type])for(r=0,i=n.length;r<i;r++)if((o=n[r])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var p,m,g,v,y,b=this,_={};m=t+(+new Date).toString(32),v="onmouseenter"in document.documentElement,g="onfocusin"in document.documentElement,y={mouseenter:"mouseover",mouseleave:"mouseout"},p=1,b.domLoaded=!1,b.events=_,b.bind=function(e,t,n,r){function i(e){h(C(e||f.event),o)}var o,a,s,u,l,c,d,f=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[m]?o=e[m]:(o=p++,e[m]=o,_[o]={}),r=r||e,s=(t=t.split(" ")).length;s--;)c=i,l=d=!1,"DOMContentLoaded"===(u=t[s])&&(u="ready"),b.domLoaded&&"ready"===u&&"complete"==e.readyState?n.call(r,C({type:u})):(v||(l=y[u])&&(c=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=C(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,h(e,o))}),g||"focusin"!==u&&"focusout"!==u||(d=!0,l="focusin"===u?"focus":"blur",c=function(e){(e=C(e||f.event)).type="focus"===e.type?"focusin":"focusout",h(e,o)}),(a=_[o][u])?"ready"===u&&b.domLoaded?n({type:u}):a.push({func:n,scope:r}):(_[o][u]=a=[{func:n,scope:r}],a.fakeName=l,a.capture=d,a.nativeHandler=c,"ready"===u?E(e,c,b):S(e,l||u,c,d)));return e=a=0,n}},b.unbind=function(e,t,n){var r,i,o,a,s,u;if(!e||3===e.nodeType||8===e.nodeType)return b;if(r=e[m]){if(u=_[r],t){for(o=(t=t.split(" ")).length;o--;)if(i=u[s=t[o]]){if(n)for(a=i.length;a--;)if(i[a].func===n){var l=i.nativeHandler,c=i.fakeName,d=i.capture;(i=i.slice(0,a).concat(i.slice(a+1))).nativeHandler=l,i.fakeName=c,i.capture=d,u[s]=i}n&&0!==i.length||(delete u[s],w(e,i.fakeName||s,i.nativeHandler,i.capture))}}else{for(s in u)w(e,(i=u[s]).fakeName||s,i.nativeHandler,i.capture);u={}}for(s in u)return b;delete _[r];try{delete e[m]}catch(f){e[m]=null}}return b},b.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=C(null,n)).type=t,n.target=e;(r=e[m])&&h(n,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,r=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[m]&&r(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(r(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[m]&&r(e);return b},b.destroy=function(){_={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var t="mce-data-",f=/^(?:mouse|contextmenu)|click/,h={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1};return e.Event=new e,e.Event.bind(window,"ready",function(){}),e}),e("tinymce/dom/Sizzle",[],function(){function _(e,t,n,r){var i,o,a,s,u,l,c,d,f,h;if((t?t.ownerDocument||t:j)!==I&&P(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||I).nodeType)&&9!==s)return[];if(N&&!r){if(i=ge.exec(e))if(a=i[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=i[3])&&v.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(v.qsa&&(!D||!D.test(e))){if(d=c=F,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(l=E(e),(c=t.getAttribute("id"))?d=c.replace(ye,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=l.length;u--;)l[u]=d+g(l[u]);f=ve.test(e)&&m(t.parentNode)||t,h=l.join(",")}if(h)try{return Q.apply(n,f.querySelectorAll(h)),n}catch(p){}finally{c||t.removeAttribute("id")}}}return x(e.replace(ae,"$1"),t,n,r)}function e(){function n(e,t){return r.push(e+" ")>w.cacheLength&&delete n[r.shift()],n[e+" "]=t}var r=[];return n}function n(e){return e[F]=!0,e}function i(e){var t=I.createElement("div");try{return!!e(t)}catch(hd){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),r=e.length;r--;)w.attrHandle[n[r]]=t}function l(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||G)-(~e.sourceIndex||G);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function o(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function a(a){return n(function(o){return o=+o,n(function(e,t){for(var n,r=a([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function m(e){return e&&typeof e.getElementsByTagName!==q&&e}function s(){}function g(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function d(a,e,t){var s=e.dir,u=t&&"parentNode"===s,l=U++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,n)}:function(e,t,n){var r,i,o=[$,l];if(n){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||u){if((r=(i=e[F]||(e[F]={}))[s])&&r[0]===$&&r[1]===l)return o[2]=r[2];if((i[s]=o)[2]=a(e,t,n))return!0}}}function f(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function y(e,t,n){for(var r=0,i=t.length;r<i;r++)_(e,t[r],n);return n}function S(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function b(h,p,m,g,v,e){return g&&!g[F]&&(g=b(g)),v&&!v[F]&&(v=b(v,e)),n(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||y(p||"*",n.nodeType?[n]:n,[]),d=!h||!e&&p?c:S(c,s,h,n,r),f=m?v||(e?h:l||g)?[]:t:d;if(m&&m(d,f,n,r),g)for(i=S(f,u),g(i,[],n,r),o=i.length;o--;)(a=i[o])&&(f[u[o]]=!(d[u[o]]=a));if(e){if(v||h){if(v){for(i=[],o=f.length;o--;)(a=f[o])&&i.push(d[o]=a);v(null,f=[],i,r)}for(o=f.length;o--;)(a=f[o])&&-1<(i=v?ee.call(e,a):s[o])&&(e[i]=!(t[i]=a))}}else f=S(f===t?f.splice(l,f.length):f),v?v(null,t,f,r):Q.apply(t,f)})}function h(e){for(var r,t,n,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=d(function(e){return e===r},a,!0),l=d(function(e){return-1<ee.call(r,e)},a,!0),c=[function(e,t,n){return!o&&(n||t!==T)||((r=t).nodeType?u(e,t,n):l(e,t,n))}];s<i;s++)if(t=w.relative[e[s].type])c=[d(f(c),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[F]){for(n=++s;n<i&&!w.relative[e[n].type];n++);return b(1<s&&f(c),1<s&&g(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ae,"$1"),t,s<n&&h(e.slice(s,n)),n<i&&h(e=e.slice(n)),n<i&&g(e))}c.push(t)}return f(c)}function u(g,v){var y=0<v.length,b=0<g.length,e=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],d=[],f=T,h=e||b&&w.find.TAG("*",i),p=$+=null==f?1:Math.random()||.1,m=h.length;for(i&&(T=t!==I&&t);l!==m&&null!=(o=h[l]);l++){if(b&&o){for(a=0;s=g[a++];)if(s(o,t,n)){r.push(o);break}i&&($=p)}y&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,y&&l!==u){for(a=0;s=v[a++];)s(c,d,t,n);if(e){if(0<u)for(;l--;)c[l]||d[l]||(d[l]=K.call(r));d=S(d)}Q.apply(r,d),i&&!e&&0<d.length&&1<u+v.length&&_.uniqueSort(r)}return i&&($=p,T=f),c};return y?n(e):e}var c,v,w,p,C,E,k,x,T,O,A,P,I,R,N,D,L,M,B,F="sizzle"+-new Date,j=window.document,$=0,U=0,H=e(),V=e(),W=e(),z=function(e,t){return e===t&&(A=!0),0},q=typeof Se,G=1<<31,Y={}.hasOwnProperty,X=[],K=X.pop,J=X.push,Q=X.push,Z=X.slice,ee=X.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),se=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),le=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ce=new RegExp(oe),de=new RegExp("^"+re+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,pe=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ge=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,ye=/'|\\/g,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),_e=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Q.apply(X=Z.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(hd){Q={apply:X.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}for(c in v=_.support={},C=_.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},P=_.setDocument=function(e){function t(e){try{
return e.top}catch(t){}return null}var n,u=e?e.ownerDocument||e:j,r=u.defaultView;return u!==I&&9===u.nodeType&&u.documentElement?(R=(I=u).documentElement,N=!C(u),r&&r!==t(r)&&(r.addEventListener?r.addEventListener("unload",function(){P()},!1):r.attachEvent&&r.attachEvent("onunload",function(){P()})),v.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),v.getElementsByTagName=i(function(e){return e.appendChild(u.createComment("")),!e.getElementsByTagName("*").length}),v.getElementsByClassName=me.test(u.getElementsByClassName),v.getById=i(function(e){return R.appendChild(e).id=F,!u.getElementsByName||!u.getElementsByName(F).length}),v.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==q&&N){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,_e);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(be,_e);return function(e){var t=typeof e.getAttributeNode!==q&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=v.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==q)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[i++];)1===n.nodeType&&r.push(n);return r},w.find.CLASS=v.getElementsByClassName&&function(e,t){if(N)return t.getElementsByClassName(e)},L=[],D=[],(v.qsa=me.test(u.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),i(function(e){var t=u.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(v.matchesSelector=me.test(M=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&i(function(e){v.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),L.push("!=",oe)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),n=me.test(R.compareDocumentPosition),B=n||me.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},z=n?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!v.sortDetached&&t.compareDocumentPosition(e)===n?e===u||e.ownerDocument===j&&B(j,e)?-1:t===u||t.ownerDocument===j&&B(j,t)?1:O?ee.call(O,e)-ee.call(O,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===u?-1:t===u?1:i?-1:o?1:O?ee.call(O,e)-ee.call(O,t):0;if(i===o)return l(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?l(a[r],s[r]):a[r]===j?-1:s[r]===j?1:0},u):I},_.matches=function(e,t){return _(e,null,null,t)},_.matchesSelector=function(e,t){if((e.ownerDocument||e)!==I&&P(e),t=t.replace(le,"='$1']"),v.matchesSelector&&N&&(!L||!L.test(t))&&(!D||!D.test(t)))try{var n=M.call(e,t);if(n||v.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(hd){}return 0<_(t,I,null,[e]).length},_.contains=function(e,t){return(e.ownerDocument||e)!==I&&P(e),B(e,t)},_.attr=function(e,t){(e.ownerDocument||e)!==I&&P(e);var n=w.attrHandle[t.toLowerCase()],r=n&&Y.call(w.attrHandle,t.toLowerCase())?n(e,t,!N):Se;return r!==Se?r:v.attributes||!N?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},_.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},_.uniqueSort=function(e){var t,n=[],r=0,i=0;if(A=!v.detectDuplicates,O=!v.sortStable&&e.slice(0),e.sort(z),A){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return O=null,e},p=_.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=p(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=p(t);return n},(w=_.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,_e),e[3]=(e[3]||e[4]||e[5]||"").replace(be,_e),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||_.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&_.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=E(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,_e).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=H[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&H(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==q&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=_.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=g!==v?"nextSibling":"previousSibling",c=e.parentNode,d=y&&e.nodeName.toLowerCase(),f=!n&&!y;if(c){if(g){for(;l;){for(o=e;o=o[l];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[v?c.firstChild:c.lastChild],v&&f){for(s=(r=(i=c[F]||(c[F]={}))[h]||[])[0]===$&&r[1],a=r[0]===$&&r[2],o=s&&c.childNodes[s];o=++s&&o&&o[l]||(a=s=0)||u.pop();)if(1===o.nodeType&&++a&&o===e){i[h]=[$,s,a];break}}else if(f&&(r=(e[F]||(e[F]={}))[h])&&r[0]===$)a=r[1];else for(;(o=++s&&o&&o[l]||(a=s=0)||u.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(f&&((o[F]||(o[F]={}))[h]=[$,a]),o!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||_.error("unsupported pseudo: "+e);return a[F]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,r=a(e,o),i=r.length;i--;)e[n=ee.call(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:n(function(e){var r=[],i=[],s=k(e.replace(ae,"$1"));return s[F]?n(function(e,t,n,r){for(var i,o=s(e,null,r,[]),a=e.length;a--;)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),!i.pop()}}),has:n(function(t){return function(e){return 0<_(t,e).length}}),contains:n(function(t){return t=t.replace(be,_e),function(e){return-1<(e.textContent||e.innerText||p(e)).indexOf(t)}}),lang:n(function(n){return de.test(n||"")||_.error("unsupported lang: "+n),n=n.replace(be,_e).toLowerCase(),function(e){var t;do{if(t=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===R},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return pe.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[c]=r(c);for(c in{submit:!0,reset:!0})w.pseudos[c]=o(c);return s.prototype=w.filters=w.pseudos,w.setFilters=new s,E=_.tokenize=function(e,t){var n,r,i,o,a,s,u,l=V[e+" "];if(l)return t?0:l.slice(0);for(a=e,s=[],u=w.preFilter;a;){for(o in n&&!(r=se.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=ue.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(ae," ")}),a=a.slice(n.length)),w.filter)!(r=fe[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?_.error(e):V(e,s).slice(0)},k=_.compile=function(e,t){var n,r=[],i=[],o=W[e+" "];if(!o){for(t||(t=E(e)),n=t.length;n--;)(o=h(t[n]))[F]?r.push(o):i.push(o);(o=W(e,u(i,r))).selector=e}return o},x=_.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&E(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&v.getById&&9===t.nodeType&&N&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(be,_e),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=fe.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(r=u(a.matches[0].replace(be,_e),ve.test(o[0].type)&&m(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&g(o)))return Q.apply(n,r),n;break}}return(l||k(e,c))(r,t,!N,n,ve.test(e)&&m(t.parentNode)||t),n},v.sortStable=F.split("").sort(z).join("")===F,v.detectDuplicates=!!A,P(),v.sortDetached=i(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),v.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(te,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),_}),e("tinymce/util/Arr",[],function(){function e(e){var t,n,r=e;if(!l(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r}function t(e,t,n){var r,i;if(!e)return 0;if(n=n||e,e.length!==Se){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1}function n(n,r){var i=[];return t(n,function(e,t){i.push(r(e,t,n))}),i}function r(n,r){var i=[];return t(n,function(e,t){r&&!r(e,t,n)||i.push(e)}),i}function i(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function o(e,t,n,r){var i=0;for(arguments.length<3&&(n=e[0]);i<e.length;i++)n=t.call(r,n,e[i],i);return n}function a(e,t,n){var r,i;for(r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1}function s(e,t,n){var r=a(e,t,n);return-1!==r?e[r]:Se}function u(e){return e[e.length-1]}var l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{isArray:l,toArray:e,each:t,map:n,filter:r,indexOf:i,reduce:o,findIndex:a,find:s,last:u}}),e("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(n,o){function r(e){return null===e||e===Se?"":(""+e).replace(h,"")}function i(e,t){return t?!("array"!=t||!o.isArray(e))||typeof e==t:e!==Se}function e(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function a(e,t,n){var r,i,o,a,s,u=this,l=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(i=u.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return i[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[o]));t[o]||(t[o]=function(){},l=1),i[o]=t[o],u.extend(i[o].prototype,t),e[5]&&(r=u.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=i[o],i[o]=l?function(){return r[a].apply(this,arguments)}:function(){return this.parent=r[a],s.apply(this,arguments)},i[o].prototype[o]=i[o],u.each(r,function(e,t){i[o].prototype[t]=r[t]}),u.each(t,function(e,t){r[t]?i[o].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!=o&&(i[o].prototype[t]=e)})),u.each(t["static"],function(e,t){i[o][t]=e})}}function s(e,t){var n,r,i,o,a=arguments;for(n=1,r=a.length;n<r;n++)for(i in t=a[n])t.hasOwnProperty(i)&&(o=t[i])!==Se&&(e[i]=o);return e}function u(e,n,r,i){i=i||this,e&&(r&&(e=e[r]),o.each(e,function(e,t){if(!1===n.call(i,e,t,r))return!1;u(e,n,r,i)}))}function l(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t}function c(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t}function d(e,t){return!e||i(e,"array")?e:o.map(e.split(t||","),r)}function f(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}var h=/^\s*|\s*$/g;return{trim:r,isArray:o.isArray,is:i,toArray:o.toArray,makeMap:e,each:o.each,map:o.map,grep:o.filter,inArray:o.indexOf,hasOwn:t,extend:s,create:a,walk:u,createNS:l,resolve:c,explode:d,_addCacheSuffix:f}}),e("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(e,t,n,r){function u(e){return void 0!==e}function o(e){return"string"==typeof e}function i(e){return e&&e==e.window}function a(e,t){var n,r,i;for(i=(t=t||w).createElement("div"),n=t.createDocumentFragment(),i.innerHTML=e;r=i.firstChild;)n.appendChild(r);return n}function s(e,t,n,r){var i;if(o(t))t=a(t,g(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),r)for(i=t.length-1;0<=i;i--)s(e,t[i],n,r);else for(i=0;i<t.length;i++)s(e,t[i],n,r);return e}if(t.nodeType)for(i=e.length;i--;)n.call(e[i],t);return e}function l(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function c(e,t,n){var r,i;return t=d(t)[0],e.each(function(){var e=this;n&&r==e.parentNode||(r=e.parentNode,i=t.cloneNode(!1),e.parentNode.insertBefore(i,e)),i.appendChild(e)}),e}function d(e,t){return new d.fn.init(e,t)}function f(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1}function h(e){return null===e||e===S?"":(""+e).replace(D,"")}function p(e,t){var n,r,i,o,a;if(e)if((n=e.length)===o){for(r in e)if(e.hasOwnProperty(r)&&(a=e[r],!1===t.call(a,r,a)))break}else for(i=0;i<n&&(a=e[i],!1!==t.call(a,i,a));i++);return e}function m(e,n){var r=[];return p(e,function(e,t){n(t,e)&&r.push(t)}),r}function g(e){return e?9==e.nodeType?e:e.ownerDocument:w}function v(e,t,n){var r=[],i=e[t];for("string"!=typeof n&&n instanceof d&&(n=n[0]);i&&9!==i.nodeType;){if(n!==Se){if(i===n)break;if("string"==typeof n&&d(i).is(n))break}1===i.nodeType&&r.push(i),i=i[t]}return r}function y(e,t,n,r){var i=[];for(r instanceof d&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(r!==Se){if(e===r)break;if("string"==typeof r&&d(e).is(r))break}i.push(e)}return i}function b(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function _(n,r,e){p(e,function(e,t){n[e]=n[e]||{},n[e][r]=t})}var S,w=document,C=Array.prototype.push,E=Array.prototype.slice,k=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,x=e.Event,T=n.makeMap("children,contents,next,prev"),O=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),A=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),P={"for":"htmlFor","class":"className",readonly:"readOnly"},I={"float":"cssFloat"},R={},N={},D=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(e,t){var n,r,i=this;if(!e)return i;if(e.nodeType)return i.context=i[0]=e,i.length=1,i;if(t&&t.nodeType)i.context=t;else{if(t)return d(e).attr(t);i.context=t=document}if(o(e)){if(!(n="<"===(i.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:k.exec(e)))return d(t).find(e);if(n[1])for(r=a(e,g(t)).firstChild;r;)C.call(i,r),r=r.nextSibling;else{if(!(r=g(t).getElementById(n[2])))return i;if(r.id!==n[2])return i.find(e);i.length=1,i[0]=r}}else this.add(e,!1);return i},toArray:function(){return n.toArray(this)},add:function(e,t){var n,r,i=this;if(o(e))return i.add(d(e));if(!1!==t)for(n=d.unique(i.toArray().concat(d.makeArray(e))),i.length=n.length,r=0;r<n.length;r++)i[r]=n[r];else C.apply(i,d.makeArray(e));return i},attr:function(t,n){var e,r=this;if("object"==typeof t)p(t,function(e,t){r.attr(e,t)});else{if(!u(n)){if(r[0]&&1===r[0].nodeType){if((e=R[t])&&e.get)return e.get(r[0],t);if(A[t])return r.prop(t)?t:S;null===(n=r[0].getAttribute(t,2))&&(n=S)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=R[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=P[e]||e))p(e,function(e,t){n.prop(e,t)});else{if(!u(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(n,r){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var t,o,a=this;if("object"==typeof n)p(n,function(e,t){a.css(e,t)});else if(u(r))n=e(n),"number"!=typeof r||O[n]||(r+="px"),a.each(function(){var e=this.style;if((o=N[n])&&o.set)o.set(this,r);else{try{this.style[I[n]||n]=r}catch(t){}null!==r&&""!==r||(e.removeProperty?e.removeProperty(i(n)):e.removeAttribute(n))}});else{if(t=a[0],(o=N[n])&&o.get)return o.get(t);if(t.ownerDocument.defaultView)try{return t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(i(n))}catch(s){return S}else if(t.currentStyle)return t.currentStyle[e(n)]}return a},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],x.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(u(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){d(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(u(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return s(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return s(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?s(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?s(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return c(this,e)},wrapAll:function(e){return c(this,e,!0)},wrapInner:function(e){return this.each(function(){d(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(i,o){var e=this;return"string"!=typeof i||(-1!==i.indexOf(" ")?p(i.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,r;(r=l(t,i))!==o&&(n=t.className,r?t.className=h((" "+n+" ").replace(" "+i+" "," ")):t.className+=n?" "+i:i)})),e},hasClass:function(e){return l(this[0],e)},each:function(e){return p(this,e)},on:function(e,t){return this.each(function(){x.bind(this,e,t)})},off:function(e,t){return this.each(function(){x.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?x.fire(this,e.type,e):x.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(E.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],r);return d(r)},filter:function(n){return d("function"==typeof n?m(this.toArray(),function(e,t){return n(t,e)}):d.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof d&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&d(t).is(n)){r.push(t);break}if(t==n){r.push(t);break}t=t.parentNode}}),d(r)},offset:function(e){var t,n,r,i,o=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(i=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=i.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:o,top:a})},push:C,sort:[].sort,splice:[].splice},n.extend(d,{extend:n.extend,makeArray:function(e){return i(e)||e.nodeType?[e]:n.toArray(e)},inArray:f,isArray:n.isArray,each:p,trim:h,grep:m,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!=t[r].nodeType&&t.splice(r,1);return t=1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),p({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return v(e,"parentNode")},next:function(e){return b(e,"nextSibling",1)},prev:function(e){return b(e,"previousSibling",1)},children:function(e){return y(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){d.fn[e]=function(t){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(T[e]||(n=d.unique(n)),0===e.indexOf("parents")&&(n=n.reverse())),n=d(n),t?n.filter(t):n}}),p({parentsUntil:function(e,t){return v(e,"parentNode",t)},nextUntil:function(e,t){return y(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return y(e,"previousSibling",1,t).slice(1)}},function(r,i){d.fn[r]=function(t,e){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=d.unique(n),0!==r.indexOf("parents")&&"prevUntil"!==r||(n=n.reverse())),n=d(n),e?n.filter(e):n}}),d.fn.is=function(e){return!!e&&0<this.filter(e).length},d.fn.init.prototype=d.fn,d.overrideDefaults=function(n){function r(e,t){return i=i||n(),0===arguments.length&&(e=i.element),t||(t=i.context),new r.fn.init(e,t)}var i;return d.extend(r,this),r},r.ie&&r.ie<8&&(_(R,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?S:t},size:function(e){var t=e.size;return 20===t?S:t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?S:t}}),_(R,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),r.ie&&r.ie<9&&(I["float"]="styleFloat",_(N,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),d.attrHooks=R,d.cssHooks=N,d}),e("tinymce/html/Styles",[],function(){return function(g,e){function v(e,t,n,r){function i(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+i(t)+i(n)+i(r)}var y,t,s,u,b=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,_=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,S=/\s*([^:]+):\s*([^;]+);?/g,w=/\s+$/,C={},E="\ufeff";for(g=g||{},e&&(s=e.getValidStyles(),u=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+E).split(" "),y=0;y<t.length;y++)C[t[y]]=E+y,C[E+y]=t[y];return{toHex:function(e){return e.replace(b,v)},parse:function(e){function t(e,t,n){var r,i,o,a;if((r=h[e+"-top"+t])&&(i=h[e+"-right"+t])&&(o=h[e+"-bottom"+t])&&(a=h[e+"-left"+t])){var s=[r,i,o,a];for(y=s.length-1;y--&&s[y]===s[y+1];);-1<y&&n||(h[e+t]=-1==y?s[0]:s.join(" "),delete h[e+"-top"+t],delete h[e+"-right"+t],delete h[e+"-bottom"+t],delete h[e+"-left"+t])}}function i(e){var t,n=h[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return h[e]=n[0],!0}}function n(e,t,n,r){i(t)&&i(n)&&i(r)&&(h[e]=h[t]+" "+h[n]+" "+h[r],delete h[t],delete h[n],delete h[r])}function r(e){return f=!0,C[e]}function s(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return C[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function o(e){return String.fromCharCode(parseInt(e.slice(1),16))}function a(e){return e.replace(/\\[0-9a-f]+/gi,o)}function u(e,t,n,r,i,o){if(i=i||o)return"'"+(i=s(i)).replace(/\'/g,"\\'")+"'";if(t=s(t||n||r),!g.allow_script_urls){var a=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!g.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return p&&(t=p.call(m,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"}var l,c,d,f,h={},p=g.url_converter,m=g.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,r).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,r)});l=S.exec(e);)if(S.lastIndex=l.index+l[0].length,c=l[1].replace(w,"").toLowerCase(),d=l[2].replace(w,""),c&&d){if(c=a(c),d=a(d),-1!==c.indexOf(E)||-1!==c.indexOf('"'))continue;if(!g.allow_script_urls&&("behavior"==c||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===c&&"700"===d?d="bold":"color"!==c&&"background-color"!==c||(d=d.toLowerCase()),d=(d=d.replace(b,v)).replace(_,u),h[c]=f?s(d,!0):d}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),n("border","border-width","border-style","border-color"),"medium none"===h.border&&delete h.border,"none"===h["border-image"]&&delete h["border-image"]}return h},serialize:function(o,e){function t(e){var t,n,r,i;if(t=s[e])for(n=0,r=t.length;n<r;n++)e=t[n],(i=o[e])&&(a+=(0<a.length?" ":"")+e+": "+i+";")}function n(e,t){var n;return(!(n=u["*"])||!n[e])&&(!(n=u[t])||!n[e])}var r,i,a="";if(e&&s)t("*"),t(e);else for(r in o)!(i=o[r])||u&&!n(r,e)||(a+=(0<a.length?" ":"")+r+": "+i+";");return a}}}}),e("tinymce/dom/TreeWalker",[],function(){return function(e,s){function t(e,t,n,r){var i,o;if(e){if(!r&&e[t])return e[t];if(e!=s){if(i=e[n])return i;for(o=e.parentNode;o&&o!=s;o=o.parentNode)if(i=o[n])return i}}}function n(e,t,n,r){var i,o,a;if(e){if(i=e[n],s&&i===s)return;if(i){if(!r)for(a=i[t];a;a=a[t])if(!a[t])return a;return i}if((o=e.parentNode)&&o!==s)return o}}var r=e;this.current=function(){return r},this.next=function(e){return r=t(r,"firstChild","nextSibling",e)},this.prev=function(e){return r=t(r,"lastChild","previousSibling",e)},this.prev2=function(e){return r=n(r,"lastChild","previousSibling",e)}}}),e("tinymce/dom/Range",["tinymce/util/Tools"],function(z){function q(c){function l(){return N.createDocumentFragment()}function t(e,t){S(B,e,t)}function n(e,t){S(F,e,t)}function r(e){t(e.parentNode,W(e))}function e(e){t(e.parentNode,W(e)+1)}function i(e){n(e.parentNode,W(e))}function o(e){n(e.parentNode,W(e)+1)}function a(e){e?(R[U]=R[$],R[H]=R[j]):(R[$]=R[U],R[j]=R[H]),R.collapsed=B}function s(e){r(e),o(e)}function u(e){t(e,0),n(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)}function d(e,t){var n=R[$],r=R[j],i=R[U],o=R[H],a=t.startContainer,s=t.startOffset,u=t.endContainer,l=t.endOffset;return 0===e?_(n,r,a,s):1===e?_(i,o,a,s):2===e?_(i,o,u,l):3===e?_(n,r,u,l):void 0}function f(){w(M)}function h(){return w(D)}function p(){return w(L)}function m(e){var t,n,r=this[$],i=this[j];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(0<r.childNodes.length&&(n=r.childNodes[i]),n?r.insertBefore(e,n):3==r.nodeType?c.insertAfter(e,r):r.appendChild(e)):i?i>=r.nodeValue.length?c.insertAfter(e,r):(t=r.splitText(i),r.parentNode.insertBefore(e,t)):r.parentNode.insertBefore(e,r)}function g(e){var t=R.extractContents();R.insertNode(e),e.appendChild(t),R.selectNode(e)}function v(){return V(new q(c),{startContainer:R[$],startOffset:R[j],endContainer:R[U],endOffset:R[H],collapsed:R.collapsed,commonAncestorContainer:R.commonAncestorContainer})}function y(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function b(){return R[$]==R[U]&&R[j]==R[H]}function _(e,t,n,r){var i,o,a,s,u,l;if(e==n)return t==r?0:t<r?-1:1;for(i=n;i&&i.parentNode!=e;)i=i.parentNode;if(i){for(o=0,a=e.firstChild;a!=i&&o<t;)o++,a=a.nextSibling;return t<=o?-1:1}for(i=e;i&&i.parentNode!=n;)i=i.parentNode;if(i){for(o=0,a=n.firstChild;a!=i&&o<r;)o++,a=a.nextSibling;return o<r?-1:1}for(s=c.findCommonAncestor(e,n),u=e;u&&u.parentNode!=s;)u=u.parentNode;for(u||(u=s),l=n;l&&l.parentNode!=s;)l=l.parentNode;if(l||(l=s),u==l)return 0;for(a=s.firstChild;a;){if(a==u)return-1;if(a==l)return 1;a=a.nextSibling}}function S(e,t,n){var r,i;for(e?(R[$]=t,R[j]=n):(R[U]=t,R[H]=n),r=R[U];r.parentNode;)r=r.parentNode;for(i=R[$];i.parentNode;)i=i.parentNode;i==r?0<_(R[$],R[j],R[U],R[H])&&R.collapse(e):R.collapse(e),R.collapsed=b(),R.commonAncestorContainer=c.findCommonAncestor(R[$],R[U])}function w(e){var t,n,r,i,o,a,s,u=0,l=0;if(R[$]==R[U])return C(e);for(n=(t=R[U]).parentNode;n;n=(t=n).parentNode){if(n==R[$])return E(t,e);++u}for(n=(t=R[$]).parentNode;n;n=(t=n).parentNode){if(n==R[U])return k(t,e);++l}for(r=l-u,i=R[$];0<r;)i=i.parentNode,r--;for(o=R[U];r<0;)o=o.parentNode,r++;for(a=i.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)i=a,o=s;return x(i,o,e)}function C(e){var t,n,r,i,o,a,s,u;if(e!=M&&(t=l()),R[j]==R[H])return t;if(3==R[$].nodeType){if(n=R[$].nodeValue.substring(R[j],R[H]),e!=L&&(r=R[$],s=R[j],u=R[H]-R[j],0===s&&u>=r.nodeValue.length-1?r.parentNode.removeChild(r):r.deleteData(s,u),R.collapse(B)),e==M)return;return 0<n.length&&t.appendChild(N.createTextNode(n)),t}for(r=y(R[$],R[j]),i=R[H]-R[j];r&&0<i;)o=r.nextSibling,a=P(r,e),t&&t.appendChild(a),--i,r=o;return e!=L&&R.collapse(B),t}function E(e,t){var n,r,i,o,a;if(t!=M&&(n=l()),r=T(e,t),n&&n.appendChild(r),(i=W(e)-R[j])<=0)return t!=L&&(R.setEndBefore(e),R.collapse(F)),n;for(r=e.previousSibling;0<i;)o=r.previousSibling,a=P(r,t),n&&n.insertBefore(a,n.firstChild),--i,r=o;return t!=L&&(R.setEndBefore(e),R.collapse(F)),n}function k(e,t){var n,r,i,o,a,s;for(t!=M&&(n=l()),i=O(e,t),n&&n.appendChild(i),r=W(e),++r,o=R[H]-r,i=e.nextSibling;i&&0<o;)a=i.nextSibling,s=P(i,t),n&&n.appendChild(s),--o,i=a;return t!=L&&(R.setStartAfter(e),R.collapse(B)),n}function x(e,t,n){var r,i,o,a,s,u;for(n!=M&&(i=l()),r=O(e,n),i&&i.appendChild(r),o=W(e),a=W(t)-++o,s=e.nextSibling;0<a;)u=s.nextSibling,r=P(s,n),i&&i.appendChild(r),s=u,--a;return r=T(t,n),i&&i.appendChild(r),n!=L&&(R.setStartAfter(e),R.collapse(B)),i}function T(e,t){var n,r,i,o,a,s=y(R[U],R[H]-1),u=s!=R[U];if(s==e)return A(s,u,F,t);for(r=A(n=s.parentNode,F,F,t);n;){for(;s;)i=s.previousSibling,o=A(s,u,F,t),t!=M&&r.insertBefore(o,r.firstChild),u=B,s=i;if(n==e)return r;s=n.previousSibling,a=A(n=n.parentNode,F,F,t),t!=M&&a.appendChild(r),r=a}}function O(e,t){var n,r,i,o,a,s=y(R[$],
R[j]),u=s!=R[$];if(s==e)return A(s,u,B,t);for(r=A(n=s.parentNode,F,B,t);n;){for(;s;)i=s.nextSibling,o=A(s,u,B,t),t!=M&&r.appendChild(o),u=B,s=i;if(n==e)return r;s=n.nextSibling,a=A(n=n.parentNode,F,B,t),t!=M&&a.appendChild(r),r=a}}function A(e,t,n,r){var i,o,a,s,u;return t?P(e,r):3!=e.nodeType?r!=M?c.clone(e,F):void 0:(i=e.nodeValue,n?(s=R[j],o=i.substring(s),a=i.substring(0,s)):(s=R[H],o=i.substring(0,s),a=i.substring(s)),r!=L&&(e.nodeValue=a),r!=M?((u=c.clone(e,F)).nodeValue=o,u):void 0)}function P(e,t){if(t!=M)return t==L?c.clone(e,B):e;e.parentNode.removeChild(e)}function I(){return c.create("body",null,p()).outerText}var R=this,N=c.doc,D=0,L=1,M=2,B=!0,F=!1,j="startOffset",$="startContainer",U="endContainer",H="endOffset",V=z.extend,W=c.nodeIndex;return V(R,{startContainer:N,startOffset:0,endContainer:N,endOffset:0,collapsed:B,commonAncestorContainer:N,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:r,setStartAfter:e,setEndBefore:i,setEndAfter:o,collapse:a,selectNode:s,selectNodeContents:u,compareBoundaryPoints:d,deleteContents:f,extractContents:h,cloneContents:p,insertNode:m,surroundContents:g,cloneRange:v,toStringIE:I}),R}return q.prototype.toString=function(){return this.toStringIE()},q}),e("tinymce/html/Entities",["tinymce/util/Tools"],function(e){function n(e){var t;return(t=document.createElement("div")).innerHTML=e,t.textContent||t.innerText||e}function i(e,t){var n,r,i,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),a[r]||(i="&"+e[n+1]+";",o[r]=i,o[i]=r);return o}}var o,a,r,s=e.makeMap,u=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},o=i("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var f={encodeRaw:function(e,t){return e.replace(t?u:l,function(e){return a[e]||e})},encodeAllRaw:function(e){return(""+e).replace(t,function(e){return a[e]||e})},encodeNumeric:function(e,t){return e.replace(t?u:l,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":a[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||o,e.replace(t?u:l,function(e){return a[e]||n[e]||e})},getEncodeFunc:function(e,n){function t(e,t){return e.replace(t?u:l,function(e){return a[e]||n[e]||"&#"+e.charCodeAt(0)+";"||e})}function r(e,t){return f.encodeNamed(e,t,n)}return n=i(n)||o,(e=s(e.replace(/\+/g,","))).named&&e.numeric?t:e.named?n?r:f.encodeNamed:e.numeric?f.encodeNumeric:f.encodeRaw},decode:function(e){return e.replace(c,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):d[t]||String.fromCharCode(t):r[e]||o[e]||n(e)})}};return f}),e("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(y,b){return function(h,e){function p(e){h.getElementsByTagName("head")[0].appendChild(e)}function t(e,t,n){function i(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]}function r(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]}function o(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&e[1]<536)}function a(e,t){e()||((new Date).getTime()-d<m?b.setTimeout(t):r())}function s(){a(function(){for(var e,t,n=h.styleSheets,r=n.length;r--;)if((t=(e=n[r]).ownerNode?e.ownerNode:e.owningElement)&&t.id===l.id)return i(),!0},s)}function u(){a(function(){try{var e=c.sheet.cssRules;return i(),!!e}catch(t){}},u)}var l,c,d,f;if(e=y._addCacheSuffix(e),v[e]?f=v[e]:(f={passed:[],failed:[]},v[e]=f),t&&f.passed.push(t),n&&f.failed.push(n),1!=f.status)if(2!=f.status)if(3!=f.status){if(f.status=1,(l=h.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+g++,l.async=!1,l.defer=!1,d=(new Date).getTime(),"onload"in l&&!o())l.onload=s,l.onerror=r;else{if(0<navigator.userAgent.indexOf("Firefox"))return(c=h.createElement("style")).textContent='@import "'+e+'"',u(),void p(c);s()}p(l),l.href=e}else r();else i()}var m,g=0,v={};m=(e=e||{}).maxLoadTime||5e3,this.load=t}}),e("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(i,l,o,a,d,t,e,r,s,u){function c(r,i){var e,t={},n=i.keep_values;return e={set:function(e,t,n){i.url_converter&&(t=i.url_converter.call(i.url_converter_scope||r,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},t={style:{set:function(e,t){null===t||"object"!=typeof t?(n&&e.attr("data-mce-style",t),e.attr("style",t)):e.css(t)},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return t=r.serializeStyle(r.parseStyle(t),e[0].nodeName)}}},n&&(t.href=t.src=e),t}function f(e,t){var n=t.attr("style");(n=e.serializeStyle(e.parseStyle(n),t[0].nodeName))||(n=null),t.attr("data-mce-style",n)}function n(e,t){var n,r,i=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!=r||r!=n&&e.nodeValue.length)&&(i++,n=r);return i}function h(e,t){var n,r=this;r.doc=e,r.win=window,r.files={},r.counter=0,r.stdMode=!y||8<=e.documentMode,r.boxModel=!y||"CSS1Compat"==e.compatMode||r.stdMode,r.styleSheetLoader=new u(e),r.boundEvents=[],r.settings=t=t||{},r.schema=t.schema,r.styles=new o({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),r.fixDoc(e),r.events=t.ownEvents?new a(t.proxy):a.Event,r.attrHooks=c(r,t),n=t.schema?t.schema.getBlockElements():{},r.$=l.overrideDefaults(function(){return{context:e,element:r.getRoot()}}),r.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}}var p=s.each,m=s.is,g=s.grep,v=s.trim,y=r.ie,b=/^([a-z0-9],?)+$/i,_=/^[ \t\r\n]*$/;return h.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(y&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,r,i=this;return!y||1!==t.nodeType||e?t.cloneNode(e):(r=i.doc,e?n.firstChild:(n=r.createElement(t.nodeName),p(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,r=this;return e=r.get(e),t=r.getPos(e),n=r.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,r=this;return e=r.get(e),t=r.getStyle(e,"width"),n=r.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var i,o=this,a=[];for(e=o.get(e),r=r===Se,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),m(t,"string")&&(t="*"===(i=t)?function(e){return 1==e.nodeType}:function(e){return o.is(e,i)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){var n=this;return i(e,n.get(t)||n.settings.root_element||n.doc,[])},is:function(e,t){var n;if(e.length===Se){if("*"===t)return 1==e.nodeType;if(b.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var r=e.nodeType?[e]:e;return 0<i(t,r[0].ownerDocument||r[0],null,r).length},add:function(e,n,r,i,o){var a=this;return this.run(e,function(e){var t;return t=m(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,r),i&&(i.nodeType?t.appendChild(i):a.setHTML(t,i)),o?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,i="";for(r in i+="<"+e,t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(i+=" "+r+'="'+this.encode(t[r])+'"');return void 0!==n?i+">"+n+"</"+e+">":i+" />"},createFragment:function(e){var t,n,r,i=this.doc;for(r=i.createElement("div"),t=i.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&f(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=r.ie&&r.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:Se)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&f(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,i,o=this,a=o.settings;""===n&&(n=null),r=(e=o.$$(e)).attr(t),e.length&&((i=o.attrHooks[t])&&i.set?i.set(e,n,t):e.attr(t,n),r!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var r=this;r.$$(e).each(function(e,n){p(t,function(e,t){r.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var r,i,o=this;return(e=o.$$(e)).length&&(i=(r=o.attrHooks[t])&&r.get?r.get(e,t):e.attr(t)),void 0===i&&(i=n||""),i},getPos:function(e,t){var n,r,i=this,o=0,a=0,s=i.doc,u=s.body;if(t=t||u,e=i.get(e)){if(t===u&&e.getBoundingClientRect&&"static"===l(u).css("position"))return r=e.getBoundingClientRect(),t=i.boxModel?s.documentElement:u,{x:o=r.left+(s.documentElement.scrollLeft||u.scrollLeft)-t.clientLeft,y:a=r.top+(s.documentElement.scrollTop||u.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)o+=n.offsetLeft||0,a+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)o-=n.scrollLeft||0,a-=n.scrollTop||0,n=n.parentNode}return{x:o,y:a}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this,i=r.doc;if(r!==h.DOM&&i===document){var o=h.DOM.addedStyles;if((o=o||[])[e])return;o[e]=!0,h.DOM.addedStyles=o}(n=i.getElementById("mceDefaultStyles"))||((n=i.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=i.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var n,r=this,i=r.doc;r===h.DOM||i!==document?(e||(e=""),n=i.getElementsByTagName("head")[0],p(e.split(","),function(e){var t;e=s._addCacheSuffix(e),r.files[e]||(r.files[e]=!0,t=r.create("link",{rel:"stylesheet",href:e}),y&&i.documentMode&&i.recalc&&(t.onload=function(){i.recalc&&i.recalc(),t.onload=null}),n.appendChild(t))})):h.DOM.loadCSS(e)},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&l(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,r){e=this.$$(e),y?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+r,t.removeChild(t.firstChild)}catch(n){l("<div></div>").html("<br>"+r).contents().slice(1).appendTo(t)}return r}}):e.html(r)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:l("<div></div>").append(l(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(l(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,r){return r=this.get(r),this.run(e,function(e){var t,n;return t=r.parentNode,(n=r.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&p(g(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,r=this;return t.nodeName!=e.toUpperCase()&&(n=r.create(e),p(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),r.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!=n;)n=n.parentNode;if(r==n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(s.trim(e))},run:function(e,n,r){var i,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(r=r||this,e.nodeType||!e.length&&0!==e.length?n.call(r,e):(i=[],p(e,function(e,t){e&&("string"==typeof e&&(e=o.get(e)),i.push(n.call(r,e,t)))}),i))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(y){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,i,o,a,s,u=this,l=0;if(e=e.firstChild){a=new d(e,e.parentNode),t=t||(u.schema?u.schema.getNonEmptyElements():null),o=u.schema?u.schema.getWhiteSpaceElements():{};do{if(1===(i=e.nodeType)){var c=e.getAttribute("data-mce-bogus");if(c){e=a.next("all"===c);continue}if(s=e.nodeName.toLowerCase(),t&&t[s]){if("br"!==s)return!1;l++,e=a.next();continue}for(n=(r=u.getAttribs(e)).length;n--;)if("name"===(s=r[n].nodeName)||"data-mce-bookmark"===s)return!1}if(8==i)return!1;if(3===i&&!_.test(e.nodeValue))return!1;if(3===i&&e.parentNode&&o[e.parentNode.nodeName]&&_.test(e.nodeValue))return!1;e=a.next()}while(e)}return l<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:n,split:function(e,t,n){function a(e){function t(e){var t=e.previousSibling&&"SPAN"==e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"==e.nextSibling.nodeName;return t&&n}var n,r=e.childNodes,i=e.nodeType;if(1!=i||"bookmark"!=e.getAttribute("data-mce-type")){for(n=r.length-1;0<=n;n--)a(r[n]);if(9!=i){if(3==i&&0<e.nodeValue.length){var o=v(e.nodeValue).length;if(!s.isBlock(e.parentNode)||0<o||0===o&&t(e))return}else if(1==i&&(1==(r=e.childNodes).length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(r[0],e),r.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;s.remove(e)}return e}}var r,i,o,s=this,u=s.createRng();if(e&&t)return u.setStart(e.parentNode,s.nodeIndex(e)),u.setEnd(t.parentNode,s.nodeIndex(t)),r=u.extractContents(),(u=s.createRng()).setStart(t.parentNode,s.nodeIndex(t)+1),u.setEnd(e.parentNode,s.nodeIndex(e)+1),i=u.extractContents(),(o=e.parentNode).insertBefore(a(r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(a(i),e),s.remove(e),n||t},bind:function(e,t,n,r){var i=this;if(s.isArray(e)){for(var o=e.length;o--;)e[o]=i.bind(e[o],t,n,r);return e}return!i.settings.collect||e!==i.doc&&e!==i.win||i.boundEvents.push([e,t,n,r]),i.events.bind(e,t,n,r||i)},unbind:function(e,t,n){var r,i=this;if(s.isArray(e)){for(r=e.length;r--;)e[r]=i.unbind(e[r],t,n);return e}if(i.boundEvents&&(e===i.doc||e===i.win))for(r=i.boundEvents.length;r--;){var o=i.boundEvents[r];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}i.setDocument&&i.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,i=t;if(e)for("string"==typeof i&&(i=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(i(e))return e;return null}},h.DOM=new h(document),h.nodeIndex=n,h}),e("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,g){function t(){function s(e,t,n){function r(){s.remove(a),o&&(o.onreadystatechange=o.onload=o=null),t()}function i(){_(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)}var o,a,s=v;a=s.uniqueId(),(o=document.createElement("script")).id=a,o.type="text/javascript",o.src=g._addCacheSuffix(e),"onreadystatechange"in o?o.onreadystatechange=function(){/loaded|complete/.test(o.readyState)&&r()}:o.onload=r,o.onerror=i,(document.getElementsByTagName("head")[0]||document.body).appendChild(o)}var u,i=0,l=1,c=2,d=3,f={},o=[],h={},p=[],m=0;this.isDone=function(e){return f[e]==c},this.markDone=function(e){f[e]=c},this.add=this.load=function(e,t,n,r){f[e]==u&&(o.push(e),f[e]=i),t&&(h[e]||(h[e]=[]),h[e].push({success:t,failure:r,scope:n||this}))},this.remove=function(e){delete f[e],delete h[e]},this.loadQueue=function(e,t,n){this.loadScripts(o,e,t,n)},this.loadScripts=function(t,e,n,r){function i(t,e){y(h[e],function(e){_(e[t])&&e[t].call(e.scope)}),h[e]=u}var o,a=[];p.push({success:e,failure:r,scope:n||this}),(o=function(){var e=b(t);t.length=0,y(e,function(e){f[e]!==c?f[e]!==d?f[e]!==l&&(f[e]=l,m++,s(e,function(){f[e]=c,m--,i("success",e),o()},function(){f[e]=d,m--,a.push(e),i("failure",e),o()})):i("failure",e):i("success",e)}),m||(y(p,function(e){0===a.length?_(e.success)&&e.success.call(e.scope):_(e.failure)&&e.failure.call(e.scope,a)}),p.length=0)})()}}var v=e.DOM,y=g.each,b=g.grep,_=function(e){return"function"==typeof e};return t.ScriptLoader=new t,t}),e("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(u,e){function l(){var e=this;e.items=[],e.urls={},e.lookup={}}var c=e.each;return l.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:Se},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=l.language;if(n&&!1!==l.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;u.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];c(t,function(e){u.ScriptLoader.add(n+"/"+e)})},load:function(t,n,r,i,e){function o(){var e=a.dependencies(t);c(e,function(e){var t=a.createUrl(n,e);a.load(t.resource,t,Se,Se)}),r&&(i?r.call(i):r.call(u))}var a=this,s=n;a.urls[t]||("object"==typeof n&&(s=n.prefix+n.resource+n.suffix),0!==s.indexOf("/")&&-1==s.indexOf("://")&&(s=l.baseURL+"/"+s),a.urls[t]=s.substring(0,s.lastIndexOf("/")),a.lookup[t]?o():u.ScriptLoader.add(s,o,i,e))}},l.PluginManager=new l,l.ThemeManager=new l,l}),e("tinymce/dom/NodeType",[],function(){function e(t){return function(e){return!!e&&e.nodeType==t}}function t(r){return r=r.toLowerCase().split(" "),function(e){var t,n;if(e&&e.nodeType)for(n=e.nodeName.toLowerCase(),t=0;t<r.length;t++)if(n===r[t])return!0;return!1}}function n(n,r){return r=r.toLowerCase().split(" "),function(e){var t;if(s(e))for(t=0;t<r.length;t++)if(getComputedStyle(e,null).getPropertyValue(n)===r[t])return!0;return!1}}function r(t,n){return function(e){return s(e)&&e[t]===n}}function i(t,n){return function(e){return s(e)&&e.getAttribute(t)===n}}function o(e){return s(e)&&e.hasAttribute("data-mce-bogus")}function a(t){return function(e){if(s(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var s=e(1);return{isText:e(3),isElement:s,isComment:e(8),isBr:t("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:t,hasPropValue:r,hasAttributeValue:i,matchStyleValues:n,isBogus:o}}),e("tinymce/text/Zwsp",[],function(){function e(e){return e==n}function t(e){return e.replace(new RegExp(n,"g"),"")}var n="\ufeff";return{isZwsp:e,ZWSP:n,trim:t}}),e("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(r,o){function t(e){return y(e)&&(e=e.parentNode),v(e)&&e.hasAttribute("data-mce-caret")}function n(e){return y(e)&&o.isZwsp(e.data)}function a(e){return t(e)||n(e)}function i(e){var t=e.parentNode;t&&t.removeChild(e)}function s(e){try{return e.nodeValue}catch(t){return""}}function u(e,t){0===t.length?i(e):e.nodeValue=t}function e(e,t){var n,r,i;if(r=e.ownerDocument.createTextNode(o.ZWSP),i=e.parentNode,t){if(n=e.previousSibling,y(n)){if(a(n))return n;if(p(n))return n.splitText(n.data.length-1)}i.insertBefore(r,e)}else{if(n=e.nextSibling,y(n)){if(a(n))return n;if(h(n))return n.splitText(1),n}e.nextSibling?i.insertBefore(r,e.nextSibling):i.appendChild(r)}return r}function l(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e}function c(e,t,n){var r,i;return(r=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(l()),i=t.parentNode,n?i.insertBefore(r,t):t.nextSibling?i.insertBefore(r,t.nextSibling):i.appendChild(r),r}function d(e){return e.firstChild!==e.lastChild||!r.isBr(e.firstChild)}function f(e){(v(e)&&a(e)&&(d(e)?e.removeAttribute("data-mce-caret"):i(e)),y(e))&&u(e,o.trim(s(e)))}function h(e){return y(e)&&e.data[0]==o.ZWSP}function p(e){return y(e)&&e.data[e.data.length-1]==o.ZWSP}function m(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];r.isBogus(n)&&n.parentNode.removeChild(n)}function g(e){return e&&e.hasAttribute("data-mce-caret")?(m(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null}var v=r.isElement,y=r.isText;return{isCaretContainer:a,isCaretContainerBlock:t,isCaretContainerInline:n,showCaretContainerBlock:g,insertInline:e,insertBlock:c,hasContent:d,remove:f,startsWithCaretContainer:h,endsWithCaretContainer:p}}),e("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/dom/Range","tinymce/caret/CaretContainer"],function(s,y,e,t,n){function r(e){return d(e)||w(e)}function b(e,t){var n=e.childNodes;return--t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e}function i(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}function o(e,t,n){return null!==i(e,t,n)}function a(e){return"_mce_caret"===e.id}function _(e,t){return C(e)&&!1===o(e,t,a)}function u(v){this.walk=function(e,i){function o(e){var t;return 3===(t=e[0]).nodeType&&t===h&&p>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===g&&0<e.length&&t===m&&3===t.nodeType&&e.splice(e.length-1,1),e}function a(e,t,n){for(var r=[];e&&e!=n;e=e[t])r.push(e);return r}function t(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function n(e,t,n){var r=n?"nextSibling":"previousSibling";for(c=(l=e).parentNode;l&&l!=t;l=c)c=l.parentNode,(d=a(l==e?l:l[r],r)).length&&(n||d.reverse(),i(o(d)))}var r,s,u,l,c,d,f,h=e.startContainer,p=e.startOffset,m=e.endContainer,g=e.endOffset;if(0<(f=v.select("td[data-mce-selected],th[data-mce-selected]")).length)S(f,function(e){i([e])});else{if(1==h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[p]),1==m.nodeType&&m.hasChildNodes()&&(m=b(m,g)),h==m)return i(o([h]));for(r=v.findCommonAncestor(h,m),l=h;l;l=l.parentNode){if(l===m)return n(h,r,!0);if(l===r)break}for(l=m;l;l=l.parentNode){if(l===h)return n(m,r);if(l===r)break}s=t(h,r)||h,u=t(m,r)||m,n(h,s,!0),(d=a(s==h?s:s.nextSibling,"nextSibling",u==m?u.nextSibling:u)).length&&i(o(d)),n(m,u)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset;return n==i&&3==n.nodeType?0<r&&r<n.nodeValue.length&&(n=(i=t(n,r)).previousSibling,r<o?(n=i=t(i,o-=r).previousSibling,o=i.nodeValue.length,r=0):o=0):(3==n.nodeType&&0<r&&r<n.nodeValue.length&&(n=t(n,r),r=0),3==i.nodeType&&0<o&&o<i.nodeValue.length&&(o=(i=t(i,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:r,endContainer:i,endOffset:o}},this.normalize=function(p){function e(e){function t(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function n(e,t){for(var n=new y(e,v.getParent(e.parentNode,v.isBlock)||h);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function r(e){for(;e&&e!=h;){if(w(e))return!0;e=e.parentNode}return!1}function i(e,t){return e.previousSibling&&e.previousSibling.nodeName==t}function o(e,t){var n,r,i;if(t=t||a,i=v.getParent(t.parentNode,v.isBlock)||h,e&&"BR"==t.nodeName&&f&&v.isEmpty(i))return a=t.parentNode,s=v.nodeIndex(t),void(m=!0);for(n=new y(t,i);l=n[e?"prev":"next"]();){if("false"===v.getContentEditableParent(l)||_(l,v.getRoot()))return;if(3===l.nodeType&&0<l.nodeValue.length)return a=l,s=e?l.nodeValue.length:0,void(m=!0);if(v.isBlock(l)||c[l.nodeName.toLowerCase()])return;r=l}g&&r&&(a=r,m=!0,s=0)}var a,s,u,l,c,d,f,h=v.getRoot();if(a=p[(e?"start":"end")+"Container"],s=p[(e?"start":"end")+"Offset"],f=1==a.nodeType&&s===a.childNodes.length,c=v.schema.getNonEmptyElements(),d=e,!C(a)){if(1==a.nodeType&&s>a.childNodes.length-1&&(d=!1),9===a.nodeType&&(a=v.getRoot(),s=0),a===h){if(d&&(l=a.childNodes[0<s?s-1:0])){if(C(l))return;if(c[l.nodeName]||"TABLE"==l.nodeName)return}if(a.hasChildNodes()){if(s=Math.min(!d&&0<s?s-1:s,a.childNodes.length-1),a=a.childNodes[s],s=0,!g&&a===h.lastChild&&"TABLE"===a.nodeName)return;if(r(a)||C(a))return;if(a.hasChildNodes()&&!/TABLE/.test(a.nodeName)){u=new y(l=a,h);do{if(w(l)||C(l)){m=!1;break}if(3===l.nodeType&&0<l.nodeValue.length){s=d?0:l.nodeValue.length,a=l,m=!0;break}if(c[l.nodeName.toLowerCase()]&&!t(l)){s=v.nodeIndex(l),a=l.parentNode,"IMG"!=l.nodeName||d||s++,m=!0;break}}while(l=d?u.next():u.prev())}}}g&&(3===a.nodeType&&0===s&&o(!0),1===a.nodeType&&((l=a.childNodes[s])||(l=a.childNodes[s-1]),!l||"BR"!==l.nodeName||i(l,"A")||n(l)||n(l,!0)||o(!0,l))),d&&!g&&3===a.nodeType&&s===a.nodeValue.length&&o(!1),m&&p["set"+(e?"Start":"End")](a,s)}}var m,g;return g=p.collapsed,e(!0),g||e(),m&&g&&p.collapse(!0),m}}function l(e,n,t){var r,i,o;if(r=t.elementFromPoint(e,n),i=t.body.createTextRange(),r&&"HTML"!=r.tagName||(r=t.body),i.moveToElementText(r),0<(o=(o=s.toArray(i.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(o[0].bottom+o[0].top)/2;try{return i.moveToPoint(e,n),i.collapse(!0),i}catch(a){}}return null}function c(e,t){var n=e&&e.parentElement?e.parentElement():null;return w(i(n,t,r))?null:e}var S=s.each,d=e.isContentEditableTrue,w=e.isContentEditableFalse,C=n.isCaretContainer;return u.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},u.getCaretRangeFromPoint=function(e,t,n){var r,i;if(n.caretPositionFromPoint)i=n.caretPositionFromPoint(e,t),(r=n.createRange()).setStart(i.offsetNode,i.offset),r.collapse(!0);else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){r=n.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(o){r=l(e,t,n)}return c(r,n.body)}return r},u.getSelectedNode=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset==n+1?t.childNodes[n]:null},u.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},u}),e("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(a,n,s){return function(o){function t(e){var t,n;if((n=o.$(e).parentsUntil(o.getBody()).add(e)).length===i.length){for(t=n.length;0<=t&&n[t]===i[t];t--);if(-1===t)return i=n,!0}return i=n,!1}var r,i=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=o.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!=e.type&&a.compareRanges(n,r)||o.fire("SelectionChange"),r=n}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var e=o.selection.getStart(!0);!n.range&&o.selection.isCollapsed()||!t(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?s.setEditorTimeout(o,
function(){o.nodeChanged()}):o.nodeChanged())}),this.nodeChanged=function(e){var t,n,r,i=o.selection;o.initialized&&i&&!o.settings.disable_nodechange&&!o.readonly&&(r=o.getBody(),(t=i.getStart()||r).ownerDocument==o.getDoc()&&o.dom.isChildOf(t,r)||(t=r),"IMG"==t.nodeName&&i.isCollapsed()&&(t=t.parentNode),n=[],o.dom.getParent(t,function(e){if(e===r)return!0;n.push(e)}),(e=e||{}).element=t,e.parents=n,o.fire("NodeChange",e))}}}),e("tinymce/html/Node",[],function(){function a(e,t,n){var r,i,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(r=e[a])return r;for(i=e.parent;i&&i!==t;i=i.parent)if(r=i[a])return r}}function s(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var u=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return s.prototype={replace:function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},attr:function(e,t){var n,r,i,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(t===i)return n.map[e];if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}},clone:function(){var e,t,n,r,i,o=this,a=new s(o.name,o.type);if(n=o.attributes){for((i=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(r=n[e]).name&&(i[i.length]={name:r.name,value:r.value},i.map[r.name]=r.value);a.attributes=i}return a.value=o.value,a.shortEnded=o.shortEnded,a},wrap:function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},unwrap:function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},remove:function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n)&&(n.prev=null):r.next=n,t.lastChild===e?(t.lastChild=r)&&(r.next=null):n.prev=r,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?((t.next=e).prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var r;return e.parent&&e.remove(),t||(t=this),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},getAll:function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=a(t,n))t.name===e&&r.push(t);return r},empty:function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=a(n,r))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e,t){var n,r,i=this,o=i.firstChild;if(t=t||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(e[o.name])return!1;for(n=o.attributes.length;n--;)if("name"===(r=o.attributes[n].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!u.test(o.value))return!1;if(3===o.type&&o.parent&&t[o.parent.name]&&u.test(o.value))return!1}while(o=a(o,i));return!0},walk:function(e){return a(this,null,e)}},s.create=function(e,t){var n,r;if(n=new s(e,i[e]||1),t)for(r in t)n.attr(r,t[r]);return n},s}),e("tinymce/html/Schema",["tinymce/util/Tools"],function(n){function T(e,t){return(e=n.trim(e))?e.split(t||" "):[]}function O(e){function t(e,t,n){function r(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i}var i,o,a;for(t=t||"","string"==typeof(n=n||[])&&(n=T(n)),i=(e=T(e)).length;i--;)a={attributes:r(o=T([s,t].join(" "))),attributesOrder:o,children:r(n,c)},l[e[i]]=a}function n(e,t){var n,r,i,o;for(n=(e=T(e)).length,t=T(t);n--;)for(r=l[e[n]],i=0,o=t.length;i<o;i++)r.attributes[t[i]]={},r.attributesOrder.push(t[i])}var s,r,i,o,a,u,l={};return P[e]?P[e]:(s="id accesskey class dir lang style tabindex title",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!=e&&(s+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!=e&&(s+=" xml:lang",i=[i,u="acronym applet basefont big font strike tt"].join(" "),R(T(u),function(e){t(e,"",i)}),r=[r,a="center dir isindex noframes"].join(" "),o=[r,i].join(" "),R(T(a),function(e){t(e,"",o)})),o=o||[r,i].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),t("address dt dd div caption","",o),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),t("blockquote","cite",o),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",o),t("dl","","dt dd"),t("a","href target rel media hreflang type",i),t("q","cite",i),t("ins del","cite datetime",o),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",o),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),t("param","name value"),t("map","name",[o,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",o),t("th","colspan rowspan headers scope abbr",o),t("form","accept-charset action autocomplete enctype method name novalidate target",o),t("fieldset","disabled form name",[o,"legend"].join(" ")),t("label","form for",i),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?o:i),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[o,"li"].join(" ")),t("noscript","",o),"html4"!=e&&(t("wbr"),t("ruby","",[i,"rt rp"].join(" ")),t("figcaption","",o),t("mark rt rp summary bdi","",i),t("canvas","width height",o),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[i,"option"].join(" ")),t("article section nav aside header footer","",o),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[o,"figcaption"].join(" ")),t("time","datetime",i),t("dialog","open",o),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",i),t("progress","value max",i),t("meter","value min max low high optimum",i),t("details","open",[o,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!=e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),R(T("a form meter progress dfn"),function(e){l[e]&&delete l[e].children[e]}),delete l.caption.children.table,delete l.script,P[e]=l)}function A(e,n){var r;return e&&(r={},"string"==typeof e&&(e={"*":e}),R(e,function(e,t){r[t]=r[t.toUpperCase()]="map"==n?I(e,/[, ]/):D(e,/[, ]/)})),r}var P={},c={},I=n.makeMap,R=n.each,N=n.extend,D=n.explode,L=n.inArray;return function(o){function e(e,t,n){var r=o[e];return r?r=I(r,/[, ]/,I(r.toUpperCase(),/[, ]/)):(r=P[e])||(r=I(t," ",I(t.toUpperCase()," ")),r=N(r,n),P[e]=r),r}function C(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function t(e){var t,n,r,i,o,a,s,u,l,c,d,f,h,p,m,g,v,y,b,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,S=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=T(e,","),E["@"]&&(g=E["@"].attributes,v=E["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=_.exec(e[t])){if(p=o[1],l=o[2],m=o[3],u=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g){for(y in g)f[y]=g[y];h.push.apply(h,v)}if(u)for(r=0,i=(u=T(u,"|")).length;r<i;r++)if(o=S.exec(u[r])){if(s={},d=o[1],c=o[2].replace(/::/g,":"),p=o[3],b=o[4],"!"===d&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(c),s.required=!0),"-"===d){delete f[c],h.splice(L(h,c),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:c,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:c,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=I(b,"?"))),w.test(c)?(a.attributePatterns=a.attributePatterns||[],s.pattern=C(c),a.attributePatterns.push(s)):(f[c]||h.push(c),f[c]=s)}g||"@"!=l||(g=f,v=h),m&&(a.outputName=l,E[m]=a),w.test(l)?(a.pattern=C(l),k.push(a)):E[l]=a}}function n(e){E={},k=[],t(e),R(l,function(e,t){S[t]=e.children})}function r(e){var a=/^(~)?(.+)$/;e&&(P.text_block_elements=P.block_elements=null,R(T(e,","),function(e){var t=a.exec(e),n="~"===t[1],r=n?"span":"div",i=t[2];if(S[i]=S[r],w[i]=r,n||(m[i.toUpperCase()]={},m[i]={}),!E[i]){var o=E[r];delete(o=N({},o)).removeEmptyAttrs,delete o.removeEmpty,E[i]=o}R(S,function(e,t){e[r]&&(S[t]=e=N({},S[t]),e[i]=e[r])})}))}function i(e){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;P[o.schema]=null,e&&R(T(e,","),function(e){var t,n,r=i.exec(e);r&&(n=r[1],t=n?S[r[2]]:S[r[2]]={"#comment":{}},t=S[r[2]],R(T(r[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function a(e){var t,n=E[e];if(n)return n;for(t=k.length;t--;)if((n=k[t]).pattern.test(e))return n}var s,u,l,c,d,f,h,p,m,g,v,y,b,_=this,E={},S={},k=[],w={},x={};l=O((o=o||{}).schema),!1===o.verify_html&&(o.valid_elements="*[*]"),s=A(o.valid_styles),u=A(o.invalid_styles,"map"),p=A(o.valid_classes,"map"),c=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),d=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=e("non_empty_elements","td th iframe video audio object script pre code",f),v=e("move_caret_before_on_enter_elements","table",g),y=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),m=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",y),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),R((o.special||"script noscript style textarea").split(" "),function(e){x[e]=new RegExp("</"+e+"[^>]*>","gi")}),o.valid_elements?n(o.valid_elements):(R(l,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},S[t]=e.children}),"html5"!=o.schema&&R(T("strong/b em/i"),function(e){e=T(e,"/"),E[e[1]].outputName=e[0]}),R(T("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),R(T("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){E[e].paddEmpty=!0}),R(T("span"),function(e){E[e].removeEmptyAttrs=!0})),r(o.custom_elements),i(o.valid_children),t(o.extended_valid_elements),i("+ol[ul|ol],+ul[ul|ol]"),R({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){E[t]&&(E[t].parentsRequired=T(e))}),o.invalid_elements&&R(D(o.invalid_elements),function(e){E[e]&&delete E[e]}),a("span")||t("span[!data-mce-type|*]"),_.children=S,_.getValidStyles=function(){return s},_.getInvalidStyles=function(){return u},_.getValidClasses=function(){return p},_.getBoolAttrs=function(){return h},_.getBlockElements=function(){return m},_.getTextBlockElements=function(){return y},_.getTextInlineElements=function(){return b},_.getShortEndedElements=function(){return f},_.getSelfClosingElements=function(){return d},_.getNonEmptyElements=function(){return g},_.getMoveCaretBeforeOnEnterElements=function(){return v},_.getWhiteSpaceElements=function(){return c},_.getSpecialElements=function(){return x},_.isValidChild=function(e,t){var n=S[e];return!(!n||!n[t])},_.isValid=function(e,t){var n,r,i=a(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},_.getElementRule=a,_.getCustomElements=function(){return w},_.addValidElements=t,_.setValidElements=n,_.addCustomElements=r,_.addValidChildren=i,_.elements=E}}),e("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(e,U,H){function V(e,t,n){var r,i,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=o.exec(t);){if(r=o.lastIndex,"/"===i[1])s--;else if(!i[1]){if(i[2]in a)continue;s++}if(0===s)break}return r}function t(j,$){function t(){}var n=this;j=j||{},n.schema=$=$||new e,!1!==j.fix_self_closing&&(j.fix_self_closing=!0),r("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=j[e]||t)}),n.parse=function(e){function t(e){var t,n;for(t=N.length;t--&&N[t].name!==e;);if(0<=t){for(n=N.length-1;t<=n;n--)(e=N[n]).valid&&I.end(e.name);N.length=t}}function n(e,t,n,r,i){var o,a,s=/[\s\u0000-\u001F]+/g;if(n=(t=t.toLowerCase())in h?t:L(n||r||i||""),m&&!d&&0!==t.indexOf("data-")){if(!(o=_[t])&&S){for(a=S.length;a--&&!(o=S[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(M[t]&&!j.allow_script_urls){var u=n.replace(s,"");try{u=decodeURIComponent(u)}catch(l){u=unescape(u)}if(B.test(u))return;if(!j.allow_html_data_urls&&F.test(u)&&!/^data:image\//i.test(u))return}c.map[t]=n,c.push({name:t,value:n})}var r,i,o,c,a,s,u,d,l,f,h,p,m,g,v,y,b,_,S,w,C,E,k,x,T,O,A,P,I=this,R=0,N=[],D=0,L=U.decode,M=H.makeMap("src,href,data,background,formaction,poster"),B=/((java|vb)script|mhtml):/i,F=/^data:/i;for(x=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),T=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,f=$.getShortEndedElements(),k=j.self_closing_elements||$.getSelfClosingElements(),h=$.getBoolAttrs(),m=j.validate,l=j.remove_internals,P=j.fix_self_closing,O=$.getSpecialElements();r=x.exec(e);){if(R<r.index&&I.text(L(e.substr(R,r.index-R))),i=r[6])":"===(i=i.toLowerCase()).charAt(0)&&(i=i.substr(1)),t(i);else if(i=r[7]){if(":"===(i=i.toLowerCase()).charAt(0)&&(i=i.substr(1)),p=i in f,P&&k[i]&&0<N.length&&N[N.length-1].name===i&&t(i),!m||(g=$.getElementRule(i))){if(v=!0,m&&(_=g.attributes,S=g.attributePatterns),(b=r[8])?((d=-1!==b.indexOf("data-mce-type"))&&l&&(v=!1),(c=[]).map={},b.replace(T,n)):(c=[]).map={},m&&!d){if(w=g.attributesRequired,C=g.attributesDefault,E=g.attributesForced,g.removeEmptyAttrs&&!c.length&&(v=!1),E)for(a=E.length;a--;)u=(y=E[a]).name,"{$uid}"===(A=y.value)&&(A="mce_"+D++),c.map[u]=A,c.push({name:u,value:A});if(C)for(a=C.length;a--;)(u=(y=C[a]).name)in c.map||("{$uid}"===(A=y.value)&&(A="mce_"+D++),c.map[u]=A,c.push({name:u,value:A}));if(w){for(a=w.length;a--&&!(w[a]in c.map););-1===a&&(v=!1)}if(y=c.map["data-mce-bogus"]){if("all"===y){R=V($,e,x.lastIndex),x.lastIndex=R;continue}v=!1}}v&&I.start(i,c,p)}else v=!1;if(o=O[i]){o.lastIndex=R=r.index+r[0].length,(r=o.exec(e))?(v&&(s=e.substr(R,r.index-R)),R=r.index+r[0].length):(s=e.substr(R),R=e.length),v&&(0<s.length&&I.text(s,!0),I.end(i)),x.lastIndex=R;continue}p||(b&&b.indexOf("/")==b.length-1?v&&I.end(i):N.push({name:i,valid:v}))}else(i=r[1])?(">"===i.charAt(0)&&(i=" "+i),j.allow_conditional_comments||"[if"!==i.substr(0,3).toLowerCase()||(i=" "+i),I.comment(i)):(i=r[2])?I.cdata(i):(i=r[3])?I.doctype(i):(i=r[4])&&I.pi(i,r[5]);R=r.index+r[0].length}for(R<e.length&&I.text(L(e.substr(R))),a=N.length-1;0<=a;a--)(i=N[a]).valid&&I.end(i.name)}}var r=H.each;return t.findEndTag=V,t}),e("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(L,e,M,u){var B=u.makeMap,t=u.each,r=u.explode,F=u.extend,j=function(e,t){e.padd_empty_with_br?t.empty().append(new L("br","1")).shortEnded=!0:t.empty().append(new L("#text","3")).value="\xa0"},y=function(e,t){return e&&e.firstChild===e.lastChild&&e.firstChild.name===t};return function(O,A){function P(e){var t,n,r,i,o,a,s,u,l,c,d,f,h,p,m,g;for(f=B("tr,td,th,tbody,thead,tfoot,table"),c=A.getNonEmptyElements(),d=A.getWhiteSpaceElements(),h=A.getTextBlockElements(),p=A.getSpecialElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(h[n.name]&&"li"==n.parent.name){for(m=n.next;m&&h[m.name];)m.name="li",m.fixed=!0,n.parent.insert(m,n.parent),m=m.next;n.unwrap(n)}else{for(i=[n],r=n.parent;r&&!A.isValidChild(r.name,n.name)&&!f[r.name];r=r.parent)i.push(r);if(r&&1<i.length){for(i.reverse(),o=a=v.filterNode(i[0].clone()),l=0;l<i.length-1;l++){for(A.isValidChild(a.name,i[l].name)?(s=v.filterNode(i[l].clone()),a.append(s)):s=a,u=i[l].firstChild;u&&u!=i[l+1];)g=u.next,s.append(u),u=g;a=s}o.isEmpty(c,d)?r.insert(n,i[0],!0):(r.insert(o,i[0],!0),r.insert(n,o)),((r=i[0]).isEmpty(c,d)||y(r,"br"))&&r.empty().remove()}else if(n.parent){if("li"===n.name){if((m=n.prev)&&("ul"===m.name||"ul"===m.name)){m.append(n);continue}if((m=n.next)&&("ul"===m.name||"ul"===m.name)){m.insert(n,m.firstChild,!0);continue}O.prevent_list_wrap||n.wrap(v.filterNode(new L("ul",1)));continue}A.isValidChild(n.parent.name,"div")&&A.isValidChild("div",n.name)?n.wrap(v.filterNode(new L("div",1))):p[n.name]?n.empty().remove():n.unwrap()}}}var v=this,I={},R=[],N={},D={};(O=O||{}).validate=!("validate"in O)||O.validate,O.root_name=O.root_name||"body",v.schema=A=A||new e,v.filterNode=function(e){var t,n,r;n in I&&((r=N[n])?r.push(e):N[n]=[e]),t=R.length;for(;t--;)(n=R[t].name)in e.attributes.map&&((r=D[n])?r.push(e):D[n]=[e]);return e},v.addNodeFilter=function(e,n){t(r(e),function(e){var t=I[e];t||(I[e]=t=[]),t.push(n)})},v.addAttributeFilter=function(e,n){t(r(e),function(e){var t;for(t=0;t<R.length;t++)if(R[t].name===e)return void R[t].callbacks.push(n);R.push({name:e,callbacks:[n]})})},v.parse=function(e,t){function n(){function e(e){e&&((r=e.firstChild)&&3==r.type&&(r.value=r.value.replace(y,"")),(r=e.lastChild)&&3==r.type&&(r.value=r.value.replace(_,"")))}var t,n,r=o.firstChild;if(A.isValidChild(o.name,x.toLowerCase())){for(;r;)t=r.next,3==r.type||1==r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?(n||((n=u(x,1)).attr(O.forced_root_block_attrs),o.insert(n,r)),n.append(r)):(e(n),n=null),r=t;e(n)}}function u(e,t){var n,r=new L(e,t);return e in I&&((n=N[e])?n.push(r):N[e]=[r]),r}function l(e){var t,n,r,i,o=A.getBlockElements();for(t=e.prev;t&&3===t.type;){if(0<(r=t.value.replace(_,"")).length)return void(t.value=r);if(n=t.next){if(3==n.type&&n.value.length){t=t.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){t=t.prev;continue}}i=t.prev,t.remove(),t=i}}function r(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}var i,o,c,a,s,d,f,h,p,m,g,v,y,b,_,S,w,C,E,k,x,T=[];if(t=t||{},N={},D={},v=F(B("script,style,head,html,body,title,meta,param"),A.getBlockElements()),k=A.getNonEmptyElements(),E=A.children,g=O.validate,x="forced_root_block"in t?t.forced_root_block:O.forced_root_block,C=A.getWhiteSpaceElements(),y=/^[ \t\r\n]+/,_=/[ \t\r\n]+$/,S=/[ \t\r\n]+/g,w=/^[ \t\r\n]+$/,i=new M({validate:g,allow_script_urls:O.allow_script_urls,allow_conditional_comments:O.allow_conditional_comments,self_closing_elements:r(A.getSelfClosingElements()),cdata:function(e){c.append(u("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(S," "),c.lastChild&&v[c.lastChild.name]&&(e=e.replace(y,""))),0!==e.length&&((n=u("#text",3)).raw=!!t,c.append(n).value=e)},comment:function(e){c.append(u("#comment",8)).value=e},pi:function(e,t){c.append(u(e,7)).value=t,l(c)},doctype:function(e){c.append(u("#doctype",10)).value=e,l(c)},start:function(e,t,n){var r,i,o,a,s;if(o=g?A.getElementRule(e):{}){for((r=u(o.outputName||e,1)).attributes=t,r.shortEnded=n,c.append(r),(s=E[c.name])&&E[r.name]&&!s[r.name]&&T.push(r),i=R.length;i--;)(a=R[i].name)in t.map&&((p=D[a])?p.push(r):D[a]=[r]);v[e]&&l(r),n||(c=r),!b&&C[e]&&(b=!0)}},end:function(e){var t,n,r,i,o;if(n=g?A.getElementRule(e):{}){if(v[e]&&!b){if((t=c.firstChild)&&3===t.type)if(0<(r=t.value.replace(y,"")).length)t.value=r,t=t.next;else for(i=t.next,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.next,(0===r.length||w.test(r))&&(t.remove(),t=i),t=i;if((t=c.lastChild)&&3===t.type)if(0<(r=t.value.replace(_,"")).length)t.value=r,t=t.prev;else for(i=t.prev,t.remove(),t=i;t&&3===t.type;)r=t.value,i=t.prev,(0===r.length||w.test(r))&&(t.remove(),t=i),t=i}if(b&&C[e]&&(b=!1),(n.removeEmpty||n.paddEmpty)&&c.isEmpty(k,C))if(n.paddEmpty)j(O,c);else if(!c.attributes.map.name&&!c.attributes.map.id)return o=c.parent,v[c.name]?c.empty().remove():c.unwrap(),void(c=o);c=c.parent}}},A),o=c=new L(t.context||O.root_name,11),i.parse(e),g&&T.length&&(t.context?t.invalid=!0:P(T)),x&&("body"==o.name||t.isRootContent)&&n(),!t.invalid){for(m in N){for(p=I[m],f=(a=N[m]).length;f--;)a[f].parent||a.splice(f,1);for(s=0,d=p.length;s<d;s++)p[s](a,m,t)}for(s=0,d=R.length;s<d;s++)if((p=R[s]).name in D){for(f=(a=D[p.name]).length;f--;)a[f].parent||a.splice(f,1);for(f=0,h=p.callbacks.length;f<h;f++)p.callbacks[f](a,p.name,t)}}return o},O.remove_trailing_brs&&v.addNodeFilter("br",function(e){var t,n,r,i,o,a,s,u,l=e.length,c=F({},A.getBlockElements()),d=A.getNonEmptyElements(),f=A.getNonEmptyElements();for(c.body=1,t=0;t<l;t++)if(r=(n=e[t]).parent,c[n.parent.name]&&n===r.lastChild){for(o=n.prev;o;){if("span"!==(a=o.name)||"bookmark"!==o.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}o=o.prev}n&&(n.remove(),r.isEmpty(d,f)&&(s=A.getElementRule(r.name))&&(s.removeEmpty?r.remove():s.paddEmpty&&j(O,r)))}else{for(i=n;r&&r.firstChild===i&&r.lastChild===i&&!c[(i=r).name];)r=r.parent;i===r&&!0!==O.padd_empty_with_br&&((u=new L("#text",3)).value="\xa0",n.replace(u))}}),O.allow_unsafe_link_target||v.addAttributeFilter("href",function(e){function n(e){return(e=r(e))?[e,s].join(" "):s}function r(e){var t=new RegExp("("+s.replace(" ","|")+")","g");return e&&(e=u.trim(e.replace(t,""))),e||null}function t(e,t){return t?n(e):r(e)}for(var i,o,a=e.length,s="noopener noreferrer";a--;)o=(i=e[a]).attr("rel"),"a"===i.name&&i.attr("rel",t(o,"_blank"==i.attr("target")))}),O.allow_html_in_named_anchor||v.addAttributeFilter("id,name",function(e){for(var t,n,r,i,o=e.length;o--;)if("a"===(i=e[o]).name&&i.firstChild&&!i.attr("href"))for(r=i.parent,t=i.lastChild;n=t.prev,r.insert(t,i),t=n;);}),O.fix_list_elements&&v.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var i=new L("li",1);i.attr("style","list-style-type: none"),t.wrap(i)}}),O.validate&&A.getValidClasses()&&v.addAttributeFilter("class",function(e){for(var t,n,r,i,o,a,s,u=e.length,l=A.getValidClasses();u--;){for(n=(t=e[u]).attr("class").split(" "),o="",r=0;r<n.length;r++)i=n[r],s=!1,(a=l["*"])&&a[i]&&(s=!0),a=l[t.name],!s&&a&&a[i]&&(s=!0),s&&(o&&(o+=" "),o+=i);o.length||(o=null),t.attr("class",o)}})}}),e("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var s,u,l,c,d,f=[];return s=(e=e||{}).indent,u=n(e.indent_before||""),l=n(e.indent_after||""),c=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"==e.element_format,{start:function(e,t,n){var r,i,o,a;if(s&&u[e]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n"),f.push("<",e),t)for(r=0,i=t.length;r<i;r++)o=t[r],f.push(" ",o.name,'="',c(o.value,!0),'"');f[f.length]=!n||d?">":" />",n&&s&&l[e]&&0<f.length&&0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n")},end:function(e){var t;f.push("</",e,">"),s&&l[e]&&0<f.length&&0<(t=f[f.length-1]).length&&"\n"!==t&&f.push("\n")},text:function(e,t){0<e.length&&(f[f.length]=t?e:c(e))},cdata:function(e){f.push("<![CDATA[",e,"]]>")},comment:function(e){f.push("<!--",e,"-->")},pi:function(e,t){t?f.push("<?",e," ",c(t),"?>"):f.push("<?",e,"?>"),s&&f.push("\n")},doctype:function(e){f.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}}),e("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(n,r){return function(t,p){var e=this,m=new n(t);(t=t||{}).validate=!("validate"in t)||t.validate,e.schema=p=p||new r,e.writer=m,e.serialize=function(e){function d(e){var t,n,r,i,o,a,s,u,l,c=f[e.type];if(c)c(e);else{if(t=e.name,n=e.shortEnded,r=e.attributes,h&&r&&1<r.length&&((a=[]).map={},l=p.getElementRule(e.name))){for(s=0,u=l.attributesOrder.length;s<u;s++)(i=l.attributesOrder[s])in r.map&&(o=r.map[i],a.map[i]=o,a.push({name:i,value:o}));for(s=0,u=r.length;s<u;s++)(i=r[s].name)in a.map||(o=r.map[i],a.map[i]=o,a.push({name:i,value:o}));r=a}if(m.start(e.name,r,n),!n){if(e=e.firstChild)for(;d(e),e=e.next;);m.end(t)}}}var f,h;return h=t.validate,f={3:function(e){m.text(e.value,e.raw)},8:function(e){m.comment(e.value)},7:function(e){m.pi(e.name,e.value)},10:function(e){m.doctype(e.value)},4:function(e){m.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;d(e),e=e.next;);}},m.reset(),1!=e.type||t.inner?f[11](e):d(e),m.getContent()}}}),e("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(e,i,m,o,g,t,a,v,s,y){function b(e){function t(e){return e&&"br"===e.name}var n,r;t(n=e.lastChild)&&t(r=n.prev)&&(n.remove(),r.remove())}var _=s.each,S=s.trim,u=e.DOM;return function(l,c){function d(e){var t=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[\u200b\ufeff]+<\\/span>","\\s?("+r.join("|")+')="[^"]+"'].join("|"),"gi");return e=y.trim(e.replace(t,""))}function e(e){var t,n,r,i,o,a=e,s=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=c.schema;for(a=d(a),o=u.getShortEndedElements();i=s.exec(a);)n=s.lastIndex,r=i[0].length,t=o[i[1]]?n:m.findEndTag(u,a,n),a=a.substring(0,n-r)+a.substring(t),s.lastIndex=n-r;return a}function t(){return e(c.getBody().innerHTML)}function n(e){-1===s.inArray(r,e)&&(p.addAttributeFilter(e,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),r.push(e))}var f,h,p,r=["data-mce-selected"];return c&&(f=c.dom,h=c.schema),f=f||u,h=h||new a(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs=!("remove_trailing_brs"in l)||l.remove_trailing_brs,(p=new i(l,h)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)(n=e[r]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),p.addAttributeFilter("src,href,style",function(e,t){for(var n,r,i,o=e.length,a="data-mce-"+t,s=l.url_converter,u=l.url_converter_scope;o--;)(r=(n=e[o]).attributes.map[a])!==i?(n.attr(t,0<r.length?r:null),n.attr(a,null)):(r=n.attributes.map[t],"style"===t?r=f.serializeStyle(f.parseStyle(r),n.name):s&&(r=s.call(u,r,t,n.name)),n.attr(t,0<r.length?r:null))}),p.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),p.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,i=e.length;i--;)"bookmark"!==(r=e[i]).attributes.map["data-mce-type"]||n.cleanup||r.remove()}),p.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=o.decode(t.value))}),p.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var r,i,o,a=e.length;a--;)i=(r=e[a]).firstChild?r.firstChild.value:"","script"===t?((o=r.attr("type"))&&r.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),0<i.length&&(r.firstChild.value="// <![CDATA[\n"+n(i)+"\n// ]]>")):0<i.length&&(r.firstChild.value="<!--\n"+n(i)+"\n-->")}),p.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),p.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)7===(n=e[r]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),p.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:h,addNodeFilter:p.addNodeFilter,addAttributeFilter:p.addAttributeFilter,serialize_without_validation:function(e,t){var n=new g(l,h),r=e.cloneNode(!0),i=p.parse(r.innerHTML,t);return t.content=n.serialize(i),r=null,t.content},serialize:function(e,t){var n,r,i,o,a,s,u=this;return v.ie&&0<f.select("script,style,select,map").length?(a=e.innerHTML,e=e.cloneNode(!1),f.setHTML(e,a)):e=e.cloneNode(!0),(n=document.implementation).createHTMLDocument&&(r=n.createHTMLDocument(""),_("BODY"==e.nodeName?e.childNodes:[e],function(e){r.body.appendChild(r.importNode(e,!0))}),e="BODY"!=e.nodeName?r.body.firstChild:r.body,i=f.doc,f.doc=r),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,u.onPreProcess(t)),b(s=p.parse(S(t.getInner?e.innerHTML:f.getOuterHTML(e)),t)),
o=new g(l,h),t.content=o.serialize(s),t.cleanup||(t.content=y.trim(t.content),t.content=t.content.replace(/\uFEFF/g,"")),t.no_events||u.onPostProcess(t),i&&(f.doc=i),t.node=null,t.content},addRules:function(e){h.addValidElements(e)},setRules:function(e){h.setValidElements(e)},onPreProcess:function(e){c&&c.fire("PreProcess",e)},onPostProcess:function(e){c&&c.fire("PostProcess",e)},addTempAttr:n,trimHtml:d,getTrimmedContent:t,trimContent:e}}}),e("tinymce/dom/TridentSelection",[],function(){function e(p){function c(e,t){var n,r,i,o,a,s,u,l,c=0,d=-1;if((n=e.duplicate()).collapse(t),(l=n.parentElement()).ownerDocument===p.dom.doc){for(;"false"===l.contentEditable;)l=l.parentNode;if(!l.hasChildNodes())return{node:l,inside:1};for(r=(o=l.children).length-1;c<=r;)if(a=o[u=Math.floor((c+r)/2)],n.moveToElementText(a),0<(d=n.compareEndPoints(t?"StartToStart":"EndToEnd",e)))r=u-1;else{if(!(d<0))return{node:a};c=u+1}if(d<0)for(a?n.collapse(!1):(n.moveToElementText(l),n.collapse(!0),a=l,i=!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",1)&&l==n.parentElement();)s++;else for(n.collapse(!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",-1)&&l==n.parentElement();)s++;return{node:a,position:d,offset:s,inside:i}}}function e(){function e(e){var t,n,r,i,o,a=c(u,e),s=0;if(t=a.node,n=a.offset,!a.inside||t.hasChildNodes())if(n!==i){if(a.position<0){if(!(r=a.inside?t.firstChild:t.nextSibling))return void l[e?"setStartAfter":"setEndAfter"](t);if(!n)return void(3==r.nodeType?l[e?"setStart":"setEnd"](r,0):l[e?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&n<=(s+=(o=r.nodeValue).length)){t=r,s-=n,s=o.length-s;break}r=r.nextSibling}}else{if(!(r=t.previousSibling))return l[e?"setStartBefore":"setEndBefore"](t);if(!n)return void(3==t.nodeType?l[e?"setStart":"setEnd"](r,t.nodeValue.length):l[e?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&n<=(s+=r.nodeValue.length)){t=r,s-=n;break}r=r.previousSibling}}l[e?"setStart":"setEnd"](t,s)}else l[e?"setStartBefore":"setEndAfter"](t);else l[e?"setStart":"setEnd"](t,0)}var t,n,r,i,o,u=p.getRng(),l=m.createRng();if((t=u.item?u.item(0):u.parentElement()).ownerDocument!=m.doc)return l;if(n=p.isCollapsed(),u.item)return l.setStart(t.parentNode,m.nodeIndex(t)),l.setEnd(l.startContainer,l.startOffset+1),l;try{e(!0),n||e()}catch(a){if(-2147024809!=a.number)throw a;o=s.getBookmark(2),(r=u.duplicate()).collapse(!0),t=r.parentElement(),n||((r=u.duplicate()).collapse(!1),(i=r.parentElement()).innerHTML=i.innerHTML),t.innerHTML=t.innerHTML,s.moveToBookmark(o),u=p.getRng(),e(!0),n||e()}return l}var s=this,m=p.dom,g=!1;this.getBookmark=function(e){function n(e){var t,n,r,i,o=[];for(t=e.parentNode,n=m.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(i=(r=t.children).length;i--;)if(e===r[i]){o.push(i);break}t=(e=t).parentNode}return o}function t(e){var t;if(t=c(r,e))return{position:t.position,offset:t.offset,indexes:n(t.node),inside:t.inside}}var r=p.getRng(),i={};return 2===e&&(r.item?i.start={ctrl:!0,indexes:n(r.item(0))}:(i.start=t(!0),p.isCollapsed()||(i.end=t()))),i},this.moveToBookmark=function(a){function s(e){var t,n,r,i;for(t=m.getRoot(),n=e.length-1;0<=n;n--)i=t.children,(r=e[n])<=i.length-1&&(t=i[r]);return t}function e(e){var t,n,r,i,o=a[e?"start":"end"];o&&(t=0<o.position,(n=l.createTextRange()).moveToElementText(s(o.indexes)),(i=o.offset)!==r?(n.collapse(o.inside||t),n.moveStart("character",t?-i:i)):n.collapse(e),u.setEndPoint(e?"StartToStart":"EndToStart",n),e&&u.collapse(!0))}var u,l=m.doc.body;a.start&&(a.start.ctrl?(u=l.createControlRange()).addElement(s(a.start.indexes)):(u=l.createTextRange(),e(!0),e()),u.select())},this.addRange=function(e){function t(e){var t,n,r,i,o;r=m.create("a"),t=e?s:l,n=e?u:c,i=a.duplicate(),t!=d&&t!=d.documentElement||(t=f,n=0),3==t.nodeType?(t.parentNode.insertBefore(r,t),i.moveToElementText(r),i.moveStart("character",n),m.remove(r),a.setEndPoint(e?"StartToStart":"EndToEnd",i)):((o=t.childNodes).length?(n>=o.length?m.insertAfter(r,o[o.length-1]):t.insertBefore(r,o[n]),i.moveToElementText(r)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",r=t.firstChild,i.moveToElementText(r),i.collapse(g)),a.setEndPoint(e?"StartToStart":"EndToEnd",i),m.remove(r))}var a,n,s,u,l,c,r,i,o,d=p.dom.doc,f=d.body;if(s=e.startContainer,u=e.startOffset,l=e.endContainer,c=e.endOffset,a=f.createTextRange(),s==l&&1==s.nodeType){if(u==c&&!s.hasChildNodes()){if(s.canHaveHTML)return(r=s.previousSibling)&&!r.hasChildNodes()&&m.isBlock(r)?r.innerHTML="&#xFEFF;":r=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(s.lastChild),a.select(),m.doc.selection.clear(),s.innerHTML="",void(r&&(r.innerHTML=""));u=m.nodeIndex(s),s=s.parentNode}if(u==c-1)try{if(o=s.childNodes[u],(n=f.createControlRange()).addElement(o),n.select(),(i=p.getRng()).item&&o===i.item(0))return}catch(h){}}t(!0),t(),a.select()},this.getRangeAt=e}return e}),e("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),e("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(q,G,Y,X,e){function K(e,t){for(;t&&t!=e;){if(n(t)||J(t))return t;t=t.parentNode}return null}var J=e.isContentEditableFalse,n=e.isContentEditableTrue;return function(i,l){function u(e){var t=l.settings.object_resizing;return!1!==t&&!X.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!=l.getBody()&&l.dom.is(e,t)))}function c(e){var t,n,r,i;t=e.screenX-k,n=e.screenY-x,N=t*C[2]+A,D=n*C[3]+P,N=N<5?5:N,D=D<5?5:D,("IMG"==b.nodeName&&!1!==l.settings.resize_img_proportional?!q.modifierPressed(e):q.modifierPressed(e)||"IMG"==b.nodeName&&C[2]*C[3]!=0)&&(H(t)>H(n)?(D=V(N*I),N=V(D/I)):(N=V(D/I),D=V(N*I))),B.setStyles(_,{width:N,height:D}),r=0<(r=C.startPos.x+t)?r:0,i=0<(i=C.startPos.y+n)?i:0,B.setStyles(S,{left:r,top:i,display:"block"}),S.innerHTML=N+" &times; "+D,C[2]<0&&_.clientWidth<=N&&B.setStyle(_,"left",T+(A-N)),C[3]<0&&_.clientHeight<=D&&B.setStyle(_,"top",O+(P-D)),(t=W.scrollWidth-L)+(n=W.scrollHeight-M)!==0&&B.setStyles(S,{left:r-t,top:i-n}),R||(l.fire("ObjectResizeStart",{target:b,width:A,height:P}),R=!0)}function d(){function e(e,t){t&&(b.style[e]||!l.schema.isValid(b.nodeName.toLowerCase(),e)?B.setStyle(b,e,t):B.setAttrib(b,e,t))}R=!1,e("width",N),e("height",D),B.unbind(j,"mousemove",c),B.unbind(j,"mouseup",d),$!=j&&(B.unbind($,"mousemove",c),B.unbind($,"mouseup",d)),B.remove(_),B.remove(S),U&&"TABLE"!=b.nodeName||f(b),l.fire("ObjectResized",{target:b,width:N,height:D}),B.setAttrib(b,"style",B.getAttrib(b,"style")),l.nodeChanged()}function f(e,i,o){var t,a,s,n,r;h(),g(),t=B.getPos(e,W),T=t.x,O=t.y,r=e.getBoundingClientRect(),a=r.width||r.right-r.left,s=r.height||r.bottom-r.top,b!=e&&(m(),b=e,N=D=0),n=l.fire("ObjectSelected",{target:e}),u(e)&&!n.isDefaultPrevented()?F(w,function(t,e){function n(e){k=e.screenX,x=e.screenY,A=b.clientWidth,P=b.clientHeight,I=P/A,(C=t).startPos={x:a*t[0]+T,y:s*t[1]+O},L=W.scrollWidth,M=W.scrollHeight,_=b.cloneNode(!0),B.addClass(_,"mce-clonedresizable"),B.setAttrib(_,"data-mce-bogus","all"),_.contentEditable=!1,_.unSelectabe=!0,B.setStyles(_,{left:T,top:O,margin:0}),_.removeAttribute("data-mce-selected"),W.appendChild(_),B.bind(j,"mousemove",c),B.bind(j,"mouseup",d),$!=j&&(B.bind($,"mousemove",c),B.bind($,"mouseup",d)),S=B.add(W,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},A+" &times; "+P)}var r;i?e==i&&n(o):((r=B.get("mceResizeHandle"+e))&&B.remove(r),r=B.add(W,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),X.ie&&(r.contentEditable=!1),B.bind(r,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)}),t.elm=r,B.setStyles(r,{left:a*t[0]+T-r.offsetWidth/2,top:s*t[1]+O-r.offsetHeight/2}))}):h(),b.setAttribute("data-mce-selected","1")}function h(){var e,t;for(e in g(),b&&b.removeAttribute("data-mce-selected"),w)(t=B.get("mceResizeHandle"+e))&&(B.unbind(t),B.remove(t))}function n(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,r;R||l.removed||(F(B.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),r="mousedown"==e.type?e.target:i.getNode(),t(r=B.$(r).closest(U?"table":"table,img,hr")[0],W)&&(v(),t(n=i.getStart(!0),r)&&t(i.getEnd(!0),r)&&(!U||r!=n&&"IMG"!==n.nodeName))?f(r):h())}function r(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function e(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function o(e){var t,n,r,i,o,a,s,u=e.srcElement;for(n in t=u.getBoundingClientRect(),a=E.clientX-t.left,s=E.clientY-t.top,w)if(r=w[n],i=u.offsetWidth*r[0],o=u.offsetHeight*r[1],H(i-a)<8&&H(o-s)<8){C=r;break}R=!0,l.fire("ObjectResizeStart",{target:b,width:b.clientWidth,height:b.clientHeight}),l.getDoc().selection.empty(),f(u,n,E)}function a(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function s(e){return J(K(l.getBody(),e))}function p(e){var t=e.srcElement;if(s(t))a(e);else if(t!=b){if(l.fire("ObjectSelected",{target:t}),m(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);"IMG"!=t.nodeName&&"TABLE"!=t.nodeName||(h(),r(b=t,"resizestart",o))}}function m(){e(b,"resizestart",o)}function g(){for(var e in w){var t=w[e];t.elm&&(B.unbind(t.elm),delete t.elm)}}function v(){try{l.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function y(e){var t;if(U){t=j.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(n){}}}function t(){b=_=null,U&&(m(),e(W,"controlselect",p))}var b,_,S,w,C,E,k,x,T,O,A,P,I,R,N,D,L,M,B=l.dom,F=G.each,j=l.getDoc(),$=document,U=X.ie&&X.ie<11,H=Math.abs,V=Math.round,W=l.getBody();w={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var z=".mce-content-body";return l.contentStyles.push(z+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+z+" .mce-resizehandle:hover {background: #000}"+z+" img[data-mce-selected],"+z+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+z+" .mce-clonedresizable {position: absolute;"+(X.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+z+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),l.on("init",function(){U?(l.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(h(),y(e.target))}),r(W,"controlselect",p),l.on("mousedown",function(e){E=e})):(v(),11<=X.ie&&(l.on("mousedown click",function(e){var t=e.target,n=t.nodeName;R||!/^(TABLE|IMG|HR)$/.test(n)||s(t)||(l.selection.select(t,"TABLE"==n),"mousedown"==e.type&&l.nodeChanged())}),l.dom.bind(W,"mscontrolselect",function(e){function t(e){Y.setEditorTimeout(l,function(){l.selection.select(e)})}if(s(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&t(e.target))})));var t=Y.throttle(function(e){l.composing||n(e)});l.on("nodechange ResizeEditor ResizeWindow drop",t),l.on("keyup compositionend",function(e){b&&"TABLE"==b.nodeName&&t(e)}),l.on("hide blur",h)}),l.on("remove",g),{isResizable:u,showResizeRect:f,hideResizeRect:h,updateResizeRect:n,controlSelect:y,destroy:t}}}),e("tinymce/util/Fun",[],function(){function e(e){return function(){return e}}function t(t){return function(e){return!t(e)}}function n(t,n){return function(e){return t(n(e))}}function r(){var n=s.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}function i(){var n=s.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}function o(e){var t=s.call(arguments);return t.length-1>=e.length?e.apply(this,t.slice(1)):function(){var e=t.concat([].slice.call(arguments));return o.apply(this,e)}}function a(){}var s=[].slice;return{constant:e,negate:t,and:i,or:r,curry:o,compose:n,noop:a}}),e("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(e,t,n){function r(e){return!m(e)&&(d(e)?!f(e.parentNode):h(e)||c(e)||p(e)||l(e))}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode){if(l(e))return!1;if(u(e))return!0}return!0}function o(e){return!!l(e)&&!0!==t.reduce(e.getElementsByTagName("*"),function(e,t){return e||u(t)},!1)}function a(e){return h(e)||o(e)}function s(e,t){return r(e)&&i(e,t)}var u=e.isContentEditableTrue,l=e.isContentEditableFalse,c=e.isBr,d=e.isText,f=e.matchNodeNames("script style textarea"),h=e.matchNodeNames("img input textarea hr iframe video audio object"),p=e.matchNodeNames("table"),m=n.isCaretContainer;return{isCaretCandidate:r,isInEditable:i,isAtomic:a,isEditableCaretCandidate:s}}),e("tinymce/geom/ClientRect",[],function(){function n(e){return e?{left:c(e.left),top:c(e.top),bottom:c(e.bottom),right:c(e.right),width:c(e.width),height:c(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,t){return e=n(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function t(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right}function r(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function i(e,t){return e.bottom<t.top||!(e.top>t.bottom)&&r(t.top-e.bottom,e,t)}function o(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&r(t.bottom-e.top,e,t)}function a(e,t){return e.left<t.left}function s(e,t){return e.right>t.right}function u(e,t){return i(e,t)?-1:o(e,t)?1:a(e,t)?-1:s(e,t)?1:0}function l(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}var c=Math.round;return{clone:n,collapse:e,isEqual:t,isAbove:i,isBelow:o,isLeft:a,isRight:s,compare:u,containsXY:l}}),e("tinymce/text/ExtendingChar",[],function(){function e(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&t.test(e)}var t=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]");return{isExtendingChar:e}}),e("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(c,e,t,n,r,l,d){function f(e){return"createRange"in e?e.createRange():t.DOM.createRng()}function i(e){return e&&/[\r\n\t ]/.test(e)}function h(e){var t,n=e.startContainer,r=e.startOffset;return!(!i(e.toString())||!s(n.parentNode)||!i((t=n.data)[r-1])&&!i(t[r+1]))}function p(e){function r(e){var t,n=e.ownerDocument,r=f(n),i=n.createTextNode("\xa0"),o=e.parentNode;return o.insertBefore(i,e),r.setStart(i,0),r.setEnd(i,1),t=l.clone(r.getBoundingClientRect()),o.removeChild(i),t}function i(e){var t,n;return t=0<(n=e.getClientRects()).length?l.clone(n[0]):l.clone(e.getBoundingClientRect()),_(e)&&0===t.left?r(e):t}function o(e,t){return(e=l.collapse(e,t)).width=1,e.right=e.left+1,e}function a(e){0!==e.height&&(0<u.length&&l.isEqual(e,u[u.length-1])||u.push(e))}function t(e,t){var n=f(e.ownerDocument);if(t<e.data.length){if(d.isExtendingChar(e.data[t]))return u;if(d.isExtendingChar(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!h(n)))return a(o(i(n),!1)),u}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),h(n)||a(o(i(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),h(n)||a(o(i(n),!0)))}var n,s,u=[];if(b(e.container()))return t(e.container(),e.offset()),u;if(g(e.container()))if(e.isAtEnd())s=S(e.container(),e.offset()),b(s)&&t(s,s.data.length),y(s)&&!_(s)&&a(o(i(s),!1));else{if(s=S(e.container(),e.offset()),b(s)&&t(s,0),y(s)&&e.isAtEnd())return a(o(i(s),!1)),u;n=S(e.container(),e.offset()-1),y(n)&&!_(n)&&(v(n)||v(s)||!y(s))&&a(o(i(n),!1)),y(s)&&a(o(i(s),!0))}return u}function m(t,n,e){function r(){return b(t),0===n}function i(){return b(t)?n>=t.data.length:n>=t.childNodes.length}function o(){var e;return(e=f(t.ownerDocument)).setStart(t,n),e.setEnd(t,n),e}function a(){return e||(e=p(new m(t,n))),e}function s(){return 0<a().length}function u(e){return e&&t===e.container()&&n===e.offset()}function l(e){return S(t,e?n-1:n)}return{container:c.constant(t),offset:c.constant(n),toRange:o,getClientRects:a,isVisible:s,isAtStart:r,isAtEnd:i,isEqual:u,getNode:l}}var g=e.isElement,o=r.isCaretCandidate,v=e.matchStyleValues("display","block table"),a=e.matchStyleValues("float","left right"),y=c.and(g,o,c.negate(a)),s=c.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),b=e.isText,_=e.isBr,u=t.nodeIndex,S=n.getNode;return m.fromRangeStart=function(e){return new m(e.startContainer,e.startOffset)},m.fromRangeEnd=function(e){return new m(e.endContainer,e.endOffset)},m.after=function(e){return new m(e.parentNode,u(e)+1)},m.before=function(e){return new m(e.parentNode,u(e))},m}),e("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(u,e,l,c,o){function i(e){var t=e.parentNode;return v(t)?i(t):t}function a(e){return e?c.reduce(e.childNodes,function(e,t){return v(t)&&"BR"!=t.nodeName?e=e.concat(a(t)):e.push(t),e},[]):[]}function d(e,t){for(;(e=e.previousSibling)&&g(e);)t+=e.data.length;return t}function s(t){return function(e){return t===e}}function t(e){var r,t,n;return r=a(i(e)),t=c.findIndex(r,s(e),e),r=r.slice(0,t+1),n=c.reduce(r,function(e,t,n){return g(t)&&g(r[n-1])&&e++,e},0),r=c.filter(r,u.matchNodeNames(e.nodeName)),(t=c.findIndex(r,s(e),e))-n}function f(e){return(g(e)?"text()":e.nodeName.toLowerCase())+"["+t(e)+"]"}function h(e,t,n){var r=[];for(t=t.parentNode;t!=e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}function n(e,t){var n,r,i,o,a,s=[];return n=t.container(),r=t.offset(),g(n)?i=d(n,r):(r>=(o=n.childNodes).length?(i="after",r=o.length-1):i="before",n=o[r]),s.push(f(n)),a=h(e,n),a=c.filter(a,l.negate(u.isBogus)),(s=s.concat(c.map(a,function(e){return f(e)}))).reverse().join("/")+","+i}function p(e,t,n){var r=a(e);return r=c.filter(r,function(e,t){return!g(e)||!g(r[t-1])}),(r=c.filter(r,u.matchNodeNames(t)))[n]}function m(e,t){for(var n,r=e,i=0;g(r);){if(n=r.data.length,i<=t&&t<=i+n){e=r,t-=i;break}if(!g(r.nextSibling)){e=r,t=n;break}i+=n,r=r.nextSibling}return t>e.data.length&&(t=e.data.length),new o(e,t)}function r(e,t){var n,r,i;return t?(t=(n=t.split(","))[0].split("/"),i=1<n.length?n[1]:"before",(r=c.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),p(e,t[1],parseInt(t[2],10))):null},e))?g(r)?m(r,parseInt(i,10)):(i="after"===i?y(r)+1:y(r),new o(r.parentNode,i)):null):null}var g=u.isText,v=u.isBogus,y=e.nodeIndex;return{create:n,resolve:r}}),e("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils"],function(h,v,y,b,_,S,w){function e(m){var g=m.dom;this.getBookmark=function(e,l){function t(e,t){var n=0;return v.each(g.select(e),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!=t&&void n++}),n}function n(o){function e(e){var t,n,r,i=e?"start":"end";t=o[i+"Container"],n=o[i+"Offset"],1==t.nodeType&&"TR"==t.nodeName&&(t=(r=t.childNodes)[Math.min(e?n:n-1,r.length-1)])&&(n=e?0:t.childNodes.length,o["set"+(e?"Start":"End")](t,n))}return e(!0),e(),o}function r(e){function t(e,t){var n,r,i=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],a=[],s=0;if(3==i.nodeType){if(l)for(n=i.previousSibling;n&&3==n.nodeType;n=n.previousSibling)o+=n.nodeValue.length;a.push(o)}else o>=(r=i.childNodes).length&&r.length&&(s=1,o=Math.max(0,r.length-1)),a.push(g.nodeIndex(r[o],l)+s);for(;i&&i!=u;i=i.parentNode)a.push(g.nodeIndex(i,l));return a}var u=g.getRoot(),n={};return n.start=t(e,!0),m.isCollapsed()||(n.end=t(e)),n}function i(e){function t(e,t){var n;if(S.isElement(e)&&(e=w.getNode(e,t),C(e)))return e;if(y.isCaretContainer(e)){if(S.isText(e)&&y.isCaretContainerBlock(e)&&(e=e.parentNode),n=e.previousSibling,C(n))return n;if(n=e.nextSibling,C(n))return n}}return t(e.startContainer,e.startOffset)||t(e.endContainer,e.endOffset)}var o,a,s,u,c,d,f,h="&#xFEFF;";if(2==e)return c=(d=m.getNode())?d.nodeName:null,o=m.getRng(),C(d)||"IMG"==c?{name:c,index:t(c,d)}:m.tridentSel?m.tridentSel.getBookmark(e):(d=i(o))?{name:c=d.tagName,index:t(c,d)}:r(o);if(3==e)return o=m.getRng(),{start:b.create(g.getRoot(),_.fromRangeStart(o)),end:b.create(g.getRoot(),_.fromRangeEnd(o))};if(e)return{rng:m.getRng()};if(o=m.getRng(),s=g.uniqueId(),u=m.isCollapsed(),f="overflow:hidden;line-height:0px",o.duplicate||o.item){if(o.item)return{name:c=(d=o.item(0)).nodeName,index:t(c,d)};a=o.duplicate();try{o.collapse(),o.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_start" style="'+f+'">'+h+"</span>"),u||(a.collapse(!1),o.moveToElementText(a.parentElement()),0===o.compareEndPoints("StartToEnd",a)&&a.move("character",-1),a.pasteHTML('<span data-mce-type="bookmark" id="'+s+'_end" style="'+f+'">'+h+"</span>"))}catch(p){return null}}else{if("IMG"==(c=(d=m.getNode()).nodeName))return{name:c,index:t(c,d)};a=n(o.cloneRange()),u||(a.collapse(!1),a.insertNode(g.create("span",{"data-mce-type":"bookmark",id:s+"_end",style:f},h))),(o=n(o)).collapse(!0),o.insertNode(g.create("span",{"data-mce-type":"bookmark",id:s+"_start",style:f},h))}return m.moveToBookmark({id:s,keep:1}),{id:s}},this.moveToBookmark=function(s){function e(e){var t,n,r,i,o=s[e?"start":"end"];if(o){for(r=o[0],n=u,t=o.length-1;1<=t;t--){if(i=n.childNodes,o[t]>i.length-1)return;n=i[o[t]]}3===n.nodeType&&(r=Math.min(o[0],n.nodeValue.length)),1===n.nodeType&&(r=Math.min(o[0],n.childNodes.length)),e?a.setStart(n,r):a.setEnd(n,r)}return!0}function t(e){var t,n,r,i,o=g.get(s.id+"_"+e),a=s.keep;if(o&&(t=o.parentNode,"start"==e?(a?(t=o.firstChild,n=1):n=g.nodeIndex(o),l=c=t,d=f=n):(a?(t=o.firstChild,n=1):n=g.nodeIndex(o),c=t,f=n),!a)){for(i=o.previousSibling,r=o.nextSibling,v.each(v.grep(o.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});o=g.get(s.id+"_"+e);)g.remove(o,1);i&&r&&i.nodeType==r.nodeType&&3==i.nodeType&&!h.opera&&(n=i.nodeValue.length,i.appendData(r.nodeValue),g.remove(r),"start"==e?(l=c=i,d=f=n):(c=i,f=n))}}function n(e){return!g.isBlock(e)||e.innerHTML||h.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function r(){var e,t;return e=g.createRng(),t=b.resolve(g.getRoot(),s.start),e.setStart(t.container(),t.offset()),t=b.resolve(g.getRoot(),s.end),e.setEnd(t.container(),t.offset()),e}var a,u,l,c,d,f;if(s)if(v.isArray(s.start)){if(a=g.createRng(),u=g.getRoot(),m.tridentSel)return m.tridentSel.moveToBookmark(s);e(!0)&&e()&&m.setRng(a)}else"string"==typeof s.start?m.setRng(r(s)):s.id?(t("start"),t("end"),l&&((a=g.createRng()).setStart(n(l),d),a.setEnd(n(c),f),m.setRng(a))):s.name?m.select(g.select(s.name)[s.index]):s.rng&&m.setRng(s.rng)}}var C=S.isContentEditableFalse;return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),e("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretPosition"],function(u,o,a,n,s,f,l,e,t){function r(e,t,n,r){var i=this;i.dom=e,i.win=t,i.serializer=n,i.editor=r,i.bookmarkManager=new s(i),i.controlSelection=new a(i,r),i.win.getSelection||(i.tridentSel=new o(i))}var c=e.each,d=e.trim,h=l.ie;return r.prototype={setCursorLocation:function(e,t){var n=this,r=n.dom.createRng();e?(r.setStart(e,t),r.setEnd(e,t),n.setRng(r),n.collapse(!1)):(n._moveEndPoint(r,n.editor.getBody(),!0),n.setRng(r))},getContent:function(e){var t,n,r,i=this,o=i.getRng(),a=i.dom.create("body"),s=i.getSel();return t=n="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,i.editor.fire("BeforeGetContent",e),"text"==e.format?i.isCollapsed()?"":o.text||(s.toString?s.toString():""):(o.cloneContents?(r=o.cloneContents())&&a.appendChild(r):o.item!==Se||o.htmlText!==Se?(a.innerHTML="<br>"+(o.item?o.item(0).outerHTML:o.htmlText),a.removeChild(a.firstChild)):a.innerHTML=o.toString(),/^\s/.test(a.innerHTML)&&(t=" "),/\s+$/.test(a.innerHTML)&&(n=" "),e.getInner=!0,e.content=i.isCollapsed()?"":t+i.serializer.serialize(a,e)+n,i.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,r,i,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(r=s.createDocumentFragment(),i=s.createElement("div"),r.appendChild(i),i.outerHTML=e,a.insertNode(r))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(u){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,r,i,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for((r=a.duplicate()).collapse(1),(t=r.parentElement()).ownerDocument!==o.dom.doc&&(t=o.dom.getRoot()),n=i=a.parentElement();i=i.parentNode;)if(i==t){t=n;break}return t}return 1==(t=a.startContainer).nodeType&&t.hasChildNodes()&&(e&&a.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,a.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,r=this,i=r.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==r.dom.doc&&(t=r.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=i.endContainer,n=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[0<n?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,r=this,i=r.dom,o=i.createRng();if(r.lastFocusBookmark=null,e){if(!t&&r.controlSelection.controlSelect(e))return;n=i.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(r._moveEndPoint(o,e,!0),r._moveEndPoint(o,e)),r.setRng(o)}return e},isCollapsed:function(){var e=this,t=e.getRng(),n=e.getSel();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!n||t.collapsed)},collapse:function(e){var t,n=this,r=n.getRng();r.item&&(t=r.item(0),(r=n.win.document.body.createTextRange()).moveToElementText(t)),r.collapse(!!e),n.setRng(r)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}}var n,r,i,o,a,s,u=this;if(!u.win)return null;if(null==(o=u.win.document))return null;if(!e&&u.lastFocusBookmark){var l=u.lastFocusBookmark;return l.startContainer?((r=o.createRange()).setStart(l.startContainer,l.startOffset),r.setEnd(l.endContainer,l.endOffset)):r=l,r}if(e&&u.tridentSel)return u.tridentSel.getRangeAt(0);try{(n=u.getSel())&&(r=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if((s=u.editor.fire("GetSelectionRange",{range:r})).range!==r)return s.range;if(h&&r&&r.setStart&&o.selection){try{a=o.selection.createRange()}catch(c){}a&&a.item&&(i=a.item(0),(r=o.createRange()).setStartBefore(i),r.setEndAfter(i))}return r||(r=o.createRange?o.createRange():o.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(i=u.dom.getRoot(),r.setStart(i,0),r.setEnd(i,0)),u.selectedRange&&u.explicitRange&&(0===t(r.START_TO_START,r,u.selectedRange)&&0===t(r.END_TO_END,r,u.selectedRange)?r=u.explicitRange:(u.selectedRange=null,u.explicitRange=null)),r},setRng:function(e,t){var n,r,i=this;if(e)if(e.select){i.explicitRange=null;try{e.select()}catch(o){}}else if(i.tridentSel){if(e.cloneRange)try{i.tridentSel.addRange(e)}catch(o){}}else{if(n=i.getSel(),e=i.editor.fire("SetSelectionRange",{range:e}).range,n){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(o){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=0<n.rangeCount?n.getRangeAt(0):null}e.collapsed||e.startContainer!=e.endContainer||!n.setBaseAndExtent||l.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(r=e.startContainer.childNodes[e.startOffset])&&"IMG"==r.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode!==e.startContainer&&n.setBaseAndExtent(r,0,r,1)),i.editor.fire("AfterSetSelectionRange",{range:e})}},setNode:function(e){var t=this;return t.setContent(t.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n,r,i,o,a=this,s=a.getRng(),u=a.dom.getRoot();return s?(n=s.startContainer,r=s.endContainer,i=s.startOffset,o=s.endOffset,s.setStart?(t=s.commonAncestorContainer,!s.collapsed&&(n==r&&o-i<2&&n.hasChildNodes()&&(t=n.childNodes[i]),3===n.nodeType&&3===r.nodeType&&(n=n.length===i?e(n.nextSibling,!0):n.parentNode,r=0===o?e(r.previousSibling,!1):r.parentNode,n&&n===r))?n:t&&3==t.nodeType?t.parentNode:t):((t=s.item?s.item(0):s.parentElement()).ownerDocument!==a.win.document&&(t=u),t)):u},getSelectedBlocks:function(e,t){var n,r,i=this,o=i.dom,a=[];if(r=o.getRoot(),e=o.getParent(e||i.getStart(),o.isBlock),t=o.getParent(t||i.getEnd(),o.isBlock),e&&e!=r&&a.push(e),e&&t&&e!=t)for(var s=new u(n=e,r);(n=s.next())&&n!=t;)o.isBlock(n)&&a.push(n);return t&&e!=t&&t!=r&&a.push(t),a},isForward:function(){var e,t,n=this.dom,r=this.getSel();return!(r&&r.anchorNode&&r.focusNode)||((e=n.createRng()).setStart(r.anchorNode,r.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(r.focusNode,r.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this,t=e.getRng();return l.range&&new n(e.dom).normalize(t
)&&e.setRng(t,e.isForward()),t},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,r=s.dom,i=r.getParents(n,null,r.getRoot()),o={};c(s.selectorChangedData,function(e,n){c(i,function(t){if(r.is(t,n))return a[n]||(c(e,function(e){e(!0,{node:t,selector:n,parents:i})}),a[n]=e),o[n]=e,!1})}),c(a,function(e,t){o[t]||(delete a[t],c(e,function(e){e(!1,{node:n,selector:t,parents:i})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){function n(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}}var r,i,o,a,s=this,u=s.dom,l=u.getRoot(),c=0;if(f.isElement(e)){if(!1===t&&(c=e.offsetHeight),"BODY"!=l.nodeName){var d=s.getScrollContainer();if(d)return r=n(e).y-n(d).y+c,a=d.clientHeight,void((r<(o=d.scrollTop)||o+a<r+25)&&(d.scrollTop=r<o?r:r-a+25))}i=u.getViewPort(s.editor.getWin()),r=u.getPos(e).y+c,o=i.y,a=i.h,(r<i.y||o+a<r+25)&&s.editor.getWin().scrollTo(0,r<o?r:r-a+25)}},placeCaretAt:function(e,t){this.setRng(n.getCaretRangeFromPoint(e,t,this.editor.getDoc()))},_moveEndPoint:function(e,t,n){var r=t,i=new u(t,r),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==d(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(l.ie&&l.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?i.next():i.prev());"BODY"==r.nodeName&&(n?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},getBoundingClientRect:function(){var e=this.getRng();return e.collapsed?t.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){this.win=null,this.controlSelection.destroy()}},r}),e("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(o,e){function t(i){this.compare=function(e,t){function n(n){var r={};return a(i.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&0!==t.indexOf("data-")&&(r[t]=i.getAttrib(n,t))}),r}function r(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(void 0===(n=t[r]))return!1;if(e[r]!=n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0}return e.nodeName==t.nodeName&&(!!r(n(e),n(t))&&(!!r(i.parseStyle(i.getAttrib(e,"style")),i.parseStyle(i.getAttrib(t,"style")))&&(!o.isBookmarkNode(e)&&!o.isBookmarkNode(t))))}}var a=e.each;return t}),e("tinymce/fmt/Preview",["tinymce/dom/DOMUtils","tinymce/util/Tools","tinymce/html/Schema"],function(e,d,s){function c(e,t){function n(e,t){t.classes.length&&p.addClass(e,t.classes.join(" ")),p.setAttribs(e,t.attrs)}function u(e){var t;return i="string"==typeof e?{name:e,classes:[],attrs:{}}:e,n(t=p.create(i.name),i),t}function l(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=a.getElementRule(n).parentsRequired;return!(!r||!r.length)&&(t&&-1!==d.inArray(r,t)?t:r[0])}function c(n,e,t){var r,i,o,a=e.length&&e[0],s=a&&a.name;if(o=l(n,s))s==o?(i=e[0],e=e.slice(1)):i=o;else if(a)i=e[0],e=e.slice(1);else if(!t)return n;return i&&(r=u(i)).appendChild(n),t&&(r||(r=p.create("div")).appendChild(n),d.each(t,function(e){var t=u(e);r.insertBefore(t,n)})),c(r,e,i&&i.siblings)}var r,i,o,a=t&&t.schema||new s({});return e&&e.length?(r=u(i=e[0]),(o=p.create("div")).appendChild(c(r,e.slice(1),i.siblings)),o):""}function t(e,t){return c(f(e),t)}function r(e){var t,a={classes:[],attrs:{}};return"*"!==(e=a.selector=d.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,i){switch(t){case"#":a.attrs.id=n;break;case".":a.classes.push(n);break;case":":-1!==d.inArray("checked disabled enabled read-only required".split(" "),n)&&(a.attrs[n]=n)}if("["==r){var o=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);o&&(a.attrs[o[1]]=o[2])}return""})),a.name=t||"div",a}function f(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),d.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=d.map(e.split(/(?:~\+|~|\+)/),r),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]}function n(n,e){function r(e){return e.replace(/%(\w+)/g,"")}var t,i,o,a,s,u,l="";if(!1===(u=n.settings.preview_styles))return"";if("string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(u=e.preview)?"":(t=e.block||e.inline||"span",(a=f(e.selector)).length?(a[0].name||(a[0].name=t),t=e.selector,i=c(a,n)):i=c([t],n),o=p.select(t,i)[0]||i.firstChild,h(e.styles,function(e,t){(e=r(e))&&p.setStyle(o,t,e)}),h(e.attributes,function(e,t){(e=r(e))&&p.setAttrib(o,t,e)}),h(e.classes,function(e){e=r(e),p.hasClass(o,e)||p.addClass(o,e)}),n.fire("PreviewFormats"),p.setStyles(i,{position:"absolute",left:-65535}),n.getBody().appendChild(i),s=p.getStyle(n.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,h(u.split(" "),function(e){var t=p.getStyle(o,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=p.getStyle(n.getBody(),e,!0),"#ffffff"==p.toHex(t).toLowerCase())||"color"==e&&"#000000"==p.toHex(t).toLowerCase())){if("font-size"==e&&/em|%$/.test(t)){if(0===s)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*s+"px"}"border"==e&&t&&(l+="padding:0 2px;"),l+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),p.remove(i),l)}var h=d.each,p=e.DOM;return{getCssText:n,parseSelector:f,selectorToHtml:t}}),e("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(a,s,u){function e(e,t){var n=r[e];n||(r[e]=n=[]),r[e].push(t)}function t(e,t){c(r[e],function(e){e(t)})}var r={},l=a.filter,c=a.each;return e("pre",function(e){function t(e){return r(e.previousSibling)&&-1!=a.indexOf(i,e.previousSibling)}function n(e,t){u(t).remove(),u(e).append("<br><br>").append(t.childNodes)}var r,i,o=e.selection.getRng();r=s.matchNodeNames("pre"),o.collapsed||(i=e.selection.getSelectedBlocks(),c(l(l(i,r),t),function(e){n(e.previousSibling,e)}))}),{postProcess:t}}),e("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Fun","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(ce,de,fe,he,pe,me,ge,ve){return function(b){function _(e){return e.nodeType&&(e=e.nodeName),!!b.schema.getTextBlockElements()[e.toLowerCase()]}function v(e){return/^(TH|TD)$/.test(e.nodeName)}function u(e){return e&&/^(IMG)$/.test(e.nodeName)}function y(e,t){return Y.getParents(e,t,Y.getRoot())}function S(e){return 1===e.nodeType&&"_mce_caret"===e.id}function e(){n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){se(t,function(e,t){Y.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),se("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n(e,{block:e,remove:"all"})}),n(b.settings.formats)}function t(){b.addShortcut("meta+b","bold_desc","Bold"),b.addShortcut("meta+i","italic_desc","Italic"),b.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)b.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])}function w(e){return e?G[e]:G}function n(e,t){e&&("string"!=typeof e?se(e,function(e,t){n(t,e)}):(t=t.length?t:[t],se(t,function(e){e.deep===W&&(e.deep=!e.selector),e.split===W&&(e.split=!e.selector||e.inline),e.remove===W&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),G[e]=t))}function r(e){return e&&G[e]&&delete G[e],G}function a(e,t){var n=w(t);if(n)for(var r=0;r<n.length;r++)if(!1===n[r].inherit&&Y.is(e,n[r].selector))return!0;return!1}function C(e){var t;return b.dom.getParent(e,function(e){return(t=b.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function l(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=C(e.parentNode),b.dom.getStyle(e,"color")&&t?b.dom.setStyle(e,"text-decoration",t):b.dom.getStyle(e,"text-decoration")===t&&b.dom.setStyle(e,"text-decoration",null))}function E(h,p,a){function m(n,e){if(e=e||y,n){if(e.onformat&&e.onformat(n,e,p,a),se(e.styles,function(e,t){Y.setStyle(n,t,N(e,p))}),e.styles){var t=Y.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}se(e.attributes,function(e,t){Y.setAttrib(n,t,N(e,p))}),se(e.classes,function(e){e=N(e,p),Y.hasClass(n,e)||Y.addClass(n,e)})}}function g(e,t){var n=!1;return!!y.selector&&(se(e,function(e){if(!("collapsed"in e&&e.collapsed!==i))return Y.is(t,e.selector)&&!S(t)?(m(t,e),!(n=!0)):void 0}),n)}function e(){function e(e,t){var n=new ce(t);for(a=n.prev2();a;a=n.prev2()){if(3==a.nodeType&&0<a.data.length)return a;if(1<a.childNodes.length||a==e||"BR"==a.tagName)return a}}var t=b.selection.getRng(),n=t.startContainer,r=t.endContainer;if(n!=r&&0===t.endOffset){var i=e(n,r),o=3==i.nodeType?i.data.length:i.childNodes.length;t.setEnd(i,o)}return t}function t(e,t,u){var l,c,d=[],f=!0;l=y.inline||y.block,m(c=Y.create(l)),K.walk(e,function(e){function a(e){var t,n,r,i;if(i=f,t=e.nodeName.toLowerCase(),n=e.parentNode.nodeName.toLowerCase(),1===e.nodeType&&oe(e)&&(i=f,f="true"===oe(e),r=!0),O(t,"br"))return s=0,void(y.block&&Y.remove(e));if(y.wrapper&&k(e,h,p))s=0;else{if(f&&!r&&y.block&&!y.wrapper&&_(t)&&J(n,l))return m(e=Y.rename(e,l)),d.push(e),void(s=0);if(y.selector){var o=g(v,e);if(!y.inline||o)return void(s=0)}!f||r||!J(l,t)||!J(n,l)||!u&&3===e.nodeType&&1===e.nodeValue.length&&65279===e.nodeValue.charCodeAt(0)||S(e)||y.inline&&Q(e)?(s=0,se(ue(e.childNodes),a),r&&(f=i),s=0):(s||(s=Y.clone(c,re),e.parentNode.insertBefore(s,e),d.push(s)),s.appendChild(e))}}var s;se(e,a)}),!0===y.links&&se(d,function(e){function t(e){"A"===e.nodeName&&m(e,y),se(ue(e.childNodes),t)}t(e)}),se(d,function(n){function r(e){var t=0;return se(e.childNodes,function(e){D(e)||ae(e)||t++}),t}function i(e){var t=!1;return se(e.childNodes,function(e){if(A(e))return t=e,!1}),t}function e(e,t){do{if(1!==r(e))break;if(!(e=i(e)))break;if(t(e))return e}while(e);return null}function t(e){var t,n;return(t=i(e))&&!ae(t)&&T(t,y)&&(m(n=Y.clone(t,re)),Y.replace(n,e,ie),Y.remove(t,1)),n||e}var o;if(o=r(n),!(1<d.length)&&Q(n)||0!==o){if(y.inline||y.wrapper){if(y.exact||1!==o||(n=t(n)),se(v,function(t){se(Y.select(t.inline,n),function(e){ae(e)||B(t,p,e,t.exact?e:null)})}),k(n.parentNode,h,p)&&B(y,p,n)&&(n=0),y.merge_with_parents&&Y.getParent(n.parentNode,function(e){if(k(e,h,p))return B(y,p,n)&&(n=0),ie}),!Q(n)&&!R(n,"fontSize")){var a=e(n,P("fontSize"));a&&E("fontsize",{value:R(a,"fontSize")},n)}n&&!1!==y.merge_siblings&&(n=j(n=j(F(n),n),F(n,ie)))}}else Y.remove(n,1)})}var n,r,v=w(h),y=v[0],i=!a&&X.isCollapsed();if("false"!==oe(X.getNode())){if(y){if(a)a.nodeType?g(v,a)||((r=Y.createRng()).setStartBefore(a),r.setEndAfter(a),t(M(r,v),null,!0)):t(a,null,!0);else if(i&&y.inline&&!Y.select("td[data-mce-selected],th[data-mce-selected]").length)U("apply",h,p);else{var o=b.selection.getNode();Z||!v[0].defaultBlock||Y.getParent(o,Y.isBlock)||E(v[0].defaultBlock),b.selection.setRng(e()),n=X.getBookmark(),t(M(X.getRng(ie),v),n),y.styles&&((y.styles.color||y.styles.textDecoration)&&(le(o,l,"childNodes"),l(o)),y.styles.backgroundColor&&f(o,P("fontSize"),I("backgroundColor",N(y.styles.backgroundColor,p)))),X.moveToBookmark(n),H(X.getRng(ie)),b.nodeChanged()}ve.postProcess(h,b)}}else{a=X.getNode();for(var s=0,u=v.length;s<u;s++)if(v[s].ceFalseOverride&&Y.is(a,v[s].selector))return void m(a,v[s])}}function m(r,c,e,i){function a(e){var t,n,r,i,o;if(1===e.nodeType&&oe(e)&&(i=p,p="true"===oe(e),o=!0),t=ue(e.childNodes),p&&!o)for(n=0,r=f.length;n<r&&!B(f[n],c,e,e);n++);if(h.deep&&t.length){for(n=0,r=t.length;n<r;n++)a(t[n]);o&&(p=i)}}function t(e){var n;return se(y(e.parentNode).reverse(),function(e){var t;n||"_start"==e.id||"_end"==e.id||(t=k(e,r,c,i))&&!1!==t.split&&(n=e)}),n}function n(e,t,n,r){var i,o,a,s,u,l;if(e){for(l=e.parentNode,i=t.parentNode;i&&i!=l;i=i.parentNode){for(o=Y.clone(i,re),u=0;u<f.length;u++)if(B(f[u],c,o,o)){o=0;break}o&&(a&&o.appendChild(a),s||(s=o),a=o)}!r||h.mixed&&Q(e)||(t=Y.split(e,t)),a&&(n.parentNode.insertBefore(a,n),s.appendChild(n))}return t}function o(e){return n(t(e),e,e,!0)}function s(e){var t=Y.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return ae(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),Y.remove(t,!0),n}function u(e){var t,n,r=e.commonAncestorContainer;if(e=M(e,f,ie),h.split){if((t=$(e,ie))!=(n=$(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&v(n)&&n.firstChild&&(n=n.firstChild||n),Y.isChildOf(t,n)&&!Q(n)&&!v(t)&&!v(n))return o(t=L(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=s(ie));t=L(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=L(n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=s(ie),n=s()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=ee(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=ee(n)+1}K.walk(e,function(e){se(e,function(e){a(e),1===e.nodeType&&"underline"===b.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===C(e.parentNode)&&B({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var l,d,f=w(r),h=f[0],p=!0;if(e)e.nodeType?((d=Y.createRng()).setStartBefore(e),d.setEndAfter(e),u(d)):u(e);else if("false"!==oe(X.getNode()))X.isCollapsed()&&h.inline&&!Y.select("td[data-mce-selected],th[data-mce-selected]").length?U("remove",r,c,i):(l=X.getBookmark(),u(X.getRng(ie)),X.moveToBookmark(l),h.inline&&x(r,c,X.getStart())&&H(X.getRng(!0)),b.nodeChanged());else{e=X.getNode();for(var m=0,g=f.length;m<g&&(!f[m].ceFalseOverride||!B(f[m],c,e,e));m++);}}function i(e,t,n){var r=w(e);!x(e,t,n)||"toggle"in r[0]&&!r[0].toggle?E(e,t,n):m(e,t,n)}function k(e,t,s,u){function n(e,t,n){var r,i,o,a=t[n];if(t.onmatch)return t.onmatch(e,t,n);if(a)if(a.length===W){for(r in a)if(a.hasOwnProperty(r)){if(i="attributes"===n?Y.getAttrib(e,r):R(e,r),u&&!i&&!t.exact)return;if((!u||t.exact)&&!O(i,h(N(a[r],s),r)))return}}else for(o=0;o<a.length;o++)if("attributes"===n?Y.getAttrib(e,a[o]):R(e,a[o]))return t;return t}var r,i,o,a=w(t);if(a&&e)for(i=0;i<a.length;i++)if(T(e,r=a[i])&&n(e,r,"attributes")&&n(e,r,"styles")){if(o=r.classes)for(i=0;i<o.length;i++)if(!Y.hasClass(e,o[i]))return;return r}}function x(n,r,e){function t(e){var t=Y.getRoot();return e!==t&&k(e=Y.getParent(e,function(e){return!!a(e,n)||(e.parentNode===t||!!k(e,n,r,!0))}),n,r)}var i;return e?t(e):t(e=X.getNode())?ie:(i=X.getStart())!=e&&t(i)?ie:re}function o(r,i){var e,o=[],a={};return e=X.getStart(),Y.getParent(e,function(e){var t,n;for(t=0;t<r.length;t++)n=r[t],!a[n]&&k(e,n,i)&&(a[n]=!0,o.push(n))},Y.getRoot()),o}function s(e){var t,n,r,i,o=w(e);if(o)for(t=y(X.getStart()),r=o.length-1;0<=r;r--){if(!(i=o[r].selector)||o[r].defaultBlock)return ie;for(n=t.length-1;0<=n;n--)if(Y.is(t[n],i))return ie}return re}function c(e,t,n){var o;return V||(V={},o={},b.on("NodeChange",function(n){var r=y(n.element),i={};r=me.grep(r,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),se(V,function(e,n){se(r,function(t){return k(t,n,{},e.similar)?(o[n]||(se(e,function(e){e(!0,{node:t,format:n,parents:r})}),o[n]=e),i[n]=e,!1):!a(t,n)&&void 0})}),se(o,function(e,t){i[t]||(delete o[t],se(e,function(e){e(!1,{node:n.element,format:t,parents:r})}))})})),se(e.split(","),function(e){V[e]||(V[e]=[],V[e].similar=n),V[e].push(t)}),this}function d(e){return ge.getCssText(b,e)}function T(e,t){return O(e,t.inline)?ie:O(e,t.block)?ie:t.selector?1==e.nodeType&&Y.is(e,t.selector):void 0}function O(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function f(e,t,n){se(e.childNodes,function(e){A(e)&&(t(e)&&n(e),e.hasChildNodes()&&f(e,t,n))})}function A(e){return 1==e.nodeType&&!ae(e)&&!D(e)&&!S(e)}function P(e){return pe.curry(function(e,t){return!(!t||!R(t,e))},e)}function I(e,t){return pe.curry(function(e,t,n){Y.setStyle(n,e,t)},e,t)}function R(e,t){return h(Y.getStyle(e,t),t)}function h(e,t){return"color"!=t&&"backgroundColor"!=t||(e=Y.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function N(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function D(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function L(e,t,n){var r=Y.create(t,n);return e.parentNode.insertBefore(r,e),r.appendChild(e),r}function M(a,s,u){function e(e){function t(e){return"BR"==e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling}var n,r,i,o,a;if(n=r=e?f:p,o=e?"previousSibling":"nextSibling",a=Y.getRoot(),3==n.nodeType&&!D(n)&&(e?0<h:m<n.nodeValue.length))return n;for(;;){if(!s[0].block_expand&&Q(r))return r;for(i=r[o];i;i=i[o])if(!ae(i)&&!D(i)&&!t(i))return r;if(r==a||r.parentNode==a){n=r;break}r=r.parentNode}return n}function t(e,t){for(t===W&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function n(e){for(var t=e;t;){if(1===t.nodeType&&oe(t))return"false"===oe(t)?t:e;t=t.parentNode}return e}function r(e,t,o){function n(e,t){var n,r,i=e.nodeValue;return void 0===t&&(t=o?i.length:0),o?(n=i.lastIndexOf(" ",t),-1===(n=(r=i.lastIndexOf("\xa0",t))<n?n:r)||u||n++):(n=i.indexOf(" ",t),r=i.indexOf("\xa0",t),n=-1!==n&&(-1===r||n<r)?n:r),n}var r,i,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(r=new ce(e,Y.getParent(e,Q)||b.getBody());i=r[o?"prev":"next"]();)if(3===i.nodeType){if(-1!==(a=n(s=i)))return{container:i,offset:a}}else if(Q(i))break;if(s)return{container:s,offset:t=o?0:s.length}}function i(e,t){var n,r,i,o;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=y(e),r=0;r<n.length;r++)for(i=0;i<s.length;i++)if(!("collapsed"in(o=s[i])&&o.collapsed!==a.collapsed)&&Y.is(n[r],o.selector))return n[r];return e}function o(e,t){var n,r=Y.getRoot();if(s[0].wrapper||(n=Y.getParent(e,s[0].block,r)),n||(n=Y.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=r&&_(e)})),n&&s[0].wrapper&&(n=y(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!Q(n[t])&&!O(n=n[t],"br"););return n||e}var l,c,d,f=a.startContainer,h=a.startOffset,p=a.endContainer,m=a.endOffset;if(1==f.nodeType&&f.hasChildNodes()&&(l=f.childNodes.length-1,3==(f=f.childNodes[l<h?l:h]).nodeType&&(h=0)),1==p.nodeType&&p.hasChildNodes()&&(l=p.childNodes.length-1,3==(p=p.childNodes[l<m?l:m-1]).nodeType&&(m=p.nodeValue.length)),f=n(f),p=n(p),(ae(f.parentNode)||ae(f))&&3==(f=(f=ae(f)?f:f.parentNode).nextSibling||f).nodeType&&(h=0),(ae(p.parentNode)||ae(p))&&3==(p=(p=ae(p)?p:p.parentNode).previousSibling||p).nodeType&&(m=p.length),s[0].inline&&(a.collapsed&&((d=r(f,h,!0))&&(f=d.container,h=d.offset),(d=r(p,m))&&(p=d.container,m=d.offset)),(c=t(p,m)).node)){for(;c.node&&0===c.offset&&c.node.previousSibling;)c=t(c.node.previousSibling);c.node&&0<c.offset&&3===c.node.nodeType&&" "===c.node.nodeValue.charAt(c.offset-1)&&1<c.offset&&(p=c.node).splitText(c.offset-1)}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==f.nodeType&&0!==h||(f=e(!0)),s[0].inline&&3==p.nodeType&&m!==p.nodeValue.length||(p=e())),s[0].selector&&s[0].expand!==re&&!s[0].inline&&(f=i(f,"previousSibling"),p=i(p,"nextSibling")),(s[0].block||s[0].selector)&&(f=o(f,"previousSibling"),p=o(p,"nextSibling"),s[0].block&&(Q(f)||(f=e(!0)),Q(p)||(p=e()))),1==f.nodeType&&(h=ee(f),f=f.parentNode),1==p.nodeType&&(m=ee(p)+1,p=p.parentNode),{startContainer:f,startOffset:h,endContainer:p,endOffset:m}}function p(e,t){return t.links&&"A"==e.tagName}function B(n,r,i,o){var e,t,a;if(!T(i,n)&&!p(i,n))return re;if("all"!=n.remove)for(se(n.styles,function(e,t){e=h(N(e,r),t),"number"==typeof t&&(t=e,o=0),(n.remove_similar||!o||O(R(o,t),e))&&Y.setStyle(i,t,""),a=1}),a&&""===Y.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),se(n.attributes,function(e,t){var n;if(e=N(e,r),"number"==typeof t&&(t=e,o=0),!o||O(Y.getAttrib(o,t),e)){if("class"==t&&(e=Y.getAttrib(i,t))&&(n="",se(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n))return void Y.setAttrib(i,t,n);"class"==t&&i.removeAttribute("className"),ne.test(t)&&i.removeAttribute("data-mce-"+t),i.removeAttribute(t)}}),se(n.classes,function(e){e=N(e,r),o&&!Y.hasClass(o,e)||Y.removeClass(i,e)}),t=Y.getAttribs(i),e=0;e<t.length;e++){var s=t[e].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return re}return"none"!=n.remove?(g(i,n),ie):void 0}function g(e,t){function n(e,t,n){return!(e=F(e,t,n))||"BR"==e.nodeName||Q(e)}var r,i=e.parentNode;t.block&&(Z?i==Y.getRoot()&&(t.list_block&&O(e,t.list_block)||se(ue(e.childNodes),function(e){J(Z,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=L(e,Z),Y.setAttribs(r,b.settings.forced_root_block_attrs)):r=0})):Q(e)&&!Q(i)&&(n(e,re)||n(e.firstChild,ie,1)||e.insertBefore(Y.create("br"),e.firstChild),n(e,ie)||n(e.lastChild,re,1)||e.appendChild(Y.create("br")))),t.selector&&t.inline&&!O(t.inline,e)||Y.remove(e,1)}function F(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!D(e))return e}function j(t,e){function n(e,t){for(r=e;r;r=r[t]){if(3==r.nodeType&&0!==r.nodeValue.length)return e;if(1==r.nodeType&&!ae(r))return r}return e}var r,i,o=new he(Y);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),o.compare(t,e))){for(r=t.nextSibling;r&&r!=e;)r=(i=r).nextSibling,t.appendChild(i);return Y.remove(e),se(ue(e.childNodes),function(e){t.appendChild(e)}),t}return e}function $(e,t){var n,r,i;return n=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],1==n.nodeType&&(i=n.childNodes.length-1,!t&&r&&r--,n=n.childNodes[i<r?i:r]),3===n.nodeType&&t&&r>=n.nodeValue.length&&(n=new ce(n,b.getBody()).next()||n),3!==n.nodeType||t||0!==r||(n=new ce(n,b.getBody()).prev()||n),n}function U(e,d,f,h){function p(e){var t=Y.create("span",{id:a,"data-mce-bogus":!0,style:l?"color:red":""});return e&&t.appendChild(b.getDoc().createTextNode(te)),t}function i(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==te||1<e.childNodes.length)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function s(e){for(;e;){if(e.id===a)return e;e=e.parentNode}}function u(e){var t;if(e)for(e=(t=new ce(e,e)).current();e;e=t.next())if(3===e.nodeType)return e}function o(e,t){var n,r;if(e)r=X.getRng(!0),i(e)?(!1!==t&&(r.setStartBefore(e),r.setEndBefore(e)),Y.remove(e)):((n=u(e)).nodeValue.charAt(0)===te&&(n.deleteData(0,1),r.startContainer==n&&0<r.startOffset&&r.setStart(n,r.startOffset-1),r.endContainer==n&&0<r.endOffset&&r.setEnd(n,r.endOffset-1)),Y.remove(e,1)),X.setRng(r);else if(!(e=s(X.getStart())))for(;e=Y.get(a);)o(e,!1)}function t(){var e,t,n,r,i,o;r=(e=X.getRng(!0)).startOffset,o=e.startContainer.nodeValue,(t=s(X.getStart()))&&(n=u(t));var a=/[^\s\u00a0\u00ad\u200b\ufeff]/;o&&0<r&&r<o.length&&a.test(o.charAt(r))&&a.test(o.charAt(r-1))?(i=X.getBookmark(),e.collapse(!0),e=M(e,w(d)),e=K.split(e),E(d,f,e),X.moveToBookmark(i)):(t&&n.nodeValue===te||(n=(t=p(!0)).firstChild,e.insertNode(t),r=1),E(d,f,t),X.setCursorLocation(n,r))}function n(){var e,t,n,r,i,o,a,s,u=X.getRng(!0),l=[];for(e=u.startContainer,t=u.startOffset,3==(i=e).nodeType&&(t!=e.nodeValue.length&&(r=!0),i=i.parentNode);i;){if(k(i,d,f,h)){o=i;break}i.nextSibling&&(r=!0),l.push(i),i=i.parentNode}if(o)if(r)n=X.getBookmark(),u.collapse(!0),u=M(u,w(d),!0),u=K.split(u),m(d,f,u),X.moveToBookmark(n);else{for(i=s=p(),a=l.length-1;0<=a;a--)i.appendChild(Y.clone(l[a],!1)),i=i.firstChild;i.appendChild(Y.doc.createTextNode(te)),i=i.firstChild;var c=Y.getParent(o,_);c&&Y.isEmpty(c)?o.parentNode.replaceChild(s,o):Y.insertAfter(s,o),X.setCursorLocation(i,1),Y.isEmpty(o)&&Y.remove(o)}}function r(){var e;(e=s(X.getStart()))&&!Y.isEmpty(e)&&le(e,function(e){1!=e.nodeType||e.id===a||Y.isEmpty(e)||Y.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var a="_mce_caret",l=b.settings.caret_debug;b._hasCaretEvents||(q=function(){var e,t=[];if(i(s(X.getStart()),t))for(e=t.length;e--;)Y.setAttrib(t[e],"data-mce-bogus","1")},z=function(e){var t=e.keyCode;o(),8==t&&X.isCollapsed()&&X.getStart().innerHTML==te&&o(s(X.getStart())),37!=t&&39!=t||o(s(X.getStart())),r()},b.on("SetContent",function(e){e.selection&&r()}),b._hasCaretEvents=!0),"apply"==e?t():n()}function H(e){var t,n,r,i,o,a=e.startContainer,s=e.startOffset;if((e.startContainer!=e.endContainer||!u(e.startContainer.childNodes[e.startOffset]))&&(3==a.nodeType&&s>=a.nodeValue.length&&(s=ee(a),a=a.parentNode,t=!0),1==a.nodeType))for(a=(i=a.childNodes)[Math.min(s,i.length-1)],n=new ce(a,Y.getParent(a,Y.isBlock)),(s>i.length-1||t)&&n.next(),r=n.current();r;r=n.next())if(3==r.nodeType&&!D(r))return o=Y.create("a",{"data-mce-bogus":"all"},te),r.parentNode.insertBefore(o,r),e.setStart(r,0),X.setRng(e),void Y.remove(o)}var V,W,z,q,G={},Y=b.dom,X=b.selection,K=new de(Y),J=b.schema.isValidChild,Q=Y.isBlock,Z=b.settings.forced_root_block,ee=Y.nodeIndex,te="\ufeff",ne=/^(src|href|style)$/,re=!1,ie=!0,oe=Y.getContentEditable,ae=fe.isBookmarkNode,se=me.each,ue=me.grep,le=me.walk;(0,me.extend)(this,{get:w,register:n,unregister:r,apply:E,remove:m,toggle:i,match:x,matchAll:o,matchNode:k,canApply:s,formatChanged:c,getCssText:d}),e(),t(),b.on("BeforeGetContent",function(e){q&&"raw"!=e.format&&q()}),b.on("mouseup keydown",function(e){z&&z(e)})}}),e("tinymce/undo/Diff",[],function(){var d=0,f=1,h=2;return{KEEP:d,DELETE:h,INSERT:f,diff:function(p,m){var e=p.length+m.length+2,g=new Array(e),v=new Array(e),o=function(e,t,n){return{start:e,end:t,diag:n}},l=function(e,t,n,r,i){var o=c(e,t,n,r);if(null===o||o.start===t&&o.diag===t-r||o.end===e&&o.diag===e-n)for(var a=e,s=n;a<t||s<r;)a<t&&s<r&&p[a]===m[s]?(i.push([d,p[a]]),++a,++s):r-n<t-e?(i.push([h,p[a]]),++a):(i.push([f,m[s]]),++s);else{l(e,o.start,n,o.start-o.diag,i);for(var u=o.start;u<o.end;++u)i.push([d,p[u]]);l(o.end,t,o.end-o.diag,r,i)}},y=function(e,t,n,r){for(var i=e;i-t<r&&i<n&&p[i]===m[i-t];)++i;return o(e,i,t)},c=function(e,t,n,r){var i=t-e,o=r-n;if(0===i||0===o)return null;var a=i-o,s=o+i,u=(s%2==0?s:s+1)/2;g[1+u]=e,v[1+u]=t+1;for(var l=0;l<=u;++l){for(var c=-l;c<=l;c+=2){var d=c+u;c===-l||c!=l&&g[d-1]<g[d+1]?g[d]=g[d+1]:g[d]=g[d-1]+1;for(var f=g[d],h=f-e+n-c;f<t&&h<r&&p[f]===m[h];)g[d]=++f,++h;if(a%2!=0&&a-l<=c&&c<=a+l&&v[d-a]<=g[d])return y(v[d-a],c+e-n,t,r)}for(c=a-l;c<=a+l;c+=2){for(d=c+u-a,c===a-l||c!=a+l&&v[d+1]<=v[d-1]?v[d]=v[d+1]-1:v[d]=v[d-1],h=(f=v[d]-1)-e+n-c;e<=f&&n<=h&&p[f]===m[h];)v[d]=f--,h--;if(a%2==0&&-l<=c&&c<=l&&v[d]<=g[d+a])return y(v[d],c+e-n,t,r)}}},t=[];return l(0,p.length,0,m.length,t),t}}}),e("tinymce/undo/Fragments",["tinymce/util/Arr","tinymce/html/Entities","tinymce/undo/Diff"],function(r,t,i){var o=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?t.encodeRaw(e.data,!1):8===e.nodeType?"<!--"+e.data+"-->":""},a=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},s=function(e,t,n){var r=a(t);if(e.hasChildNodes()&&n<e.childNodes.length){var i=e.childNodes[n];i.parentNode.insertBefore(r,i)}else e.appendChild(r)},u=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},l=function(e,t){var n=0;r.each(e,function(e){e[0]===i.KEEP?n++:e[0]===i.INSERT?(s(t,e[1],n),n++):e[0]===i.DELETE&&u(t,n)})};return{read:function(e){return r.map(e.childNodes,o)},write:function(e,t){var n=r.map(t.childNodes,o);return l(i.diff(n,e),t),t}}}),e("tinymce/undo/Levels",["tinymce/util/Arr","tinymce/undo/Fragments"],function(i,o){var a=function(e){return-1!==e.indexOf("</iframe>")},s=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},u=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},e=function(t){var e,n,r;return e=o.read(t.getBody()),n=(r=i.map(e,function(e){return t.serializer.trimContent(e)})).join(""),a(n)?s(r):u(n)},n=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content};return{createFragmentedLevel:s,createCompleteLevel:u,createFromEditor:e,applyToEditor:function(e,t,n){"fragmented"===t.type?o.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},isEq:function(e,t){return n(e)===n(t)}}}),e("tinymce/UndoManager",["tinymce/util/VK","tinymce/util/Tools","tinymce/undo/Levels"],function(e,h,p){return function(s){function u(e){s.setDirty(e)}function r(e){o.typing=!1,o.add({},e)}function n(){o.typing&&(o.typing=!1,o.add())}var l,i,o=this,c=0,d=[],f=0;return s.on("init",function(){o.add()}),s.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(n(),o.beforeChange())}),s.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&r(e)}),s.on("ObjectResizeStart Cut",function(){o.beforeChange()}),s.on("SaveContent ObjectResized blur",r),s.on("DragEnd",r),s.on("KeyUp",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(r(),s.nodeChanged()),46!==t&&8!==t||s.nodeChanged(),i&&o.typing&&(s.isDirty()||(u(d[0]&&!p.isEq(p.createFromEditor(s),d[0])),s.isDirty()&&s.fire("change",{
level:d[0],lastLevel:null})),s.fire("TypingUndo"),i=!1,s.nodeChanged()))}),s.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented())if(33<=t&&t<=36||37<=t&&t<=40||45===t)o.typing&&r(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224===t||91===t||o.typing||n||(o.beforeChange(),o.typing=!0,o.add({},e),i=!0)}}),s.on("MouseDown",function(e){o.typing&&r(e)}),s.addShortcut("meta+z","","Undo"),s.addShortcut("meta+y,meta+shift+z","","Redo"),s.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||s.nodeChanged()}),o={data:d,typing:!1,beforeChange:function(){f||(l=s.selection.getBookmark(2,!0))},add:function(e,t){var n,r,i,o=s.settings;if(i=p.createFromEditor(s),e=e||{},e=h.extend(e,i),f||s.removed)return null;if(r=d[c],s.fire("BeforeAddUndo",{level:e,lastLevel:r,originalEvent:t}).isDefaultPrevented())return null;if(r&&p.isEq(r,e))return null;if(d[c]&&(d[c].beforeBookmark=l),o.custom_undo_redo_levels&&d.length>o.custom_undo_redo_levels){for(n=0;n<d.length-1;n++)d[n]=d[n+1];d.length--,c=d.length}e.bookmark=s.selection.getBookmark(2,!0),c<d.length-1&&(d.length=c+1),d.push(e),c=d.length-1;var a={level:e,lastLevel:r,originalEvent:t};return s.fire("AddUndo",a),0<c&&(u(!0),s.fire("change",a)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),0<c&&(e=d[--c],p.applyToEditor(s,e,!0),u(!0),s.fire("undo",{level:e})),e},redo:function(){var e;return c<d.length-1&&(e=d[++c],p.applyToEditor(s,e,!1),u(!0),s.fire("redo",{level:e})),e},clear:function(){d=[],c=0,o.typing=!1,o.data=d,s.fire("ClearUndos")},hasUndo:function(){return 0<c||o.typing&&d[0]&&!p.isEq(p.createFromEditor(s),d[0])},hasRedo:function(){return c<d.length-1&&!o.typing},transact:function(e){n(),o.beforeChange();try{f++,e()}finally{f--}return o.add()},extra:function(e,t){var n,r;o.transact(e)&&(r=d[c].bookmark,n=d[c-1],p.applyToEditor(s,n,!0),o.transact(t)&&(d[c-1].beforeBookmark=r))}}}}),e("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/caret/CaretContainer","tinymce/Env"],function($,U,H,V){var W=V.ie&&V.ie<11;return function(R){function t(e){function l(e){return e&&N.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==N.getContentEditable(e)}function c(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)}function r(e){var t;N.isBlock(e)&&(t=D.getRng(),e.appendChild(N.create("span",null,"\xa0")),D.select(e),e.lastChild.outerHTML="",D.setRng(t))}function t(e){var t,n=e,r=[];if(n){for(;n=n.firstChild;){if(N.isBlock(n))return;1!=n.nodeType||F[n.nodeName.toLowerCase()]||r.push(n)}for(t=r.length;t--;)!(n=r[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?N.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&N.remove(n)}}function i(e){function t(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}var n,r,i,o,a=e;if(e){if(V.ie&&V.ie<9&&w&&w.firstChild&&w.firstChild==w.lastChild&&"BR"==w.firstChild.tagName&&N.remove(w.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var s=t(e.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&e.insertBefore(N.doc.createTextNode("\xa0"),e.firstChild)}if(i=N.createRng(),V.ie||e.normalize(),e.hasChildNodes()){for(n=new $(e,e);r=n.current();){if(3==r.nodeType){i.setStart(r,0),i.setEnd(r,0);break}if(j[r.nodeName.toLowerCase()]){i.setStartBefore(r),i.setEndBefore(r);break}a=r,r=n.next()}r||(i.setStart(a,0),i.setEnd(a,0))}else"BR"==e.nodeName?e.nextSibling&&N.isBlock(e.nextSibling)?((!C||C<9)&&(o=N.create("br"),e.parentNode.insertBefore(o,e)),i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));D.setRng(i),N.remove(o),D.scrollIntoView(e)}}function d(e){var t=L.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&N.setAttribs(e,L.forced_root_block_attrs)}function n(e){e.innerHTML=W?"":'<br data-mce-bogus="1">'}function o(e){var t,n,r,i=_,o=B.getTextInlineElements();if(e||"TABLE"==O?d(t=N.create(e||P)):t=w.cloneNode(!1),r=t,!1!==L.keep_styles)do{if(o[i.nodeName]){if("_mce_caret"==i.id)continue;n=i.cloneNode(!1),N.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):r=n,t.appendChild(n)}}while((i=i.parentNode)&&i!=b);return W||(r.innerHTML='<br data-mce-bogus="1">'),t}function a(e){var t,n,r;if(3==_.nodeType&&(e?0<S:S<_.nodeValue.length))return!1;if(_.parentNode==w&&I&&!e)return!0;if(e&&1==_.nodeType&&_==w.firstChild)return!0;if("TABLE"===_.nodeName||_.previousSibling&&"TABLE"==_.previousSibling.nodeName)return I&&!e||!I&&e;for(t=new $(_,w),3==_.nodeType&&(e&&0===S?t.prev():e||S!=_.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),F[r]&&"br"!==r))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0}function s(e,t){var n,r,i,o,a,s,u=P||"P";if(!(r=N.getParent(e,N.isBlock))||!l(r)){if(s=(r=r||b)==R.getBody()||c(r)?r.nodeName.toLowerCase():r.parentNode.nodeName.toLowerCase(),!r.hasChildNodes())return d(n=N.create(u)),r.appendChild(n),v.setStart(n,0),v.setEnd(n,0),n;for(o=e;o.parentNode!=r;)o=o.parentNode;for(;o&&!N.isBlock(o);)o=(i=o).previousSibling;if(i&&B.isValidChild(s,u.toLowerCase())){for(d(n=N.create(u)),i.parentNode.insertBefore(n,i),o=i;o&&!N.isBlock(o);)a=o.nextSibling,n.appendChild(o),o=a;v.setStart(e,t),v.setEnd(e,t)}}return e}function u(){function e(e){for(var t=T[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===w}function t(){var e=T.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:T}if(T!=R.getBody()){var n=T.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(P="LI"),k=P?o(P):N.create("BR"),e(!0)&&e()?"LI"==n?N.insertAfter(k,t()):N.replace(k,T):e(!0)?"LI"==n?(N.insertAfter(k,t()),k.appendChild(N.doc.createTextNode(" ")),k.appendChild(T)):T.parentNode.insertBefore(k,T):e()?(N.insertAfter(k,t()),r(k)):(T=t(),(y=v.cloneRange()).setStartAfter(w),y.setEndAfter(T),x=y.extractContents(),"LI"==P&&"LI"==x.firstChild.nodeName?(k=x.firstChild,N.insertAfter(x,T)):(N.insertAfter(x,T),N.insertAfter(k,T))),N.remove(w),i(k),M.add()}}function f(){R.execCommand("InsertLineBreak",!1,e)}function h(e){for(;3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}function p(e){var t,n,r=N.getRoot();for(t=e;t!==r&&"false"!==N.getContentEditable(t);)"true"===N.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==r?n:r}function m(e){var t;W||(e.normalize(),(t=e.lastChild)&&!/^(left|right)$/gi.test(N.getStyle(t,"float",!0))||N.add(e,"br"))}function g(){k=/^(H[1-6]|PRE|FIGURE)$/.test(O)&&"HGROUP"!=A?o(P):o(),L.end_container_on_empty_block&&l(T)&&N.isEmpty(w)?k=N.split(T,w):N.insertAfter(k,w),i(k)}var v,y,b,_,S,w,C,E,k,x,T,O,A,P,I;if(v=D.getRng(!0),!e.isDefaultPrevented())if(v.collapsed){if(new U(N).normalize(v),_=v.startContainer,S=v.startOffset,P=(P=(L.force_p_newlines?"p":"")||L.forced_root_block)?P.toUpperCase():"",C=N.doc.documentMode,E=e.shiftKey,1==_.nodeType&&_.hasChildNodes()&&(I=S>_.childNodes.length-1,_=_.childNodes[Math.min(S,_.childNodes.length-1)]||_,S=I&&3==_.nodeType?_.nodeValue.length:0),b=p(_))if(M.beforeChange(),N.isBlock(b)||b==N.getRoot()){if((P&&!E||!P&&E)&&(_=s(_,S)),w=N.getParent(_,N.isBlock),T=w?N.getParent(w.parentNode,N.isBlock):null,O=w?w.nodeName.toUpperCase():"","LI"!=(A=T?T.nodeName.toUpperCase():"")||e.ctrlKey||(w=T,O=A),R.undoManager.typing&&(R.undoManager.typing=!1,R.undoManager.add()),/^(LI|DT|DD)$/.test(O)){if(!P&&E)return void f();if(N.isEmpty(w))return void u()}if("PRE"==O&&!1!==L.br_in_pre){if(!E)return void f()}else if(!P&&!E&&"LI"!=O||P&&E)return void f();P&&w===R.getBody()||(P=P||"P",H.isCaretContainerBlock(w)?(k=H.showCaretContainerBlock(w),N.isEmpty(w)&&n(w),i(k)):a()?g():a(!0)?(r(k=w.parentNode.insertBefore(o(),w)),i(w)):((y=v.cloneRange()).setEndAfter(w),h(x=y.extractContents()),k=x.firstChild,N.insertAfter(x,w),t(k),m(w),N.isEmpty(w)&&n(w),k.normalize(),N.isEmpty(k)?(N.remove(k),g()):i(k)),N.setAttrib(k,"id",""),R.fire("NewBlock",{newBlock:k}),M.typing=!1,M.add())}else P&&!E||f()}else R.execCommand("Delete")}var N=R.dom,D=R.selection,L=R.settings,M=R.undoManager,B=R.schema,F=B.getNonEmptyElements(),j=B.getMoveCaretBeforeOnEnterElements();R.on("keydown",function(e){13==e.keyCode&&!1!==t(e)&&e.preventDefault()})}}),e("tinymce/ForceBlocks",[],function(){return function(g){function e(){var e,t,n,r,i,o,a,s,u,l,c,d,f=b.getStart(),h=g.getBody(),p=-16777215;if(d=v.forced_root_block,f&&1===f.nodeType&&d){for(;f&&f!=h;){if(S[f.nodeName])return;f=f.parentNode}if((e=b.getRng()).setStart){t=e.startContainer,n=e.startOffset,r=e.endContainer,i=e.endOffset;try{u=g.getDoc().activeElement===h}catch(m){}}else e.item&&(f=e.item(0),(e=g.getDoc().body.createTextRange()).moveToElementText(f)),u=e.parentElement().ownerDocument===g.getDoc(),(l=e.duplicate()).collapse(!0),n=-1*l.move("character",p),l.collapsed||((l=e.duplicate()).collapse(!1),i=-1*l.move("character",p)-n);for(f=h.firstChild,c=h.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!S[f.nodeName])&&_.isValidChild(c,d.toLowerCase())){if(3===f.nodeType&&0===f.nodeValue.length){f=(a=f).nextSibling,y.remove(a);continue}o||(o=y.create(d,g.settings.forced_root_block_attrs),f.parentNode.insertBefore(o,f),s=!0),f=(a=f).nextSibling,o.appendChild(a)}else o=null,f=f.nextSibling;if(s&&u){if(e.setStart)e.setStart(t,n),e.setEnd(r,i),b.setRng(e);else try{(e=g.getDoc().body.createTextRange()).moveToElementText(h),e.collapse(!0),e.moveStart("character",n),0<i&&e.moveEnd("character",i),e.select()}catch(m){}g.nodeChanged()}}}var v=g.settings,y=g.dom,b=g.selection,_=g.schema,S=_.getBlockElements();v.forced_root_block&&g.on("NodeChange",e)}}),e("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(e,a,l,t,c,n){function s(e){return 0<e}function u(e){return e<0}function d(e,t){for(var n;n=e(t);)if(!E(n))return n;return null}function r(e,t,n,r,i){var o=new a(e,r);if(u(t)){if((S(e)||E(e))&&n(e=d(o.prev,!0)))return e;for(;e=d(o.prev,i);)if(n(e))return e}if(s(t)){if((S(e)||E(e))&&n(e=d(o.next,!0)))return e;for(;e=d(o.next,i);)if(n(e))return e}return null}function i(e,t){for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(_(e))return e;return t}function o(e,t){for(;e&&e!=t;){if(w(e))return e;e=e.parentNode}return null}function f(e,t,n){return o(e.container(),n)==o(t.container(),n)}function h(e,t,n){return i(e.container(),n)==i(t.container(),n)}function p(e,t){var n,r;return t?(n=t.container(),r=t.offset(),x(n)?n.childNodes[r+e]:null):null}function m(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function g(e,t,n){return o(t,e)==o(n,e)}function v(e,t,n){var r,i;for(i=e?"previousSibling":"nextSibling";n&&n!=t;){if(r=n[i],C(r)&&(r=r[i]),S(r)){if(g(t,r,n))return r;break}if(T(r))break;n=n.parentNode}return null}function y(e,t,n){var r,i,o,a,s=k(v,!0,t),u=k(v,!1,t);if(i=n.startContainer,o=n.startOffset,c.isCaretContainerBlock(i)){if(x(i)||(i=i.parentNode),"before"==(a=i.getAttribute("data-mce-caret"))&&(r=i.nextSibling,S(r)))return O(r);if("after"==a&&(r=i.previousSibling,S(r)))return A(r)}if(!n.collapsed)return n;if(l.isText(i)){if(C(i)){if(1===e){if(r=u(i))return O(r);if(r=s(i))return A(r)}if(-1===e){if(r=s(i))return A(r);if(r=u(i))return O(r)}return n}if(c.endsWithCaretContainer(i)&&o>=i.data.length-1)return 1===e&&(r=u(i))?O(r):n;if(c.startsWithCaretContainer(i)&&o<=1)return-1===e&&(r=s(i))?A(r):n;if(o===i.data.length)return(r=u(i))?O(r):n;if(0===o)return(r=s(i))?A(r):n}return n}function b(e,t){return S(p(e,t))}var _=l.isContentEditableTrue,S=l.isContentEditableFalse,w=l.matchStyleValues("display","block table table-cell table-caption"),C=c.isCaretContainer,E=c.isCaretContainerBlock,k=e.curry,x=l.isElement,T=n.isCaretCandidate,O=k(m,!0),A=k(m,!1);return{isForwards:s,isBackwards:u,findNode:r,getEditingHost:i,getParentBlock:o,isInSameBlock:f,isInSameEditingHost:h,isBeforeContentEditableFalse:k(b,0),isAfterContentEditableFalse:k(b,-1),normalizeRange:y}}),e("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(r,e,c,d,f,h){function p(e,t){for(var n=[];e&&e!=t;)n.push(e),e=e.parentNode;return n}function m(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function g(e,t){if(w(e)){if(E(t.previousSibling)&&!_(t.previousSibling))return c.before(t);if(_(t))return c(t,0)}if(C(e)){if(E(t.nextSibling)&&!_(t.nextSibling))return c.after(t);if(_(t))return c(t,t.data.length)}return C(e)?n(t)?c.before(t):c.after(t):c.before(t)}function v(e,t){var n;return!!r.isBr(e)&&(!!(n=y(1,c.after(e),t))&&!d.isInSameBlock(c.before(e),c.before(n),t))}function y(e,t,n){var r,i,o,a,s,u,l;if(!S(n)||!t)return null;if(r=(l=t).container(),i=l.offset(),_(r)){if(C(e)&&0<i)return c(r,--i);if(w(e)&&i<r.length)return c(r,++i);o=r}else{if(C(e)&&0<i&&(a=m(r,i-1),E(a)))return!k(a)&&(s=d.findNode(a,e,x,a))?_(s)?c(s,s.data.length):c.after(s):_(a)?c(a,a.data.length):c.before(a);if(w(e)&&i<r.childNodes.length&&(a=m(r,i),E(a)))return v(a,n)?y(e,c.after(a),n):!k(a)&&(s=d.findNode(a,e,x,a))?_(s)?c(s,0):c.before(s):_(a)?c(a,0):c.after(a);o=l.getNode()}return(w(e)&&l.isAtEnd()||C(e)&&l.isAtStart())&&(o=d.findNode(o,e,h.constant(!0),n,!0),x(o))?g(e,o):(a=d.findNode(o,e,x,n),!(u=f.last(f.filter(p(r,n),b)))||a&&u.contains(a)?a?g(e,a):null:l=w(e)?c.after(u):c.before(u))}var b=r.isContentEditableFalse,_=r.isText,S=r.isElement,n=r.isBr,w=d.isForwards,C=d.isBackwards,E=e.isCaretCandidate,k=e.isAtomic,x=e.isEditableCaretCandidate;return function(t){return{next:function(e){return y(1,e,t)},prev:function(e){return y(-1,e,t)}}}}),e("tinymce/InsertList",["tinymce/util/Tools","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition"],function(a,d,f){var o=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},h=function(e,t,n){var r=t.serialize(n),i=e.createFragment(r);return o(i)},p=function(e){return a.grep(e.childNodes,function(e){return"LI"===e.nodeName})},t=function(e){return!e.firstChild},m=function(e){return 0<e.length&&t(e[e.length-1])?e.slice(0,-1):e},g=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},s=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},i=function(e,t){var n=f.before(e),r=new d(t).next(n);return r?r.toRange():null},u=function(e,t){var n=f.after(e),r=new d(t).prev(n);return r?r.toRange():null},v=function(t,e,n,r){var i=s(t,r),o=t.parentNode;return o.insertBefore(i[0],t),a.each(e,function(e){o.insertBefore(e,t)}),o.insertBefore(i[1],t),o.removeChild(t),u(e[e.length-1],n)},y=function(t,e,n){var r=t.parentNode;return a.each(e,function(e){r.insertBefore(e,t)}),i(t,n)},b=function(e,t,n,r){return r.insertAfter(t.reverse(),e),u(t[0],n)};return{isListFragment:function(e){var t=e.firstChild,n=e.lastChild;return t&&"meta"===t.name&&(t=t.next),n&&"mce_marker"===n.attr("id")&&(n=n.prev),!(!t||t!==n)&&("ul"===t.name||"ol"===t.name)},insertAtCaret:function(e,i,o,t){var n=h(i,e,t),a=g(i,o.startContainer),r=m(p(n.firstChild)),s=1,u=2,l=i.getRoot(),c=function(e){var t=f.fromRangeStart(o),n=new d(i.getRoot()),r=e===s?n.prev(t):n.next(t);return!r||g(i,r.getNode())!==a};return c(s)?y(a,r,l):c(u)?b(a,r,l,i):v(a,r,l,o)},isParentBlockLi:function(e,t){return!!g(e,t)},trimListItems:m,listItems:p}}),e("tinymce/InsertContent",["tinymce/Env","tinymce/util/Tools","tinymce/html/Serializer","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/ElementUtils","tinymce/dom/NodeType","tinymce/InsertList"],function(A,P,I,R,N,D,e,L){var M=e.matchNodeNames("td th"),B=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,i=n.lastChild;!r||r===i&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},r=function(a,r,e){function t(e){function t(e){return r[e]&&3==r[e].nodeType}var n,r,i;return n=E.getRng(!0),r=n.startContainer,i=n.startOffset,3==r.nodeType&&(0<i?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),i<r.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}function n(){var e,t,n;t=(e=E.getRng(!0)).startContainer,n=e.startOffset,3==t.nodeType&&e.collapsed&&("\xa0"===t.data[n]?(t.deleteData(n,1),/[\u00a0| ]$/.test(r)||(r+=" ")):"\xa0"===t.data[n-1]&&(t.deleteData(n-1,1),/[\u00a0| ]$/.test(r)||(r=" "+r)))}function i(){if(w){var n=a.getBody(),r=new D(k);P.each(k.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!=n;t=t.parentNode)C[e.nodeName.toLowerCase()]&&r.compare(t,e)&&k.remove(e,!0)})}}function o(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}function s(e){P.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})}function u(e){return!!e.getAttribute("data-mce-fragment")}function l(e){return e&&!a.schema.getShortEndedElements()[e.nodeName]}function c(e){function t(e){for(var t=a.getBody();e&&e!==t;e=e.parentNode)if("false"===a.dom.getContentEditable(e))return e;return null}function n(e){var t=N.fromRangeStart(e);if(t=new R(a.getBody()).next(t))return t.toRange()}var r,i,o;if(e){if(E.scrollIntoView(e),r=t(e))return k.remove(e),void E.select(r);y=k.createRng(),(b=e.previousSibling)&&3==b.nodeType?(y.setStart(b,b.nodeValue.length),A.ie||(_=e.nextSibling)&&3==_.nodeType&&(b.appendData(_.data),_.parentNode.removeChild(_))):(y.setStartBefore(e),y.setEndBefore(e)),i=k.getParent(e,k.isBlock),k.remove(e),i&&k.isEmpty(i)&&(a.$(i).empty(),y.setStart(i,0),y.setEnd(i,0),M(i)||u(i)||!(o=n(y))?k.add(i,k.create("br",{"data-mce-bogus":"1"})):(y=o,k.remove(i))),E.setRng(y)}}var d,f,h,p,m,g,v,y,b,_,S,w,C=a.schema.getTextInlineElements(),E=a.selection,k=a.dom;/^ | $/.test(r)&&(r=t(r)),d=a.parser,w=e.merge,f=new I({validate:a.settings.validate},a.schema),S='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',g={content:r,format:"html",selection:!0},a.fire("BeforeSetContent",g),-1==(r=g.content).indexOf("{$caret}")&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,S);var x=(y=E.getRng()).startContainer||(y.parentElement?y.parentElement():null),T=a.getBody();x===T&&E.isCollapsed()&&k.isBlock(T.firstChild)&&l(T.firstChild)&&k.isEmpty(T.firstChild)&&((y=k.createRng()).setStart(T.firstChild,0),y.setEnd(T.firstChild,0),E.setRng(y)),E.isCollapsed()||(a.selection.setRng(a.selection.getRng()),a.getDoc().execCommand("Delete",!1,null),n());var O={context:(h=E.getNode()).nodeName.toLowerCase(),data:e.data};if(m=d.parse(r,O),!0===e.paste&&L.isListFragment(m)&&L.isParentBlockLi(k,h))return y=L.insertAtCaret(f,k,a.selection.getRng(!0),m),a.selection.setRng(y),void a.fire("SetContent",g);if(o(m),"mce_marker"==(b=m.lastChild).attr("id"))for(b=(v=b).prev;b;b=b.walk(!0))if(3==b.type||!k.isBlock(b.name)){a.schema.isValidChild(b.parent.name,"span")&&b.parent.insert(v,b,"br"===b.name);break}if(a._selectionOverrides.showBlockCaretContainer(h),O.invalid){for(E.setContent(S),h=E.getNode(),p=a.getBody(),9==h.nodeType?h=b=p:b=h;b!==p;)b=(h=b).parentNode;r=h==p?p.innerHTML:k.getOuterHTML(h),r=f.serialize(d.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return f.serialize(m)}))),h==p?k.setHTML(p,r):k.setOuterHTML(h,r)}else r=f.serialize(m),B(a,r,h);i(),c(k.get("mce_marker")),s(a.getBody()),a.fire("SetContent",g),a.addVisual()},i=function(e){var t;return"string"!=typeof e?(t=P.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}};return{insertAtCaret:function(e,t){var n=i(t);r(e,n.content,n.details)}}}),e("tinymce/EditorCommands",["tinymce/Env","tinymce/util/Tools","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/InsertContent","tinymce/dom/NodeType"],function(S,e,w,C,E,k){var x=e.each,T=e.extend,O=e.map,A=e.inArray,P=e.explode,I=S.ie&&S.ie<11,R=!0,N=!1;return function(y){function e(t,n,r,e){var i,o,a=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||y.focus(),(e=y.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),i=g.exec[o])return i(o,n,r),y.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(x(y.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return y.fire("ExecCommand",{command:t,ui:n,value:r}),!(a=!0)}),a)return a;if(y.theme&&y.theme.execCommand&&y.theme.execCommand(t,n,r))return y.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=y.getDoc().execCommand(t,n,r)}catch(s){}return!!a&&(y.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}function t(e){var t;if(!y.quirks.isHidden()){if(e=e.toLowerCase(),t=g.state[e])return t(e);try{return y.getDoc().queryCommandState(e)}catch(n){}return!1}}function n(e){var t;if(!y.quirks.isHidden()){if(e=e.toLowerCase(),t=g.value[e])return t(e);try{return y.getDoc().queryCommandValue(e)}catch(n){}}}function r(e,n){n=n||"exec",x(e,function(t,e){x(e.toLowerCase().split(","),function(e){g[n][e]=t})})}function i(e,i,o){e=e.toLowerCase(),g.exec[e]=function(e,t,n,r){return i.call(o||y,t,n,r)}}function o(e){if(e=e.toLowerCase(),g.exec[e])return!0;try{return y.getDoc().queryCommandSupported(e)}catch(t){}return!1}function a(e,t,n){e=e.toLowerCase(),g.state[e]=function(){return t.call(n||y)}}function s(e,t,n){e=e.toLowerCase(),g.value[e]=function(){return t.call(n||y)}}function u(e){return e=e.toLowerCase(),!!g.exec[e]}function l(e,t,n){return t===Se&&(t=N),n===Se&&(n=null),y.getDoc().execCommand(e,t,n)}function c(e){return p.match(e)}function d(e,t){p.toggle(e,t?{value:t}:Se),y.nodeChanged()}function f(e){m=_.getBookmark(e)}function h(){_.moveToBookmark(m)}var b,_,p,m,g={state:{},exec:{},value:{}},v=y.settings;y.on("PreInit",function(){b=y.dom,_=y.selection,v=y.settings,p=y.formatter}),T(this,{execCommand:e,queryCommandState:t,queryCommandValue:n,queryCommandSupported:o,addCommands:r,addCommand:i,addQueryStateHandler:a,addQueryValueHandler:s,hasCustomCommand:u}),r({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){y.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=y.getDoc();try{l(e)}catch(i){t=R}if("paste"!==e||n.queryCommandEnabled(e)||(t=!0),t||!n.queryCommandSupported(e)){var r=y.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");S.mac&&(r=r.replace(/Ctrl\+/g,"\u2318+")),y.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(_.isCollapsed()){var e=y.dom.getParent(y.selection.getStart(),"a");e&&y.dom.remove(e,!0)}else p.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"==t&&(t="justify"),x("left,center,right,justify".split(","),function(e){t!=e&&p.remove("align"+e)}),"none"!=t&&d("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;l(e),(t=b.getParent(_.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(f(),b.split(n,t),h()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){d(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){d(e,n)},FontSize:function(e,t,n){var r,i;1<=n&&n<=7&&(i=P(v.font_size_style_values),n=(r=P(v.font_size_classes))?r[n-1]||n:i[n-1]||n),d(e,n)},RemoveFormat:function(e){p.remove(e)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(e,t,n){return d(n||"p")},mceCleanup:function(){var e=_.getBookmark();y.setContent(y.getContent({cleanup:R}),{cleanup:R}),_.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||_.getNode();r!=y.getBody()&&(f(),y.dom.remove(r,R),h())},mceSelectNodeDepth:function(e,t,n){var r=0;b.getParent(_.getNode(),function(e){if(1==e.nodeType&&r++==n)return _.select(e),N},y.getBody())},mceSelectNode:function(e,t,n){_.select(n)},mceInsertContent:function(e,t,n){E.insertAtCaret(y,n)},mceInsertRawHTML:function(e,t,n){_.setContent("tiny_mce_marker"),y.setContent(y.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){d(n)},mceSetContent:function(e,t,n){y.setContent(n)},"Indent,Outdent":function(n){var r,i,o;r=v.indentation,i=/[a-z%]+$/i.exec(r),r=parseInt(r,10),t("InsertUnorderedList")||t("InsertOrderedList")?l(n):(v.forced_root_block||b.getParent(_.getNode(),b.isBlock)||p.apply("div"),x(_.getSelectedBlocks(),function(e){if("false"!==b.getContentEditable(e)&&"LI"!==e.nodeName){var t=y.getParam("indent_use_margin",!1)?"margin":"padding";t="TABLE"===e.nodeName?"margin":t,t+="rtl"==b.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(o=Math.max(0,parseInt(e.style[t]||0,10)-r),b.setStyle(e,t,o?o+i:"")):(o=parseInt(e.style[t]||0,10)+r+i,b.setStyle(e,t,o))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){y.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){y.hasVisual=!y.hasVisual,y.addVisual()},mceReplaceContent:function(e,t,n){y.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,_.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var r;"string"==typeof n&&(n={href:n}),r=b.getParent(_.getNode(),"a"),n.href=n.href.replace(" ","%20"),r&&n.href||p.remove("link"),n.href&&p.apply("link",n,r)},selectAll:function(){var e,t=b.getRoot();if(_.getRng().setStart){var n=b.getParent(_.getStart(),k.isContentEditableTrue);n&&((e=b.createRng()).selectNodeContents(n),_.setRng(e))}else(e=_.getRng()).item||(e.moveToElementText(t),e.select())},"delete":function(){l("Delete");var e=y.getBody();b.isEmpty(e)&&(y.setContent(""),e.firstChild&&b.isBlock(e.firstChild)?y.selection.setCursorLocation(e.firstChild,0):y.selection.setCursorLocation(e,0))},mceNewDocument:function(){y.setContent("")},InsertLineBreak:function(e,t,n){function r(){for(var e,t=new C(c,f),n=y.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return!0}var i,o,a,s=n,u=_.getRng(!0);new w(b).normalize(u);var l=u.startOffset,c=u.startContainer;if(1==c.nodeType&&c.hasChildNodes()){var d=l>c.childNodes.length-1;c=c.childNodes[Math.min(l,c.childNodes.length-1)]||c,l=d&&3==c.nodeType?c.nodeValue.length:0}var f=b.getParent(c,b.isBlock),h=f?f.nodeName.toUpperCase():"",p=f?b.getParent(f.parentNode,b.isBlock):null,m=p?p.nodeName.toUpperCase():"",g=s&&s.ctrlKey;"LI"!=m||g||(f=p,h=m),c&&3==c.nodeType&&l>=c.nodeValue.length&&(I||r()||(i=b.create("br"),u.insertNode(i),u.setStartAfter(i),u.setEndAfter(i),o=!0)),i=b.create("br"),u.insertNode(i);var v=b.doc.documentMode;return I&&"PRE"==h&&(!v||v<8)&&i.parentNode.insertBefore(b.doc.createTextNode("\r"),i),a=b.create("span",{},"&nbsp;"),i.parentNode.insertBefore(a,i),_.scrollIntoView(a),b.remove(a),o?(u.setStartBefore(i),u.setEndBefore(i)):(u.setStartAfter(i),u.setEndAfter(i)),_.setRng(u),y.undoManager.add(),R}}),r({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=_.isCollapsed()?[b.getParent(_.getNode(),b.isBlock)]:_.getSelectedBlocks(),r=O(n,function(e){return!!p.matchNode(e,t)});return-1!==A(r,R)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return c(e)},mceBlockQuote:function(){return c("blockquote")},Outdent:function(){var e;if(v.inline_styles){if((e=b.getParent(_.getStart(),b.isBlock))&&0<parseInt(e.style.paddingLeft,10))return R;if((e=b.getParent(_.getEnd(),b.isBlock))&&0<parseInt(e.style.paddingLeft,10))return R}return t("InsertUnorderedList")||t("InsertOrderedList")||!v.inline_styles&&!!b.getParent(_.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=b.getParent(_.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),r({"FontSize,FontName":function(e){var t,n=0;return(t=b.getParent(_.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),r({Undo:function(){y.undoManager.undo()},Redo:function(){y.undoManager.redo()}})}}),e("tinymce/util/URI",["tinymce/util/Tools"],function(e){function a(r,e){var t,n,i=this;if(r=u(r),t=(e=i.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r))i.source=r;else{var o=0===r.indexOf("//");0!==r.indexOf("/")||o||(r=(t&&t.protocol||"http")+"://mce_host"+r),/^[\w\-]*:?\/\//.test(r)||(n=e.base_uri?e.base_uri.path:new a(location.href).directory,""===e.base_uri.protocol?r="//mce_host"+i.toAbsPath(n,r):(r=/([^#?]*)([#?]?.*)/.exec(r),r=(t&&t.protocol||"http")+"://mce_host"+i.toAbsPath(n,r[1])+r[2])),r=r.replace(/@@/g,"(mce_at)"),r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r),s(l,function(e,t){var n=r[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),i[e]=n}),t&&(i.protocol||(i.protocol=t.protocol),i.userInfo||(i.userInfo=t.userInfo),i.port||"mce_host"!==i.host||(i.port=t.port),i.host&&"mce_host"!==i.host||(i.host=t.host),i.source=""),o&&(i.protocol="")}}var s=e.each,u=e.trim,l="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};return a.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:n})).host&&n.host!=e.host&&e.host||n.port!=e.port||n.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),i=e.getURI();return r==i||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==i?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,i,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(r=0,i=e.length;r<i;r++)if(r>=n.length||e[r]!=n[r]){o=r+1;break}if(e.length<n.length)for(r=0,i=n.length;r<i;r++)if(r>=e.length||e[r]!=n[r]){o=r+1;break}if(1===o)return t;for(r=0,i=e.length-(o-1);r<i;r++)a+="../";for(r=o-1,i=n.length;r<i;r++)a+=r!=o-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,i,o=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),s(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(i=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(i="/"+i),r&&i.lastIndexOf("/")!==i.length-1&&(i+=r),i},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(n.protocol?t+=n.protocol+"://":t+="//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}},a.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},a}),e("tinymce/util/Class",["tinymce/util/Tools"],function(e){function t(){}var l,c,d=e.each,f=e.extend;return t.extend=l=function(n){function r(){var e,t,n,r=this;if(!c&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(r,arguments)}function t(){return this}function e(r,i){return function(){var e,t=this,n=t._super;return t._super=u[r],e=i.apply(t,arguments),t._super=n,e}}var i,o,a,s=this,u=s.prototype;for(o in c=!0,i=new s,c=!1,n.Mixins&&(d(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),u.Mixins&&(n.Mixins=u.Mixins.concat(n.Mixins))),n.Methods&&d(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&d(n.Properties.split(","),function(e){var r="_"+e;n[e]=function(e){var t,n=this;return e!==t?(n[r]=e,n):n[r]}}),n.Statics&&d(n.Statics,function(e,t){r[t]=e}),n.Defaults&&u.Defaults&&(n.Defaults=f({},u.Defaults,n.Defaults)),n
)"function"==typeof(a=n[o])&&u[o]?i[o]=e(o,a):i[o]=a;return r.prototype=i,(r.constructor=r).extend=l,r},t}),e("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(p){function e(a){function s(){return!1}function u(){return!0}function e(e,t){var n,r,i,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=c),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=u},t.stopPropagation=function(){t.isPropagationStopped=u},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=u},t.isDefaultPrevented=s,t.isPropagationStopped=s,t.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(t),n=h[e])for(r=0,i=n.length;r<i;r++){if((o=n[r]).once&&l(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(c,t))return t.preventDefault(),t}return t}function r(e,t,n,r){var i,o,a;if(!1===t&&(t=s),t)for(t={func:t},r&&p.extend(t,r),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(i=h[e])||(i=h[e]=[],d(e,!0)),n?i.unshift(t):i.push(t);return f}function l(e,t){var n,r,i,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],r=h[e],!e){for(i in h)d(i,!1),delete h[i];return f}if(r){if(t)for(a=r.length;a--;)r[a].func===t&&(r=r.slice(0,a).concat(r.slice(a+1)),h[e]=r);else r.length=0;r.length||(d(e,!1),delete h[e])}}else{for(e in h)d(e,!1);h={}}return f}function t(e,t,n){return r(e,t,n,{once:!0})}function n(e){return e=e.toLowerCase(),!(!h[e]||0===h[e].length)}var c,d,f=this,h={};c=(a=a||{}).scope||f,d=a.toggleEvent||s,f.fire=e,f.on=r,f.off=l,f.once=t,f.has=n}var t=p.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," ");return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),e("tinymce/data/Binding",[],function(){function e(e){this.create=e.create}return e.create=function(o,a){return new e({create:function(t,n){function e(e){t.set(n,e.value)}function r(e){o.set(a,e.value)}var i;return t.on("change:"+n,r),o.on("change:"+a,e),(i=t._bindings)||(i=t._bindings=[],t.on("destroy",function(){for(var e=i.length;e--;)i[e]()})),i.push(function(){o.off("change:"+a,e)}),o.get(a)}})},e}),e("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(r){function o(n){return n._eventDispatcher||(n._eventDispatcher=new r({scope:n,toggleEvent:function(e,t){r.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e)return t;if(t=o(r).fire(e,t,n),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return o(this).on(e,t,n)},off:function(e,t){return o(this).off(e,t)},once:function(e,t){return o(this).once(e,t)},hasEventListeners:function(e){return o(this).has(e)}}}),e("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(o,e,t,i){function a(e){return 0<e.nodeType}function s(e,t){var n,r;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(i.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!s(e[n],t[n]))return!1}if(a(e)||a(t))return e===t;for(n in r={},t){if(!s(e[n],t[n]))return!1;r[n]=!0}for(n in e)if(!r[n]&&!s(e[n],t[n]))return!1;return!0}return t.extend({Mixins:[e],init:function(e){var t,n;for(t in e=e||{})(n=e[t])instanceof o&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,r,i=this.data[e];if(t instanceof o&&(t=t.create(this,e)),"object"!=typeof e)return s(i,t)||(this.data[e]=t,r={target:this,name:e,value:t,oldValue:i},this.fire("change:"+e,r),this.fire("change",r)),this;for(n in e)this.set(n,e[n]);return this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return o.create(this,e)},destroy:function(){this.fire("destroy")}})}),e("tinymce/ui/Selector",["tinymce/util/Class"],function(e){function i(e){for(var t,n=[],r=e.length;r--;)(t=e[r]).__checked||(n.push(t),t.__checked=1);for(r=n.length;r--;)delete n[r].__checked;return n}var o,f=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,h=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,p=/^\s*|\s*$/g,a=e.extend({init:function(e){function o(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}function a(t){if(t)return function(e){return e._name===t}}function s(n){if(n)return n=n.split("."),function(e){for(var t=n.length;t--;)if(!e.classes.contains(n[t]))return!1;return!0}}function u(n,r,i){if(n)return function(e){var t=e[n]?e[n]():"";return r?"="===r?t===i:"*="===r?0<=t.indexOf(i):"~="===r?0<=(" "+t+" ").indexOf(" "+i+" "):"!="===r?t!=i:"^="===r?0===t.indexOf(i):"$="===r&&t.substr(t.length-i.length)===i:!!i}}function l(r){var t;if(r)return(r=/(?:not\((.+)\))|(.+)/i.exec(r))[1]?(t=d(r[1],[]),function(e){return!n(e,t)}):(r=r[2],function(e,t,n){return"first"===r?0===t:"last"===r?t===n-1:"even"===r?t%2==0:"odd"===r?t%2==1:!!e[r]&&e[r]()})}function c(e,t,n){function r(e){e&&t.push(e)}var i;return r(o((i=f.exec(e.replace(p,"")))[1])),r(a(i[2])),r(s(i[3])),r(u(i[4],i[5],i[6])),r(l(i[7])),t.pseudo=!!i[7],t.direct=n,t}function d(e,t){var n,r,i,o=[];do{if(h.exec(""),(r=h.exec(e))&&(e=r[3],o.push(r[1]),r[2])){n=r[3];break}}while(r);for(n&&d(n,t),e=[],i=0;i<o.length;i++)">"!=o[i]&&e.push(c(o[i],[],">"===o[i-1]));return t.push(e),t}var n=this.match;this._selectors=d(e,[])},match:function(e,t){var n,r,i,o,a,s,u,l,c,d,f,h,p;for(n=0,r=(t=t||this._selectors).length;n<r;n++){for(p=e,h=0,i=(o=(a=t[n]).length)-1;0<=i;i--)for(l=a[i];p;){if(l.pseudo)for(c=d=(f=p.parent().items()).length;c--&&f[c]!==p;);for(s=0,u=l.length;s<u;s++)if(!l[s](p,c,d)){s=u+1;break}if(s===u){h++;break}if(i===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function l(e,t,n){var r,i,o,a,s,u=t[n];for(r=0,i=e.length;r<i;r++){for(s=e[r],o=0,a=u.length;o<a;o++)if(!u[o](s,r,i)){o=a+1;break}if(o===a)n==t.length-1?c.push(s):s.items&&l(s.items(),t,n+1);else if(u.direct)return;s.items&&l(s.items(),t,n)}}var t,n,c=[],r=this._selectors;if(e.items){for(t=0,n=r.length;t<n;t++)l(e.items(),r[t],0);1<n&&(c=i(c))}return o||(o=a.Collection),new o(c)}});return a}),e("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(r,s,e){var u,i,n=Array.prototype.push,t=Array.prototype.slice;return i={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return r.isArray(e)?n.apply(t,e):e instanceof u?t.add(e.toArray()):n.call(t,e),t},set:function(e){var t,n=this,r=n.length;for(n.length=0,n.add(e),t=n.length;t<r;t++)delete n[t];return n},filter:function(t){var e,n,r,i,o=this,a=[];for("string"==typeof t?(t=new s(t),i=function(e){return t.match(e)}):i=t,e=0,n=o.length;e<n;e++)i(r=o[e])&&a.push(r);return new u(a)},slice:function(){return new u(t.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return r.each(this,e),this},toArray:function(){return r.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new u(r.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(t,n){var e,r,i=this;return n!==e?(i.each(function(e){e[t]&&e[t](n)}),i):(r=i[0])&&r[t]?r[t]():void 0},exec:function(t){var e=this,n=r.toArray(arguments).slice(1);return e.each(function(e){e[t]&&e[t].apply(e,n)}),e},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},r.each("fire on off show hide append prepend before after reflow".split(" "),function(n){i[n]=function(){var t=r.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),r.each("text name disabled active selected checked visible parent value data".split(" "),function(t){i[t]=function(e){return this.prop(t,e)}}),u=e.extend(i),s.Collection=u}),e("tinymce/ui/DomUtils",["tinymce/Env","tinymce/util/Tools","tinymce/dom/DOMUtils"],function(e,i,o){var t=0,n={id:function(){return"mceu_"+t++},create:function(e,t,n){var r=document.createElement(e);return o.DOM.setAttribs(r,t),"string"==typeof n?r.innerHTML=n:i.each(n,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return o.DOM.createFragment(e)},getWindowSize:function(){return o.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var r=e.getBoundingClientRect();t=Math.max(r.width||r.right-r.left,e.offsetWidth),n=Math.max(r.height||r.bottom-r.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return o.DOM.getPos(e,t||n.getContainer())},getContainer:function(){return e.container?e.container:document.body},getViewPort:function(e){return o.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return o.DOM.addClass(e,t)},removeClass:function(e,t){return o.DOM.removeClass(e,t)},hasClass:function(e,t){return o.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return o.DOM.toggleClass(e,t,n)},css:function(e,t,n){return o.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return o.DOM.getStyle(e,t,!0)},on:function(e,t,n,r){return o.DOM.bind(e,t,n,r)},off:function(e,t,n){return o.DOM.unbind(e,t,n)},fire:function(e,t,n){return o.DOM.fire(e,t,n)},innerHtml:function(e,t){o.DOM.setHTML(e,t)}};return n}),e("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(n,e){function r(e){var t=document.defaultView;return t?(e=e.replace(/[A-Z]/g,function(e){return"-"+e}),t.getComputedStyle(n,null).getPropertyValue(e)):n.currentStyle[e]}function t(e){var t=parseFloat(r(e),10);return isNaN(t)?0:t}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}}}}),e("tinymce/ui/ClassList",["tinymce/util/Tools"],function(e){function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}return e.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){for(var t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)0<t&&(e+=" "),e+=this.prefix+this.cls[t];return e},n}),e("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(n){var r,i={};return{add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;i[t._id]||(i[t._id]=t),r||(r=!0,n.requestAnimationFrame(function(){var e,t;for(e in r=!1,i)(t=i[e]).state.get("rendered")&&t.reflow();i={}},document.body))}},remove:function(e){i[e._id]&&delete i[e._id]}}}),e("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(e,o,r,a,i,v,f,y,s,l){function u(n){return n._eventDispatcher||(n._eventDispatcher=new r({scope:n,toggleEvent:function(e,t){t&&r.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n.state.get("rendered")&&c(n))}})),n._eventDispatcher}function c(s){function e(e){var t=s.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=u._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),u._lastHoverCtrl=null)}function n(e){var t,n,r,i=s.getParentCtrl(e.target),o=u._lastHoverCtrl,a=0;if(i!==o){if((n=(u._lastHoverCtrl=i).parents().toArray().reverse()).push(i),o){for((r=o.parents().toArray().reverse()).push(o),a=0;a<r.length&&n[a]===r[a];a++);for(t=r.length-1;a<=t;t--)(o=r[t]).fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)(i=n[t]).fire("mouseenter",{target:i.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=s.fire("wheel",e)}var i,o,a,u,l,c;if(l=s._nativeEvents){for((a=s.parents().toArray()).unshift(s),i=0,o=a.length;!u&&i<o;i++)u=a[i]._eventsRoot;for(u||(u=a[a.length-1]||s),s._eventsRoot=u,o=i,i=0;i<o;i++)a[i]._eventsRoot=u;var d=u._delegates;for(c in d||(d=u._delegates={}),l){if(!l)return!1;"wheel"!==c||p?("mouseenter"===c||"mouseleave"===c?u._hasMouseEnter||(f(u.getEl()).on("mouseleave",t).on("mouseover",n),u._hasMouseEnter=1):d[c]||(f(u.getEl()).on(c,e),d[c]=!0),l[c]=!1):h?f(s.getEl()).on("mousewheel",r):f(s.getEl()).on("DOMMouseScroll",r)}}}var d,h="onmousewheel"in document,p=!1,t="mce-",m=0,n={Statics:{classPrefix:t},isRtl:function(){return d.rtl},classPrefix:t,init:function(t){function e(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)i.classes.add(e[t])}var n,r,i=this;i.settings=t=o.extend({},i.Defaults,t),i._id=t.id||"mceu_"+m++,i._aria={role:t.role},i._elmCache={},i.$=f,i.state=new a({visible:!0,active:!1,disabled:!1,value:""}),i.data=new a(t.data),i.classes=new s(function(){i.state.get("rendered")&&(i.getEl().className=this.toString())}),i.classes.prefix=i.classPrefix,(n=t.classes)&&(i.Defaults&&(r=i.Defaults.classes)&&n!=r&&e(r),e(n)),o.each("title text name visible disabled active value".split(" "),function(e){e in t&&i[e](t[e])}),i.on("click",function(){if(i.disabled())return!1}),i.settings=t,i.borderBox=y.parseBox(t.border),i.paddingBox=y.parseBox(t.padding),i.marginBox=y.parseBox(t.margin),t.hidden&&i.hide()},Properties:"parent,name",getContainerElm:function(){return v.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,r,i,o,a,s,u,l,c=this,d=c.settings,f=c.getEl();e=c.borderBox=c.borderBox||y.measureBox(f,"border"),c.paddingBox=c.paddingBox||y.measureBox(f,"padding"),c.marginBox=c.marginBox||y.measureBox(f,"margin"),l=v.getSize(f),s=d.minWidth,u=d.minHeight,i=s||l.width,o=u||l.height,n=d.width,r=d.height,a=void 0!==(a=d.autoResize)?a:!n&&!r,n=n||i,r=r||o;var h=e.left+e.right,p=e.top+e.bottom,m=d.maxWidth||65535,g=d.maxHeight||65535;return c._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:r,deltaW:h,deltaH:p,contentW:n-h,contentH:r-p,innerW:n-h,innerH:r-p,startMinWidth:s||0,startMinHeight:u||0,minW:Math.min(i,m),minH:Math.min(o,g),maxW:m,maxH:g,autoResize:a,scrollW:0},c._lastLayoutRect={},t},layoutRect:function(e){var t,n,r,i,o,a,s=this,u=s._layoutRect;return u||(u=s.initLayoutRect()),e?(r=u.deltaW,i=u.deltaH,e.x!==o&&(u.x=e.x),e.y!==o&&(u.y=e.y),e.minW!==o&&(u.minW=e.minW),e.minH!==o&&(u.minH=e.minH),(n=e.w)!==o&&(n=(n=n<u.minW?u.minW:n)>u.maxW?u.maxW:n,u.w=n,u.innerW=n-r),(n=e.h)!==o&&(n=(n=n<u.minH?u.minH:n)>u.maxH?u.maxH:n,u.h=n,u.innerH=n-i),(n=e.innerW)!==o&&(n=(n=n<u.minW-r?u.minW-r:n)>u.maxW-r?u.maxW-r:n,u.innerW=n,u.w=n+r),(n=e.innerH)!==o&&(n=(n=n<u.minH-i?u.minH-i:n)>u.maxH-i?u.maxH-i:n,u.innerH=n,u.h=n+i),e.contentW!==o&&(u.contentW=e.contentW),e.contentH!==o&&(u.contentH=e.contentH),(t=s._lastLayoutRect).x===u.x&&t.y===u.y&&t.w===u.w&&t.h===u.h||((a=d.repaintControls)&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),t.x=u.x,t.y=u.y,t.w=u.w,t.h=u.h),s):u},repaint:function(){var e,t,n,r,i,o,a,s,u,l,c=this;u=document.createRange?function(e){return e}:Math.round,e=c.getEl().style,r=c._layoutRect,s=c._lastRepaintRect||{},o=(i=c.borderBox).left+i.right,a=i.top+i.bottom,r.x!==s.x&&(e.left=u(r.x)+"px",s.x=r.x),r.y!==s.y&&(e.top=u(r.y)+"px",s.y=r.y),r.w!==s.w&&(l=u(r.w-o),e.width=(0<=l?l:0)+"px",s.w=r.w),r.h!==s.h&&(l=u(r.h-a),e.height=(0<=l?l:0)+"px",s.h=r.h),c._hasBody&&r.innerW!==s.innerW&&(l=u(r.innerW),(n=c.getEl("body"))&&((t=n.style).width=(0<=l?l:0)+"px"),s.innerW=r.innerW),c._hasBody&&r.innerH!==s.innerH&&(l=u(r.innerH),(n=n||c.getEl("body"))&&((t=t||n.style).height=(0<=l?l:0)+"px"),s.innerH=r.innerH),c._lastRepaintRect=s,c.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,v.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(n){var r,i;return"string"!=typeof n?n:function(e){return r||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;if(t&&(r=t[n]))return i=e,!1}),r?r.call(i,e):(e.action=n,void this.fire("execute",e))}}var o=this;return u(o).on(e,n(t)),o},off:function(e,t){return u(this).off(e,t),this},fire:function(e,t,n){var r=this;if((t=t||{}).control||(t.control=r),t=u(r).fire(e,t),!1!==n&&r.parent)for(var i=r.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return u(this).has(e)},parents:function(e){var t,n=this,r=new i;for(t=n.parent();t;t=t.parent())r.add(t);return e&&(r=r.filter(e)),r},parentsAndSelf:function(e){return new i(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=f("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,r=n.getEl(n.ariaTarget);return void 0===t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&r.setAttribute("role"==e?e:"aria-"+e,t),n)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return d.translate?d.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var t,e,n=this,r=n.getEl(),i=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}i&&i.items&&(t=[],i.items().each(function(e){e!==n&&t.push(e)}),i.items().set(t),i._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&f(r).off();var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],r&&r.parentNode&&r.parentNode.removeChild(r),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return f(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return f(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,r,i,o=this,a=o.settings;for(r in o.$el=f(o.getEl()),o.state.set("rendered",!0),a)0===r.indexOf("on")&&o.on(r.substr(2),a[r]);if(o._eventsRoot){for(n=o.parent();!i&&n;n=n.parent())i=n._eventsRoot;if(i)for(r in i._nativeEvents)o._nativeEvents[r]=!0}c(o),a.style&&(e=o.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=o.getRoot();for(var u in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[o._id]=o)._aria)o.aria(u,o._aria[u]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(t=o.parent())&&(t._lastRect=null),o.fire(n?"show":"hide"),l.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,r,i=e;for(n=r=0;i&&i!=t&&i.nodeType;)n+=i.offsetLeft||0,r+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:r}}var n,r,i,o,a,s,u=this.getEl(),l=u.parentNode,c=t(u,l);return n=c.x,r=c.y,i=u.offsetWidth,o=u.offsetHeight,a=l.clientWidth,s=l.clientHeight,"end"==e?(n-=a-i,r-=s-o):"center"==e&&(n-=a/2-i/2,r-=s/2-o/2),l.scrollLeft=n,l.scrollTop=r,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var r=n.length;r--;)n[r].rootControl=e;return e},reflow:function(){l.remove(this);var e=this.parent();return e._layout&&!e._layout.isNative()&&e.reflow(),this}};return o.each("text title visible disabled active value".split(" "),function(t){n[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}),d=e.extend(n)}),e("tinymce/ui/Factory",[],function(){var o,a={};return{add:function(e,t){a[e.toLowerCase()]=t},has:function(e){return!!a[e.toLowerCase()]},create:function(e,t){var n,r,i;if(!o){for(r in i=tinymce.ui)a[r.toLowerCase()]=i[r];o=!0}if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=a[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}}}),e("tinymce/ui/KeyboardNavigation",[],function(){return function(e){function n(e){return e&&1===e.nodeType}function r(e){return n(e=e||b)?e.getAttribute("role"):null}function i(e){for(var t,n=e||b;n=n.parentNode;)if(t=r(n))return t}function o(e){var t=b;if(n(t))return t.getAttribute("aria-"+e)}function a(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t||"SELECT"==t}function s(e){return!(!a(e)||e.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(r(e))}function u(e){function n(e){if(1==e.nodeType&&"none"!=e.style.display&&!e.disabled){s(e)&&r.push(e);for(var t=0;t<e.childNodes.length;t++)n(e.childNodes[t])}}var r=[];return n(e||S.getEl()),r}function l(e){var t,n;(n=(e=e||_).parents().toArray()).unshift(e);for(var r=0;r<n.length&&!(t=n[r]).settings.ariaRoot;r++);return t}function t(e){var t=l(e),n=u(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,r=l();t=t||u(r.getEl());for(var i=0;i<t.length;i++)t[i]===b&&(n=i);n+=e,r.lastAriaIndex=c(n,t)}function f(){"tablist"==i()?d(-1,u(b.parentNode)):_.parent().submenu?v():d(-1)}function h(){var e=r(),t=i();"tablist"==t?d(1,u(b.parentNode)):"menuitem"==e&&"menu"==t&&o("haspopup")?y():d(1)}function p(){d(-1)}function m(){var e=r(),t=i();"menuitem"==e&&"menubar"==t?y():"button"==e&&o("haspopup")?y({key:"down"}):d(1)}function g(e){if("tablist"==i()){var t=u(_.getEl("body"))[0];t&&t.focus()}else d(e.shiftKey?-1:1)}function v(){_.fire("cancel")}function y(e){e=e||{},_.fire("click",{target:b,aria:e})}var b,_,S=e.root;try{b=document.activeElement}catch(w){b=document.body}return _=S.getParentCtrl(b),S.on("keydown",function(e){function t(e,t){a(b)||"slider"!==r(b)&&!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,h);break;case 38:t(e,p);break;case 40:t(e,m);break;case 27:v();break;case 14:case 13:case 32:t(e,y);break;case 9:!1!==g(e)&&e.preventDefault()}}),S.on("focusin",function(e){b=e.target,_=e.control}),{focusFirst:t}}}),e("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(i,n,t,o,r,a,s,u,l){var c={};return i.extend({init:function(e){var t=this;t._super(e),(e=t.settings).fixed&&t.state.set("fixed",!0),t._items=new n,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new u(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=o.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=c[e]=c[e]||new t(e)).find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,r,i=this;if(!e||!(n=i.keyboardNav||i.parents().eq(-1)[0].keyboardNav))return r=i.find("*"),i.statusbar&&r.add(i.statusbar.items()),r.each(function(e){if(e.settings.autofocus)return t=null,!1;e.canFocus&&(t=t||e)}),t&&t.focus(),i;n.focusFirst(i)},replace:function(e,t){for(var n,r=this.items(),i=r.length;i--;)if(r[i]===e){r[i]=t;break}0<=i&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,r=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof i||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=o.create(t)),r.push(e))}),r},renderNew:function(){var r=this;return r.items().each(function(e,t){var n;e.parent(r),e.state.get("rendered")||((n=r.getEl("body")).hasChildNodes()&&t<=n.childNodes.length-1?s(n.childNodes[t]).before(e.renderHtml()):s(n).append(e.renderHtml()),e.postRender(),l.add(e))}),r._layout.applyClasses(r.items().filter(":visible")),r._lastRect=null,r},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var r,i,o,a=this;return e=a.create(e),r=a.items(),!n&&t<r.length-1&&(t+=1),0<=t&&t<r.length&&(i=r.slice(0,t).toArray(),o=r.slice(t).toArray(),r.set(i.concat(e,o))),a.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var r={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(r[t]=n)}),r},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new r({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!=t.w||n.h!=t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(l.remove(this),this.visible()){for(i.repaintControls=[],i.repaintControls.map={},this.recalc(),e=i.repaintControls.length;e--;)i.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),i.repaintControls=[]}return this}})}),e("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(h){function p(e){var t,n,r,i,o,a,s,u=Math.max;return t=e.documentElement,n=e.body,r=u(t.scrollWidth,n.scrollWidth),i=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),a=u(t.scrollHeight,n.scrollHeight),s=u(t.clientHeight,n.clientHeight),{width:r<o?i:r,height:a<u(t.offsetHeight,n.offsetHeight)?s:a}}function m(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}return function(e,i){function o(){return f.getElementById(i.handle||e)}var a,s,t,u,l,c,d,f=i.document||document;i=i||{},t=function(e){var t,n,r=p(f);m(e),e.preventDefault(),s=e.button,t=o(),c=e.screenX,d=e.screenY,n=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor,a=h("<div></div>").css({position:"absolute",top:0,left:0,width:r.width,height:r.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(f.body),h(f).on("mousemove touchmove",l).on("mouseup touchend",u),i.start(e)},l=function(e){if(m(e),e.button!==s)return u(e);e.deltaX=e.screenX-c,e.deltaY=e.screenY-d,e.preventDefault(),i.drag(e)},u=function(e){m(e),h(f).off("mousemove touchmove",l).off("mouseup touchend",u),a.remove(),i.stop&&i.stop(e)},this.destroy=function(){h(o()).off()},h(o()).on("mousedown touchstart",t)}}),e("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(y,r){return{init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function n(){function e(e,t,n,r,i,o){var a,s,u,l,c,d,f,h;if(s=g.getEl("scroll"+e)){if(f=t.toLowerCase(),h=n.toLowerCase(),y(g.getEl("absend")).css(f,g.layoutRect()[r]-1),!i)return void y(s).css("display","none");y(s).css("display","block"),a=g.getEl("body"),u=g.getEl("scroll"+e+"t"),l=a["client"+n]-2*v,c=(l-=p&&m?s["client"+o]:0)/a["scroll"+n],(d={})[f]=a["offset"+t]+v,d[h]=l,y(s).css(d),(d={})[f]=a["scroll"+t]*c,d[h]=l*c,y(u).css(d)}}var p,m,t;t=g.getEl("body"),p=t.scrollWidth>t.clientWidth,m=t.scrollHeight>t.clientHeight,e("h","Left","Width","contentW",p,"Height"),e("v","Top","Height","contentH",m,"Width")}function e(){function e(a,s,u,l,c){var d,e=g._id+"-scroll"+a,t=g.classPrefix;y(g.getEl()).append('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>'),g.draghelper=new r(e+"t",{start:function(){d=g.getEl("body")["scroll"+s],y("#"+e).addClass(t+"active")},drag:function(e){var t,n,r,i,o=g.layoutRect();n=o.contentW>o.innerW,r=o.contentH>o.innerH,i=g.getEl("body")["client"+u]-2*v,t=(i-=n&&r?g.getEl("scroll"+a)["client"+c]:0)/g.getEl("body")["scroll"+u],g.getEl("body")["scroll"+s]=d+e["delta"+l]/t},stop:function(){y("#"+e).removeClass(t+"active")}})}g.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}var g=this,v=2;g.settings.autoScroll&&(g._hasScroll||(g._hasScroll=!0,e(),g.on("wheel",function(e){var t=g.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),y(g.getEl("body")).on("scroll",n)),n())}}}),e("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),e("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(h){function o(e,t,n){var r,i,o,a,s,u,l,c,d,f;return d=h.getViewPort(),o=(i=h.getPos(t)).x,a=i.y,e.state.get("fixed")&&"static"==h.getRuntimeStyle(document.body,"position")&&(o-=d.x,a-=d.y),r=e.getEl(),s=(f=h.getSize(r)).width,u=f.height,l=(f=h.getSize(t)).width,c=f.height,"b"===(n=(n||"").split(""))[0]&&(a+=c),"r"===n[1]&&(o+=l),"c"===n[0]&&(a+=Math.round(c/2)),"c"===n[1]&&(o+=Math.round(l/2)),"b"===n[3]&&(a-=u),"r"===n[4]&&(o-=s),"c"===n[3]&&(a-=Math.round(u/2)),"c"===n[4]&&(o-=Math.round(s/2)),{x:o,y:a,w:s,h:u}}return{testMoveRel:function(e,t){for(var n=h.getViewPort(),r=0;r<t.length;r++){var i=o(this,e,t[r]);if(this.state.get("fixed")){if(0<i.x&&i.x+i.w<n.w&&0<i.y&&i.y+i.h<n.h)return t[r]}else if(i.x>n.x&&i.x+i.w<n.w+n.x&&i.y>n.y&&i.y+i.h<n.h+n.y)return t[r]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=o(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this,r=n.layoutRect();return n.moveTo(r.x+e,r.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:t<e+n&&(e=t-n)<0?0:e}var r=this;if(
r.settings.constrainToViewport){var i=h.getViewPort(window),o=r.layoutRect();e=n(e,i.w+i.x,o.w),t=n(t,i.h+i.y,o.h)}return r.state.get("rendered")?r.layoutRect({x:e,y:t}).repaint():(r.settings.x=e,r.settings.y=t),r.fire("move",{x:e,y:t}),r}}}),e("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(r){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=r.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,r=n.layoutRect();return n.resizeTo(r.w+e,r.h+t)}}}),e("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(e,t,n,r,a,i){function o(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}function s(e){for(var t=y.length;t--;){var n=y[t],r=n.getParentCtrl(e.target);if(n.settings.autohide){if(r&&(o(r,n)||n.parent()===r))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}}function u(){p||(p=function(e){2!=e.button&&s(e)},a(document).on("click touchstart",p))}function l(){m||(m=function(){var e;for(e=y.length;e--;)d(y[e])},a(window).on("scroll",m))}function c(){if(!g){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;g=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,_.hideAll())},a(window).on("resize",g)}}function d(i){function e(e,t){for(var n,r=0;r<y.length;r++)if(y[r]!=i)for(n=y[r].parent();n&&(n=n.parent());)n==i&&y[r].fixed(e).moveBy(0,t).repaint()}var t=r.getViewPort().y;i.settings.autofix&&(i.state.get("fixed")?i._autoFixY>t&&(i.fixed(!1).layoutRect({y:i._autoFixY}).repaint(),e(!1,i._autoFixY-t)):(i._autoFixY=i.layoutRect().y,i._autoFixY<t&&(i.fixed(!0).layoutRect({y:0}).repaint(),e(!0,t-i._autoFixY))))}function f(e,t){var n,r,i=_.zIndex||65535;if(e)b.push(t);else for(n=b.length;n--;)b[n]===t&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(i++,r=b[n]),b[n].getEl().style.zIndex=i,b[n].zIndex=i,i++;var o=a("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];r?a(o).css("z-index",r.zIndex-1):o&&(o.parentNode.removeChild(o),v=!1),_.currentZIndex=i}function h(e){var t;for(t=y.length;t--;)y[t]===e&&y.splice(t,1);for(t=b.length;t--;)b[t]===e&&b.splice(t,1)}var p,m,g,v,y=[],b=[],_=e.extend({Mixins:[t,n],init:function(e){var r=this;r._super(e),(r._eventsRoot=r).classes.add("floatpanel"),e.autohide&&(u(),c(),y.push(r)),e.autofix&&(l(),r.on("move",function(){d(this)})),r.on("postrender show",function(e){if(e.control==r){var t,n=r.classPrefix;r.modal&&!v&&((t=a("#"+n+"modal-block",r.getContainerElm()))[0]||(t=a('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>').appendTo(r.getContainerElm())),i.setTimeout(function(){t.addClass(n+"in"),a(r.getEl()).addClass(n+"in")}),v=!0),f(!0,r)}}),r.on("show",function(){r.parents().each(function(e){if(e.state.get("fixed"))return r.fixed(!0),!1})}),e.popover&&(r._preBodyHtml='<div class="'+r.classPrefix+'arrow"></div>',r.classes.add("popover").add("bottom").add(r.isRtl()?"end":"start")),r.aria("label",e.ariaLabel),r.aria("labelledby",r._id),r.aria("describedby",r.describedBy||r._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!=e){if(t.state.get("rendered")){var n=r.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=y.length;e--&&y[e]!==t;);return-1===e&&y.push(t),n},hide:function(){return h(this),f(!1,this),this._super()},hideAll:function(){_.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),f(!1,e)),e},remove:function(){h(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});return _.hideAll=function(){for(var e=y.length;e--;){var t=y[e];t&&t.settings.autohide&&(t.hide(),y.splice(e,1))}},_}),e("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(e,t,s,u,r,l,i,c){function o(e){var t,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=u("meta[name=viewport]")[0];!1!==i.overrideViewPort&&(r||((r=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(r)),(t=r.getAttribute("content"))&&void 0!==h&&(h=t),r.setAttribute("content",e?n:h))}function n(e,t){a()&&!1===t&&u([document.documentElement,document.body]).removeClass(e+"fullscreen")}function a(){for(var e=0;e<f.length;e++)if(f[e]._fullscreen)return!0;return!1}function d(){function e(){var e,t,n=s.getWindowSize();for(e=0;e<f.length;e++)t=f[e].layoutRect(),f[e].moveTo(f[e].settings.x||Math.max(0,n.w/2-t.w/2),f[e].settings.y||Math.max(0,n.h/2-t.h/2))}if(!i.desktop){var n={w:window.innerWidth,h:window.innerHeight};c.setInterval(function(){var e=window.innerWidth,t=window.innerHeight;n.w==e&&n.h==t||(n={w:e,h:t},u(window).trigger("resize"))},100)}u(window).on("resize",e)}var f=[],h="",p=e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var n=this;n._super(e),n.isRtl()&&n.classes.add("rtl"),n.classes.add("window"),n.bodyClasses.add("window-body"),n.state.set("fixed",!0),e.buttons&&(n.statusbar=new t({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:n.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),n.statusbar.classes.add("foot"),n.statusbar.parent(n)),n.on("click",function(e){var t=n.classPrefix+"close";(s.hasClass(e.target,t)||s.hasClass(e.target.parentNode,t))&&n.close()}),n.on("cancel",function(){n.close()}),n.aria("describedby",n.describedBy||n._id+"-none"),n.aria("label",e.title),n._fullscreen=!1},recalc:function(){var e,t,n,r,i=this,o=i.statusbar;i._fullscreen&&(i.layoutRect(s.getWindowSize()),i.layoutRect().contentH=i.layoutRect().innerH),i._super(),e=i.layoutRect(),i.settings.title&&!i._fullscreen&&(t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),i.layoutRect({w:t,x:n}),r=!0),o&&(o.layoutRect({w:i.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),i.layoutRect({w:t,x:n}),r=!0)),r&&i.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),r=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var i=s.getSize(e);n.headerW=i.width,n.headerH=i.height,r+=n.headerH}t.statusbar&&(r+=t.statusbar.layoutRect().h),n.deltaH+=r,n.minH+=r,n.h+=r;var o=s.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,r=e.classPrefix,i=e.settings,o="",a="",s=i.html;return e.preRender(),t.preRender(e),i.title&&(o='<div id="'+n+'-head" class="'+r+'window-head"><div id="'+n+'-title" class="'+r+'title">'+e.encode(i.title)+'</div><div id="'+n+'-dragh" class="'+r+'dragh"></div><button type="button" class="'+r+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,r=this,i=document.documentElement,o=r.classPrefix;if(e!=r._fullscreen)if(u(window).on("resize",function(){var e;if(r._fullscreen)if(n)r._timer||(r._timer=c.setTimeout(function(){var e=s.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var t=s.getWindowSize();r.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=r.layoutRect(),r._fullscreen=e){r._initial={x:t.x,y:t.y,w:t.w,h:t.h},r.borderBox=l.parseBox("0"),r.getEl("head").style.display="none",t.deltaH-=t.headerH+2,u([i,document.body]).addClass(o+"fullscreen"),r.classes.add("fullscreen");var a=s.getWindowSize();r.moveTo(0,0).resizeTo(a.w,a.h)}else r.borderBox=l.parseBox(r.settings.border),r.getEl("head").style.display="",t.deltaH+=t.headerH,u([i,document.body]).removeClass(o+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.classes.add("in"),n.fire("open")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new r(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()}),f.push(n),o(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),n(t.classPrefix,!1),e=f.length;e--;)f[e]===t&&f.splice(e,1);o(0<f.length)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});return d(),p}),e("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(i){var o=i.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}var n,r=e.callback||function(){};switch(e.buttons){case o.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case o.YES_NO:case o.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons==o.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new i({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){r(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,o.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=o.OK_CANCEL,o.msgBox(e)}}});return o}),e("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(s,u){return function(i){function t(){if(r.length)return r[r.length-1]}function o(e){i.fire("OpenWindow",{win:e})}function a(e){i.fire("CloseWindow",{win:e})}var e=this,r=[];e.windows=r,i.on("remove",function(){for(var e=r.length;e--;)r[e].close()}),e.open=function(n,e){var t;return i.editorManager.setActive(i),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body,data:n.data,callbacks:n.commands}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new s(n),r.push(t),t.on("close",function(){for(var e=r.length;e--;)r[e]===t&&r.splice(e,1);r.length||i.focus(),a(t)}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===r.length&&i.nodeChanged(),o(t=t.renderTo().reflow()),t},e.alert=function(e,t,n){var r;(r=u.alert(e,function(){t?t.call(n||this):i.focus()})).on("close",function(){a(r)}),o(r)},e.confirm=function(e,t,n){var r;(r=u.confirm(e,function(e){t.call(n||this,e)})).on("close",function(){a(r)}),o(r)},e.close=function(){t()&&t().close()},e.getParams=function(){return t()?t().params:null},e.setParams=function(e){t()&&(t().params=e)},e.getWindows=function(){return r}}}),e("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),e("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(e,t){var n,o=e.extend({init:function(r){var i=this;i._super(r),r=i.settings,i.canFocus=!0,r.tooltip&&!1!==o.tooltips&&(i.on("mouseenter",function(e){var t=i.tooltip().moveTo(-65535);if(e.control==i){var n=t.text(r.tooltip).show().testMoveRel(i.getEl(),["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==n),t.classes.toggle("tooltip-nw","bc-tl"==n),t.classes.toggle("tooltip-ne","bc-tr"==n),t.moveRel(i.getEl(),n)}else t.hide()}),i.on("mouseleave mousedown click",function(){i.tooltip().hide()})),i.aria("label",r.ariaLabel||r.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function t(e){r.aria("disabled",e),r.classes.toggle("disabled",e)}function n(e){r.aria("pressed",e),r.classes.toggle("active",e)}var r=this;return r.state.on("change:disabled",function(e){t(e.value)}),r.state.on("change:active",function(e){n(e.value)}),r.state.get("disabled")&&t(!0),r.state.get("active")&&n(!0),r._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o}),e("tinymce/ui/Progress",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function t(e){e=n.settings.filter(e),n.getEl().lastChild.innerHTML=e+"%",n.getEl().firstChild.firstChild.style.width=e+"%"}var n=this;return n.state.on("change:value",function(e){t(e.value)}),t(n.state.get("value")),n._super()}})}),e("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(e,t,n,r){return e.extend({Mixins:[t],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||0<e.timeout)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new n),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",r="",i="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),e.color&&(o=' style="background-color: '+e.color+'"'),e.closeButton&&(r='<button type="button" class="'+t+'close" aria-hidden="true">\xd7</button>'),e.progressBar&&(i=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+i+r+"</div>"},postRender:function(){var e=this;return r.setTimeout(function(){e.$el.addClass(e.classPrefix+"in")}),e._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}})}),e("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay","tinymce/util/Tools"],function(c,d,f){return function(r){function e(){if(l.length)return l[l.length-1]}function t(){d.requestAnimationFrame(function(){n(),i()})}function n(){for(var e=0;e<l.length;e++)l[e].moveTo(0,0)}function i(){if(0<l.length){var e=l.slice(0,1)[0],t=r.inline?r.getElement():r.getContentAreaContainer();if(e.moveRel(t,"tc-tc"),1<l.length)for(var n=1;n<l.length;n++)l[n].moveRel(l[n-1].getEl(),"bc-tc")}}function o(e,t){if(!s(t))return null;var n=f.grep(e,function(e){return a(t,e)});return 0===n.length?null:n[0]}function a(e,t){return e.type===t.settings.type&&e.text===t.settings.text}function s(e){return!e.progressBar&&!e.timeout}var u=this,l=[];u.notifications=l,r.on("remove",function(){for(var e=l.length;e--;)l[e].close()}),r.on("ResizeEditor",i),r.on("ResizeWindow",t),u.open=function(e){if(!r.removed){var t;r.editorManager.setActive(r);var n=o(l,e);return null===n?(t=new c(e),l.push(t),0<e.timeout&&(t.timer=setTimeout(function(){t.close()},e.timeout)),t.on("close",function(){var e=l.length;for(t.timer&&r.getWin().clearTimeout(t.timer);e--;)l[e]===t&&l.splice(e,1);i()}),t.renderTo(),i()):t=n,t}},u.close=function(){e()&&e().close()},u.getNotifications=function(){return l},r.on("SkinLoaded",function(){var e=r.settings.service_message;e&&r.notificationManager.open({text:e,type:"warning",timeout:0,icon:""})})}}),e("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(i){function e(e,t,n){for(var r=[];t&&t!=e;t=t.parentNode)r.push(i.nodeIndex(t,n));return r}function t(e,t){var n,r,i;for(r=e,n=t.length-1;0<=n;n--){if(i=r.childNodes,t[n]>i.length-1)return null;r=i[t[n]]}return r}return{create:e,resolve:t}}),e("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/caret/CaretWalker"],function(ee,te,ne,re,ie,oe,ae,se,ue,le,ce,de){return function(g){function t(e,t){try{g.getDoc().execCommand(e,!1,t)}catch(n){}}function e(){var e=g.getDoc().documentMode;return e||6}function v(e){return e.isDefaultPrevented()}function y(e){var t,n;e.dataTransfer&&(g.selection.isCollapsed()&&"IMG"==e.target.tagName&&z.select(e.target),0<(t=g.selection.getContent()).length&&(n=Q+escape(g.id)+","+escape(t),e.dataTransfer.setData(Z,n)))}function b(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(Z))&&0<=t.indexOf(Q)?(t=t.substr(Q.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null}function _(e){g.queryCommandSupported("mceInsertClipboardContent")?g.execCommand("mceInsertClipboardContent",!1,{content:e}):g.execCommand("mceInsertContent",!1,e)}function n(){function a(e){var t=h.schema.getBlockElements(),n=g.getBody();if("BR"!=e.nodeName)return!1;for(;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function l(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==U.trim(n.data).length)&&n!==t)return!1;return n===t}function c(e,t,n){var r,i,o;if(h.isChildOf(e,g.getBody()))for(o=h.schema.getNonEmptyElements(),r=new ne(n||e,e);i=r[t?"next":"prev"]();){if(o[i.nodeName]&&!a(i))return i;if(3==i.nodeType&&0<i.data.length)return i}}function n(e){var t,n,r,i,o;if(!e.collapsed&&(t=h.getParent(te.getNode(e.startContainer,e.startOffset),h.isBlock),n=h.getParent(te.getNode(e.endContainer,e.endOffset),h.isBlock),o=g.schema.getTextBlockElements(),t!=n&&o[t.nodeName]&&o[n.nodeName]&&"false"!==h.getContentEditable(t)&&"false"!==h.getContentEditable(n)))return e.deleteContents(),r=c(t,!1),i=c(n,!0),h.isEmpty(n)||U(t).append(n.childNodes),U(n).remove(),r?1==r.nodeType?"BR"==r.nodeName?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStartAfter(r),e.setEndAfter(r)):(e.setStart(r,r.data.length),e.setEnd(r,r.data.length)):i&&(1==i.nodeType?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStart(i,0),e.setEnd(i,0))),p.setRng(e),!0}function r(e,t){var n,r,i,o,a,s;if(!e.collapsed)return e;if(a=e.startContainer,s=e.startOffset,3==a.nodeType)if(t){if(s<a.data.length)return e}else if(0<s)return e;n=te.getNode(a,s),i=h.getParent(n,h.isBlock),r=c(g.getBody(),t,n),o=h.getParent(r,h.isBlock);var u=1===a.nodeType&&s>a.childNodes.length-1;if(!n||!r)return e;if(o&&i!=o)if(t){if(!l(i,o))return e;1==n.nodeType?"BR"==n.nodeName?e.setStartBefore(n):e.setStartAfter(n):e.setStart(n,n.data.length),1==r.nodeType?e.setEnd(r,0):e.setEndBefore(r)}else{if(!l(o,i))return e;1==r.nodeType?"BR"==r.nodeName?e.setStartBefore(r):e.setStartAfter(r):e.setStart(r,r.data.length),1==n.nodeType&&u?e.setEndAfter(n):e.setEndBefore(n)}return e}function o(e){var t=p.getRng();if(n(t=r(t,e)))return!0}function s(e,n){function t(e,t){return f=U(t).parents().filter(function(e,t){return!!g.schema.getTextInlineElements()[t.nodeName]}),a=e.cloneNode(!1),(f=se.map(f,function(e){return e=e.cloneNode(!1),a.hasChildNodes()&&e.appendChild(a.firstChild),a.appendChild(e),a.appendChild(e),e})).length?(d=h.create("br"),f[0].appendChild(d),h.replace(a,e),n.setStartBefore(d),n.setEndBefore(d),g.selection.setRng(n),d):null}function r(e){return e&&g.schema.getTextBlockElements()[e.tagName]}var i,o,a,s,u,l,c,d,f;if(n.collapsed&&(l=n.startContainer,c=n.startOffset,r(o=h.getParent(l,h.isBlock))))if(1==l.nodeType){if((l=l.childNodes[c])&&"BR"!=l.tagName)return;if(u=e?o.nextSibling:o.previousSibling,h.isEmpty(o)&&r(u)&&h.isEmpty(u)&&t(o,l))return h.remove(u),!0}else if(3==l.nodeType){if(i=re.create(o,l),s=o.cloneNode(!0),l=re.resolve(s,i),e){if(c>=l.data.length)return;l.deleteData(c,1)}else{if(c<=0)return;l.deleteData(c-1,1)}if(h.isEmpty(s))return t(o,l)}}function u(e){var t,r,i;o(e)||(se.each(g.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&g.dom.setAttrib(e,"style",g.dom.getAttrib(e,"style"))}),(t=new m(function(){})).observe(g.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),g.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),r=g.selection.getRng(),i=r.startContainer.parentNode,se.each(t.takeRecords(),function(e){if(h.isChildOf(e.target,g.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}se.each(e.addedNodes,function(e){var t,n;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==i&&(t=r.startOffset,n=e.firstChild),h.remove(e,!0),n&&(r.setStart(n,t),r.setEnd(n,t),g.selection.setRng(r)))})}}),t.disconnect(),se.each(g.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}function i(e){g.undoManager.transact(function(){u(e)})}var e,d,f=g.getDoc(),h=g.dom,p=g.selection,m=window.MutationObserver;m||(e=!0,m=function(){function t(e){var t=e.relatedNode||e.target;i.push({target:t,addedNodes:[t]})}function n(e){var t=e.relatedNode||e.target;i.push({target:t,attributeName:e.attrName})}var r,i=[];this.observe=function(e){(r=e).addEventListener("DOMSubtreeModified",t,!1),r.addEventListener("DOMNodeInsertedIntoDocument",t,!1),r.addEventListener("DOMNodeInserted",t,!1),r.addEventListener("DOMAttrModified",n,!1)},this.disconnect=function(){r.removeEventListener("DOMSubtreeModified",t,!1),r.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),r.removeEventListener("DOMNodeInserted",t,!1),r.removeEventListener("DOMAttrModified",n,!1)},this.takeRecords=function(){return i}}),g.on("keydown",function(e){var t=e.keyCode==V,n=e.ctrlKey||e.metaKey;if(!v(e)&&(t||e.keyCode==H)){var r=g.selection.getRng(),i=r.startContainer,o=r.startOffset;if(t&&e.shiftKey)return;if(s(t,r))return void e.preventDefault();if(!n&&r.collapsed&&3==i.nodeType&&(t?o<i.data.length:0<o))return;e.preventDefault(),n&&g.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),u(t)}}),g.on("keypress",function(e){var t,n,r,i,o,a;!v(e)&&!p.isCollapsed()&&31<e.charCode&&!ee.metaKeyPressed(e)&&(t=g.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),n=U(t.startContainer).parents().filter(function(e,t){return!!g.schema.getTextInlineElements()[t.nodeName]}),u(!0),(n=n.filter(function(e,t){return!U.contains(g.getBody(),t)})).length?(r=h.createFragment(),n.each(function(e,t){t=t.cloneNode(!1),r.hasChildNodes()?t.appendChild(r.firstChild):o=t,r.appendChild(t),r.appendChild(t)}),o.appendChild(g.getDoc().createTextNode(a)),i=h.getParent(t.startContainer,h.isBlock),h.isEmpty(i)?U(i).empty().append(r):t.insertNode(r),t.setStart(o.firstChild,1),t.setEnd(o.firstChild,1),g.selection.setRng(t)):g.selection.setContent(a))}),g.addCommand("Delete",function(){u()}),g.addCommand("ForwardDelete",function(){u(!0)}),e||(g.on("dragstart",function(e){d=p.getRng(),y(e)}),g.on("drop",function(t){if(!v(t)){var n=b(t);n&&(t.preventDefault(),ue.setEditorTimeout(g,function(){var e=te.getCaretRangeFromPoint(t.x,t.y,f);d&&(p.setRng(d),d=null,i()),p.setRng(e),_(n.html)}))}}),g.on("cut",function(e){v(e)||!e.clipboardData||g.selection.isCollapsed()||(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",g.selection.getContent()),e.clipboardData.setData("text/plain",g.selection.getContent({format:"text"})),ue.setEditorTimeout(g,function(){i(!0)}))}))}function r(){function i(e){var t=W.create("body"),n=e.cloneContents();return t.appendChild(n),z.serializer.serialize(t,{format:"html"})}function o(e){if(!e.setStart){if(e.item)return!1;var t=e.duplicate();return t.moveToElementText(g.getBody()),te.compareRanges(e,t)}var n=i(e),r=W.createRng();return r.selectNode(g.getBody()),n===i(r)}g.on("keydown",function(e){var t,n,r=e.keyCode;if(!v(e)&&(r==V||r==H)){if(t=g.selection.isCollapsed(),n=g.getBody(),t&&!W.isEmpty(n))return;if(!t&&!o(g.selection.getRng()))return;e.preventDefault(),g.setContent(""),n.firstChild&&W.isBlock(n.firstChild)?g.selection.setCursorLocation(n.firstChild,0):g.selection.setCursorLocation(n,0),g.nodeChanged()}})}function i(){g.shortcuts.add("meta+a",null,"SelectAll")}function o(){g.settings.content_editable||W.bind(g.getDoc(),"mousedown mouseup",function(e){var t;if(e.target==g.getDoc().documentElement)if(t=z.getRng(),g.getBody().focus(),"mousedown"==e.type){if(le.isCaretContainer(t.startContainer))return;z.placeCaretAt(e.clientX,e.clientY)}else z.setRng(t)})}function a(){g.on("keydown",function(e){if(!v(e)&&e.keyCode===H){if(!g.getBody().getElementsByTagName("hr").length)return;if(z.isCollapsed()&&0===z.getRng(!0).startOffset){var t=z.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return W.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(W.remove(n),e.preventDefault())}}})}function s(){window.Range.prototype.getClientRects||g.on("mousedown",function(e){if(!v(e)&&"HTML"===e.target.nodeName){var t=g.getBody();t.blur(),ue.setEditorTimeout(g,function(){t.focus()})}})}function u(){g.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==W.getContentEditableParent(t)&&(e.preventDefault(),z.select(t),g.nodeChanged()),"A"==t.nodeName&&W.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),z.select(t))})}function l(){function n(){var e=W.getAttribs(z.getStart().cloneNode(!1));return function(){var t=z.getStart();t!==g.getBody()&&(W.setAttrib(t,"style",null),$(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function r(){return!z.isCollapsed()&&W.getParent(z.getStart(),W.isBlock)!=W.getParent(z.getEnd(),W.isBlock)}g.on("keypress",function(e){var t;if(!v(e)&&(8==e.keyCode||46==e.keyCode)&&r())return t=n(),g.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),W.bind(g.getDoc(),"cut",function(e){var t;!v(e)&&r()&&(t=n(),ue.setEditorTimeout(g,function(){t()}))})}function c(){document.body.setAttribute("role","application")}function d(){g.on("keydown",function(e){if(!v(e)&&e.keyCode===H&&z.isCollapsed()&&0===z.getRng(!0).startOffset){var t=z.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function f(){7<e()||(t("RespectVisibilityInDesign",!0),g.contentStyles.push(".mceHideBrInPre pre br {display: none}"),W.addClass(g.getBody(),"mceHideBrInPre"),G.addNodeFilter("pre",function(e){for(var t,n,r,i,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(i=(r=t[n]).prev)&&3===i.type&&"\n"!=i.value.charAt(i.value-1)?i.value+="\n":r.parent.insert(new ie("#text",3),r,!0).value="\n"}),Y.addNodeFilter("pre",function(e){for(var t,n,r,i=e.length;i--;)for(n=(t=e[i].getAll("br")).length;n--;)(r=t[n].prev)&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function h(){W.bind(g.getBody(),"mouseup",function(){var e,t=z.getNode();"IMG"==t.nodeName&&((e=W.getStyle(t,"width"))&&(W.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),W.setStyle(t,"width","")),(e=W.getStyle(t,"height"))&&(W.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),W.setStyle(t,"height","")))})}function p(){g.on("keydown",function(e){var t,n,r,i,o;if(!v(e)&&e.keyCode==ee.BACKSPACE&&(n=(t=z.getRng()).startContainer,r=t.startOffset,i=W.getRoot(),o=n,t.collapsed&&0===r)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=i;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(g.formatter.toggle("blockquote",null,o),(t=W.createRng()).setStart(n,0),t.setEnd(n,0),z.setRng(t))}})}function m(){function e(){B(),t("StyleWithCSS",!1),t("enableInlineTableEditing",!1),q.object_resizing||t("enableObjectResizing",!1)}q.readonly||g.on("BeforeExecCommand MouseDown",e)}function S(){function t(){$(W.select("a"),function(e){var t=e.parentNode,n=W.getRoot();if(t.lastChild===e){for(;t&&!W.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}W.add(t,"br",{"data-mce-bogus":1})}})}g.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||t()})}function w(){q.forced_root_block&&g.on("init",function(){t("DefaultParagraphSeparator",q.forced_root_block)})}function C(){g.on("keydown",function(e){var t;v(e)||e.keyCode!=H||(t=g.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),g.undoManager.beforeChange(),W.remove(t.item(0)),g.undoManager.add())})}function E(){var n;10<=e()&&(n="",$("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){n+=(0<t?",":"")+e+":empty"}),g.contentStyles.push(n+"{padding-right: 1px !important}"))}function k(){e()<9&&(G.addNodeFilter("noscript",function(e){for(var t,n,r=e.length;r--;)(n=(t=e[r]).firstChild)&&t.attr("data-mce-innertext",n.value)}),Y.addNodeFilter("noscript",function(e){for(var t,n,r,i=e.length;i--;)t=e[i],(n=e[i].firstChild)?n.value=oe.decode(n.value):(r=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new ie("#text",3)).value=r,n.raw=!0,t.append(n))}))}function x(){function n(e,t){var n=u.createTextRange();try{n.moveToPoint(e,t)}catch(r){n=null}return n}function t(e){var t;e.button?(t=n(e.x,e.y))&&(0<t.compareEndPoints("StartToStart",o)?t.setEndPoint("StartToStart",o):t.setEndPoint("EndToEnd",o),t.select()):r()}function r(){var e=s.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),W.unbind(s,"mouseup",r),W.unbind(s,"mousemove",t),o=i=0}var i,o,a,s=W.doc,u=s.body;s.documentElement.unselectable=!0,W.bind(s,"mousedown contextmenu",function(e){if("HTML"===e.target.nodeName){if(i&&r(),(a=s.documentElement).scrollHeight>a.clientHeight)return;i=1,(o=n(e.x,e.y))&&(W.bind(s,"mouseup",r),W.bind(s,"mousemove",t),W.getRoot().focus(),o.select())}})}function T(){g.on("keyup focusin mouseup",function(e){65==e.keyCode&&ee.metaKeyPressed(e)||z.normalize()},!0)}function O(){g.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function A(){g.inline||g.on("keydown",function(){document.activeElement==document.body&&g.getWin().focus()})}function P(){g.inline||(g.contentStyles.push("body {min-height: 150px}"),g.on("click",function(e){var t;if("HTML"==e.target.nodeName){if(11<ae.ie)return void g.getBody().focus();t=g.selection.getRng(),g.getBody().focus(),g.selection.setRng(t),g.selection.normalize(),g.nodeChanged()}}))}function I(){ae.mac&&g.on("keydown",function(e){!ee.metaKeyPressed(e
)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),g.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function R(){t("AutoUrlDetect",!1)}function N(){g.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),g.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function D(){g.on("init",function(){g.dom.bind(g.getBody(),"submit",function(e){e.preventDefault()})})}function L(){G.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()})}function M(){g.on("dragstart",function(e){y(e)}),g.on("drop",function(e){if(!v(e)){var t=b(e);if(t&&t.id!=g.id){e.preventDefault();var n=te.getCaretRangeFromPoint(e.x,e.y,g.getDoc());z.setRng(n),_(t.html)}}})}function B(){}function F(){var e;return X?!(e=g.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}function j(){function n(e){var t=new de(e.getBody()),n=e.selection.getRng(),r=ce.fromRangeStart(n),i=ce.fromRangeEnd(n),o=t.prev(r),a=t.next(i);return!e.selection.isCollapsed()&&(!o||o.isAtStart()&&r.isEqual(o))&&(!a||a.isAtEnd()&&r.isEqual(a))}g.on("keypress",function(e){!v(e)&&!z.isCollapsed()&&31<e.charCode&&!ee.metaKeyPressed(e)&&n(g)&&(e.preventDefault(),g.setContent(String.fromCharCode(e.charCode)),g.selection.select(g.getBody(),!0),g.selection.collapse(!1),g.nodeChanged())}),g.on("keydown",function(e){var t=e.keyCode;v(e)||t!=V&&t!=H||n(g)&&(e.preventDefault(),g.setContent(""),g.nodeChanged())})}var $=se.each,U=g.$,H=ee.BACKSPACE,V=ee.DELETE,W=g.dom,z=g.selection,q=g.settings,G=g.parser,Y=g.serializer,X=ae.gecko,K=ae.ie,J=ae.webkit,Q="data:text/mce-internal,",Z=K?"Text":"URL";return p(),r(),ae.windowsPhone||T(),J&&(j(),n(),o(),u(),w(),D(),d(),L(),ae.iOS?(A(),P(),N()):i()),K&&ae.ie<11&&(a(),c(),f(),h(),C(),E(),k(),x()),11<=ae.ie&&(P(),d()),ae.ie&&(i(),R(),M()),X&&(j(),a(),s(),l(),m(),S(),O(),I(),d()),{refreshContentEditable:B,isHidden:F}}}),e("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(e,t,n){function r(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=l.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function i(o,a){function s(e){return!e.hidden&&!e.readonly}var e,t=r(o,a);if(o.delegates||(o.delegates={}),!o.delegates[a])if(o.settings.event_root){if(u||(u={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&u){for(e in u)o.dom.unbind(r(o,e));u=null}})),u[a])return;e=function(e){for(var t=e.target,n=o.editorManager.editors,r=n.length;r--;){var i=n[r].getBody();(i===t||l.isChildOf(t,i))&&s(n[r])&&n[r].fire(a,e)}},u[a]=e,l.bind(t,a,e)}else e=function(e){s(o)&&o.fire(a,e)},l.bind(t,a,e),o.delegates[a]=e}var u,l=t.DOM,o={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){i(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"!=e&&"blur"!=e&&(t?n.initialized?i(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(r(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(r(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return o=n.extend({},e,o)}),e("tinymce/Mode",[],function(){function n(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}}function r(t){var e,n;return e=t.getBody(),n=function(e){0<t.dom.getParents(e.target,"a").length&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}}function i(e,t){e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=r(e),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,n(e,"StyleWithCSS",!(e.getBody().contentEditable=!0)),n(e,"enableInlineTableEditing",!1),n(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())}function e(e,t){var n=e.readonly?"readonly":"design";t!=n&&(e.initialized?i(e,"readonly"==t):e.on("init",function(){i(e,"readonly"==t)}),e.fire("SwitchMode",{mode:t}))}return{setMode:e}}),e("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(c,d){var f=c.each,h=c.explode,p={f9:120,f10:121,f11:122},m=c.makeMap("alt,ctrl,shift,meta,access");return function(o){function a(e){var t,n,r={};for(n in f(h(e,"+"),function(e){e in m?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=p[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode],m)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,d.mac?r.ctrl=!0:r.shift=!0),r.meta&&(d.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r}function s(e,t,n,r){var i;return(i=c.map(h(e,">"),a))[i.length-1]=c.extend(i[i.length-1],{func:n,scope:r||o}),c.extend(i[0],{desc:o.translate(t),subpatterns:i.slice(1)})}function e(e){return e.altKey||e.ctrlKey||e.metaKey}function n(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123}function r(e,t){return!!t&&(t.ctrl==e.ctrlKey&&t.meta==e.metaKey&&(t.alt==e.altKey&&t.shift==e.shiftKey&&(!!(e.keyCode==t.keyCode||e.charCode&&e.charCode==t.charCode)&&(e.preventDefault(),!0))))}function i(e){return e.func?e.func.call(e.scope):null}var t=this,u={},l=[];o.on("keyup keypress keydown",function(t){!e(t)&&!n(t)||t.isDefaultPrevented()||(f(u,function(e){if(r(t,e))return l=e.subpatterns.slice(0),"keydown"==t.type&&i(e),!0}),r(t,l[0])&&(1===l.length&&"keydown"==t.type&&i(l[0]),l.shift()))}),t.add=function(e,n,r,i){var t;return"string"==typeof(t=r)?r=function(){o.execCommand(t,!1,null)}:c.isArray(t)&&(r=function(){o.execCommand(t[0],t[1],t[2])}),f(h(c.trim(e.toLowerCase())),function(e){var t=s(e,n,r,i);u[t.id]=t}),!0},t.remove=function(e){var t=s(e);return!!u[t.id]&&(delete u[t.id],!0)}}}),e("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(g,v,y){return function(d,a){function t(e){var t;return t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[e.blob().type.toLowerCase()]||"dat",e.filename()+"."+t}function s(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t}function f(e){return{id:e.id,blob:e.blob,base64:e.base64,filename:y.constant(t(e))}}function n(e,t,n,r){var i,o;(i=new XMLHttpRequest).open("POST",a.url),i.withCredentials=a.credentials,i.upload.onprogress=function(e){r(e.loaded/e.total*100)},i.onerror=function(){n("Image upload failed due to a XHR Transport error. Code: "+i.status)},i.onload=function(){var e;200==i.status?(e=JSON.parse(i.responseText))&&"string"==typeof e.location?t(s(a.basePath,e.location)):n("Invalid JSON: "+i.responseText):n("HTTP Error: "+i.status)},(o=new FormData).append("file",e.blob(),e.filename()),i.send(o)}function r(){return new g(function(e){e([])})}function h(e,t){return{url:t,blobInfo:e,status:!0}}function p(e,t){return{url:"",blobInfo:e,status:!1,error:t}}function m(e,t){v.each(c[e],function(e){e(t)}),delete c[e]}function i(u,l,c){return d.markPending(u.blobUri()),new g(function(t){var n,e,r=function(){};try{var i=function(){n&&(n.close(),e=r)},o=function(e){i(),d.markUploaded(u.blobUri(),e),m(u.blobUri(),h(u,e)),t(h(u,e))},a=function(e){i(),d.removeFailed(u.blobUri()),m(u.blobUri(),p(u,e)),t(p(u,e))};e=function(e){e<0||100<e||(n||(n=c()),n.progressBar.value(e))},l(f(u),o,a,e)}catch(s){t(p(u,s.message))}})}function o(e){return e===n}function u(e){var t=e.blobUri();return new g(function(e){c[t]=c[t]||[],c[t].push(e)})}function l(e,t){return e=v.grep(e,function(e){return!d.isUploaded(e.blobUri())}),g.all(v.map(e,function(e){return d.isPending(e.blobUri())?u(e):i(e,a.handler,t)}))}function e(e,t){return!a.url&&o(a.handler)?r():l(e,t)}var c={};return a=v.extend({credentials:!1,handler:n},a),{upload:e}}}),e("tinymce/file/Conversions",["tinymce/util/Promise"],function(e){function t(n){return new e(function(e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="blob",t.onload=function(){200==this.status&&e(this.response)},t.send()})}function o(e){var t,n;return e=decodeURIComponent(e).split(","),(n=/data:([^;]+)/.exec(e[0]))&&(t=n[1]),{type:t,data:e[1]}}function n(i){return new e(function(e){var t,n,r;i=o(i);try{t=atob(i.data)}catch(hd){return void e(new Blob([]))}for(n=new Uint8Array(t.length),r=0;r<n.length;r++)n[r]=t.charCodeAt(r);e(new Blob([n],{type:i.type}))})}function r(e){return 0===e.indexOf("blob:")?t(e):0===e.indexOf("data:")?n(e):null}function i(n){return new e(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)})}return{uriToBlob:r,blobToDataUri:i,parseDataUri:o}}),e("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(u,l,c,d,f){var t=0,h=function(e){return(e||"blobid")+t++};return function(o,a){function e(e,n){function t(n,r){var i,o;0!==n.src.indexOf("blob:")?(i=d.parseDataUri(n.src).data,(o=a.findFirst(function(e){return e.base64()===i}))?r({image:n,blobInfo:o}):d.uriToBlob(n.src).then(function(e){o=a.create(h(),e,i),a.add(o),r({image:n,blobInfo:o})})):(o=a.getByUri(n.src))?r({image:n,blobInfo:o}):d.uriToBlob(n.src).then(function(t){d.blobToDataUri(t).then(function(e){i=d.parseDataUri(e).data,o=a.create(h(),t,i),a.add(o),r({image:n,blobInfo:o})})})}var r,i;return n||(n=c.constant(!0)),r=l.filter(e.getElementsByTagName("img"),function(e){var t=e.src;return!!f.fileApi&&(!e.hasAttribute("data-mce-bogus")&&(!e.hasAttribute("data-mce-placeholder")&&(!(!t||t==f.transparentSrc)&&(0===t.indexOf("blob:")?!o.isUploaded(t):0===t.indexOf("data:")&&n(e)))))}),i=l.map(r,function(n){var e;return s[n.src]?new u(function(t){s[n.src].then(function(e){t({image:n,blobInfo:e.blobInfo})})}):(e=new u(function(e){t(n,e)}).then(function(e){return delete s[e.image.src],e})["catch"](function(e){return delete s[n.src],e}),s[n.src]=e)}),u.all(i)}var s={};return{findAll:e}}}),e("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(l,c){return function(){function e(e,t,n,r){return{id:u(e),filename:u(r||e),blob:u(t),base64:u(n),blobUri:u(URL.createObjectURL(t))}}function t(e){n(e.id())||s.push(e)}function n(t){return r(function(e){return e.id()===t})}function r(e){return l.filter(s,e)[0]}function i(t){return r(function(e){return e.blobUri()==t})}function o(t){s=l.filter(s,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})}function a(){l.each(s,function(e){URL.revokeObjectURL(e.blobUri())}),s=[]}var s=[],u=c.constant;return{create:e,add:t,get:n,getByUri:i,findFirst:r,removeByUri:o,destroy:a}}}),e("tinymce/file/UploadStatus",[],function(){return function(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in d}function e(e){var t=d[e];return t?t.resultUri:null}function r(e){return!!t(e)&&d[e].status===l}function i(e){return!!t(e)&&d[e].status===c}function o(e){d[e]=n(l,null)}function a(e,t){d[e]=n(c,t)}function s(e){delete d[e]}function u(){d={}}var l=1,c=2,d={};return{hasBlobUri:t,getResultUri:e,isPending:r,isUploaded:i,markPending:o,markUploaded:a,removeFailed:s,destroy:u}}}),e("tinymce/ErrorReporter",["tinymce/AddOnManager"],function(e){var r=e.PluginManager,i=function(e,t){for(var n in r.urls){if(r.urls[n]+"/plugin"+t+".js"===e)return n}return null},n=function(e,t){var n=i(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},o=function(e,t){e.notificationManager.open({type:"error",text:t})},a=function(e,t){e._skinLoaded?o(e,t):e.on("SkinLoaded",function(){o(e,t)})};return{pluginLoadError:function(e,t){a(e,n(e,t))},uploadError:function(e,t){a(e,"Failed to upload image: "+t)}}}),e("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache","tinymce/file/UploadStatus","tinymce/ErrorReporter"],function(b,_,S,w,C,E){return function(i){function n(t){return function(e){return i.selection?t(e):[]}}function r(){return"?"+(new Date).getTime()}function o(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function a(e,t,n){return e=o(e=o(e,'src="'+t+'"','src="'+n+'"'),'data-mce-src="'+t+'"','data-mce-src="'+n+'"')}function s(t,n){b.each(i.undoManager.data,function(e){"fragmented"===e.type?e.fragments=b.map(e.fragments,function(e){return a(e,t,n)}):e.content=a(e.content,t,n)})}function u(){return i.notificationManager.open({text:i.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function l(e,t){g.removeByUri(e.src),s(e.src,t),i.$(e).attr({src:v.images_reuse_filename?t+r():t,"data-mce-src":i.convertURL(t,"src")})}function t(t){return p||(p=new _(y,{url:v.images_upload_url,basePath:v.images_upload_base_path,credentials:v.images_upload_credentials,handler:v.images_upload_handler})),d().then(n(function(r){var e;return e=b.map(r,function(e){return e.blobInfo}),p.upload(e,u).then(n(function(e){return e=b.map(e,function(e,t){var n=r[t].image;return e.status&&!1!==i.settings.images_replace_blob_uris?l(n,e.url):e.error&&E.uploadError(i,e.error),{element:n,status:e.status}}),t&&t(e),e}))}))}function e(e){if(!1!==v.automatic_uploads)return t(e)}function c(e){return!v.images_dataimg_filter||v.images_dataimg_filter(e)}function d(){return m||(m=new S(y,g)),m.findAll(i.getBody(),c).then(n(function(e){return b.each(e,function(e){s(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))}function f(){g.destroy(),y.destroy(),m=p=null}function h(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=y.getResultUri(n);if(t)return'src="'+t+'"';var r=g.getByUri(n);return r||(r=b.reduce(i.editorManager.editors,function(e,t){return e||t.editorUpload.blobCache.getByUri(n)},null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})}var p,m,g=new w,v=i.settings,y=new C;return i.on("setContent",function(){!1!==i.settings.automatic_uploads?e():d()}),i.on("RawSaveContent",function(e){e.content=h(e.content)}),i.on("getContent",function(e){e.source_view||"raw"==e.format||(e.content=h(e.content))}),i.on("PostRender",function(){i.parser.addNodeFilter("img",function(e){b.each(e,function(e){var t=e.attr("src");if(!g.getByUri(t)){var n=y.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:g,uploadImages:t,uploadImagesAuto:e,scanForImages:d,destroy:f}}}),e("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(f,e,t,n,h,p,m){var g=t.isContentEditableFalse;return function(u,i){function o(e,t){var n,r,i,o,a,s=p.collapse(e.getBoundingClientRect(),t);return"BODY"==u.tagName?(n=u.ownerDocument.documentElement,r=u.scrollLeft||n.scrollLeft,i=u.scrollTop||n.scrollTop):(a=u.getBoundingClientRect(),r=u.scrollLeft-a.left,i=u.scrollTop-a.top),s.left+=r,s.right+=r,s.top+=i,s.bottom+=i,s.width=1,0<(o=e.offsetWidth-e.clientWidth)&&(t&&(o*=-1),s.left+=o,s.right+=o),s}function e(){var e,t,n,r,i;for(e=h("*[contentEditable=false]",u),r=0;r<e.length;r++)n=(t=e[r]).previousSibling,f.endsWithCaretContainer(n)&&(1==(i=n.data).length?n.parentNode.removeChild(n):n.deleteData(i.length-1,1)),n=t.nextSibling,f.startsWithCaretContainer(n)&&(1==(i=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1));return null}function t(e,t){var n,r;return a(),i(t)?(d=f.insertBlock("p",t,e),n=o(t,e),h(d).css("top",n.top),c=h('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(n).appendTo(u),e&&c.addClass("mce-visual-caret-before"),s(),(r=t.ownerDocument.createRange()).setStart(d,0),r.setEnd(d,0)):(d=f.insertInline(t,e),r=t.ownerDocument.createRange(),g(d.nextSibling)?(r.setStart(d,0),r.setEnd(d,0)):(r.setStart(d,1),r.setEnd(d,1))),r}function a(){e(),d&&(f.remove(d),d=null),c&&(c.remove(),c=null),clearInterval(l)}function s(){l=m.setInterval(function(){h("div.mce-visual-caret",u).toggleClass("mce-visual-caret-hidden")},500)}function n(){m.clearInterval(l)}function r(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var l,c,d;return{show:t,hide:a,getCss:r,destroy:n}}}),e("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(r,i,o){function a(t){function e(e){return r.map(e,function(e){return(e=o.clone(e)).node=t,e})}if(r.isArray(t))return r.reduce(t,function(e,t){return e.concat(a(t))},[]);if(i.isElement(t))return e(t.getClientRects());if(i.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}return{getClientRects:a}}),e("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(e,p,d,i,o,m,g,v){function f(e,t,n,r){for(;r=o.findNode(r,e,i.isEditableCaretCandidate,t);)if(n(r))return}function t(i,o,a,e,s,t){function n(e){var t,n,r;for(r=d.getClientRects(e),-1==i&&(r=r.reverse()),t=0;t<r.length;t++)if(n=r[t],!a(n,u)){if(0<c.length&&o(n,p.last(c))&&l++,n.line=l,s(n))return!0;c.push(n)}}var r,u,l=0,c=[];return(u=p.last(t.getClientRects()))&&(n(r=t.getNode()),f(i,e,n,r)),c}function n(e,t){return t.line>e}function r(e,t){return t.line===e}function a(e,t,n,r){function i(e){return p.last(e.getClientRects())}var o,a,s,u,l,c,d=new m(t),f=[],h=0;1==e?(o=d.next,a=v.isBelow,s=v.isAbove,u=g.after(r)):(o=d.prev,a=v.isAbove,s=v.isBelow,u=g.before(r)),c=i(u);do{if(u.isVisible()&&!s(l=i(u),c)){if(0<f.length&&a(l,p.last(f))&&h++,(l=v.clone(l)).position=u,l.line=h,n(l))return f;f.push(l)}}while(u=o(u));return f}var s=e.curry;return{upUntil:s(t,-1,v.isAbove,v.isBelow),downUntil:s(t,1,v.isBelow,v.isAbove),positionsUntil:a,isAboveLine:s(n),isLine:s(r)}}),e("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(e,a,t,o,n,r,i){function s(e,t){return Math.abs(e.left-t)}function u(e,t){return Math.abs(e.right-t)}function l(e,i){function o(e,t){return e>=t.left&&e<=t.right}return a.reduce(e,function(e,t){var n,r;return n=Math.min(s(e,i),u(e,i)),r=Math.min(s(t,i),u(t,i)),o(i,t)?t:o(i,e)?e:r==n&&m(t.node)?t:r<n?t:e})}function c(e,t,n,r){for(;r=g(r,e,i.isEditableCaretCandidate,t);)if(n(r))return}function d(e,r){function t(t,e){var n;return n=a.filter(o.getClientRects(e),function(e){return!t(e,r)}),i=i.concat(n),0===n.length}var i=[];return i.push(r),c(-1,e,v(t,n.isAbove),r.node),c(1,e,v(t,n.isBelow),r.node),i}function f(e){return a.filter(a.toArray(e.getElementsByTagName("*")),m)}function h(e,t){return{node:e.node,before:s(e,t)<u(e,t)}}function p(e,t,n){var r,i;return r=o.getClientRects(f(e)),(i=l(r=a.filter(r,function(e){return n>=e.top&&n<=e.bottom}),t))&&(i=l(d(e,i),t))&&m(i.node)?h(i,t):null}var m=t.isContentEditableFalse,g=r.findNode,v=e.curry;return{findClosestClientRect:l,findLineNodeRects:d,closestCaret:p}}),e("tinymce/dom/MousePosition",[],function(){var i=function(e){var t,n,r,i;return i=e.getBoundingClientRect(),n=(t=e.ownerDocument).documentElement,r=t.defaultView,{top:i.top+r.pageYOffset-n.clientTop,left:i.left+r.pageXOffset-n.clientLeft}},n=function(e){return e.inline?i(e.getBody()):{left:0,top:0}},r=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},o=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},i={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:i},a=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n=i(e.getContentAreaContainer()),r=o(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}},s=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}};return{calc:function(e,t){return s(n(e),r(e),a(e,t))}}}),e("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/Delay","tinymce/dom/DOMUtils","tinymce/dom/MousePosition"],function(e,s,u,t,l,a){var c=e.isContentEditableFalse,d=e.isContentEditableTrue,f=function(e,t){return c(t)&&t!==e},o=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!c(t)},h=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},p=function(e,t,n,r){var i=t.cloneNode(!0);e.dom.setStyles(i,{width:n,height:r}),e.dom.setAttrib(i,"data-mce-selected",null);var o=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(i,{margin:0,boxSizing:"border-box"}),o.appendChild(i),o},m=function(e,t){e.parentNode!==t&&t.appendChild(e)},g=function(e,t,n,r,i,o){var a=0,s=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>i&&(a=t.pageX+n-i),t.pageY+r>o&&(s=t.pageY+r-o),e.style.width=n-a+"px",e.style.height=r-s+"px"},v=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},y=function(e){return 0===e.button},b=function(e){return e.element},_=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},S=function(o,a){return function(e){if(y(e)){var t=s.find(a.dom.getParents(e.target),u.or(c,d));if(f(a.getBody(),t)){var n=a.dom.getPos(t),r=a.getBody(),i=a.getDoc().documentElement;o.element=t,o.screenX=e.screenX,o.screenY=e.screenY,o.maxX=(a.inline?r.scrollWidth:i.offsetWidth)-2,o.maxY=(a.inline?r.scrollHeight:i.offsetHeight)-2,o.relX=e.pageX-n.x,o.relY=e.pageY-n.y,o.width=t.offsetWidth,o.height=t.offsetHeight,o.ghost=p(a,t,o.width,o.height)}}}},w=function(r,i){var o=t.throttle(function(e,t){i._selectionOverrides.hideFakeCaret(),i.selection.placeCaretAt(e,t)},0);return function(e){var t=Math.max(Math.abs(e.screenX-r.screenX),Math.abs(e.screenY-r.screenY));if(b(r)&&!r.dragging&&10<t){if(i.fire("dragstart",{target:r.element}).isDefaultPrevented())return;r.dragging=!0,i.focus()}if(r.dragging){var n=_(r,a.calc(i,e));m(r.ghost,i.getBody()),g(r.ghost,n,r.width,r.height,r.maxX,r.maxY),o(e.clientX,e.clientY)}}},C=function(e){var t=e.getSel().getRangeAt(0).startContainer;return 3===t.nodeType?t.parentNode:t},E=function(r,i){return function(e){if(r.dragging&&o(i,C(i.selection),r.element)){var t=h(r.element),n=i.fire("drop",{targetClone:t,clientX:e.clientX,clientY:e.clientY});n.isDefaultPrevented()||(t=n.targetClone,i.undoManager.transact(function(){v(r.element),i.insertContent(i.dom.getOuterHTML(t)),i._selectionOverrides.hideFakeCaret()}))}x(r)}},k=function(e,t){return function(){x(e),e.dragging&&t.fire("dragend")}},x=function(e){e.dragging=!1,e.element=null,v(e.ghost)},n=function(e){var t,n,r,i,o,a,s={};t=l.DOM,a=document,n=S(s,e),r=w(s,e),i=E(s,e),o=k(s,e),e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",i),t.bind(a,"mousemove",r),t.bind(a,"mouseup",o),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",o)})},r=function(n){n.on("drop",function(e){var t="undefined"!=typeof e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;(c(t)||c(n.dom.getContentEditableParent(t)))&&e.preventDefault()})};return{init:function(e){n(e),r(e)}}}),e("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides"],function(H,V,W,z,q,G,Y,X,K,e,J,Q,Z,ee,te,ne){function re(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function t(v){function y(e){return v.dom.hasClass(e,"mce-offscreen-selection")}function b(){var e=v.dom.get(g);return e?e.getElementsByTagName("*")[0]:e}function _(e){return v.dom.isBlock(e)}function S(e){e&&v.selection.setRng(e)}function w(){return v.selection.getRng()}function r(e,t){v.selection.scrollIntoView(e,t)}function C(e,t,n){return v.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r(t,-1===e),m.show(n,t))}function E(e){return v.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:t(e)}function t(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t}function u(e,t){var n=q.isInSameBlock(e,t);return!(n||!K.isBr(e.getNode()))||n}function h(e,t){return t=q.normalizeRange(e,F,t),-1==e?W.fromRangeStart(t):W.fromRangeEnd(t)}function l(e){return z.isCaretContainerBlock(e.startContainer)}function o(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=ce(r),ae(i))?C(e,i,-1==e):(s=l(r),n(o=h(e,r))?E(o.getNode(-1==e)):(o=t(o))?n(o)?C(e,o.getNode(-1==e),1==e):n(a=t(o))&&u(o,a)?C(e,a.getNode(-1==e),1==e):s?P(o.toRange()):null:s?r:null)}function i(e,t,n){var r,i,o,a,s,u,l,c,d;if(d=ce(n),r=h(e,n),i=t(F,Y.isAboveLine(1),r),o=ee.filter(i,Y.isLine(1)),s=ee.last(r.getClientRects()),le(r)&&(d=r.getNode()),ue(r)&&(d=r.getNode(!0)),!s)return null;if(u=s.left,(a=X.findClosestClientRect(o,u))&&ae(a.node))return l=Math.abs(u-a.left),c=Math.abs(u-a.right),C(e,a.node,l<c);if(d){var f=Y.positionsUntil(e,F,Y.isAboveLine(1),d);if(a=X.findClosestClientRect(ee.filter(f,Y.isLine(1)),u))return P(a.position.toRange());if(a=ee.last(ee.filter(f,Y.isLine(0))))return P(a.position.toRange())}}function a(e,t){function n(){var e=v.dom.create(v.settings.forced_root_block);return(!H.ie||11<=H.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var r,i;if(t.collapsed&&v.settings.forced_root_block){if(!(r=v.dom.getParent(t.startContainer,"PRE")))return;(1==e?j(W.fromRangeStart(t)):$(W.fromRangeStart(t)))||(i=n(),1==e?v.$(r).after(i):v.$(r).before(i),v.selection.select(i,!0),v.selection.collapse())}}function k(e,t,n,r){var i;return(i=o(e,t,n,r))?i:(i=a(e,r))||null}function x(e,t,n){var r;return(r=i(e,t,n))?r:(r=a(e,n))||null}function T(){return U("*[data-mce-caret]")[0]}function O(e){e.hasAttribute("data-mce-caret")&&(z.showCaretContainerBlock(e),S(w()),r(e[0]))}function A(e){var t,n;return e=q.normalizeRange(1,F,e),t=W.fromRangeStart(e),ae(t.getNode())?C(1,t.getNode(),!t.isAtEnd()):ae(t.getNode(!0))?C(1,t.getNode(!0),!1):(n=v.dom.getParent(t.getNode(),Z.or(ae,oe)),ae(n)?C(1,n,!1):null)}function P(e){return e&&e.collapsed&&A(e)||e}function I(e){var t,n,r,i;return ae(e)?(ae(e.previousSibling)&&(r=e.previousSibling),(n=$(W.before(e)))||(t=j(W.after(e))),t&&se(t.getNode())&&(i=t.getNode()),z.remove(e.previousSibling),z.remove(e.nextSibling),v.dom.remove(e),v.dom.isEmpty(v.getBody())?(v.setContent(""),void v.focus()):r?W.after(r).toRange():i?W.before(i).toRange():n?n.toRange():t?t.toRange():null):null}function c(e){var t=v.schema.getTextBlockElements();return e.nodeName in t}function d(e){return v.dom.isEmpty(e)}function f(e,t,n){var r,i,o,a,s=v.dom;if(r=s.getParent(t.getNode(),s.isBlock),i=s.getParent(n.getNode(),s.isBlock),-1===e){if(a=n.getNode(!0),ue(n)&&_(a))return c(r)?(d(r)&&s.remove(r),W.after(a).toRange()):I(n.getNode(!0))}else if(a=t.getNode(),le(t)&&_(a))return c(i)?(d(i)&&s.remove(i),W.before(a).toRange()):I(t.getNode());if(r===i||!c(r)||!c(i))return null;for(;o=r.firstChild;)i.appendChild(o);return v.dom.remove(r),n.toRange()}function R(e,t,n,r){var i,o,a,s;return!r.collapsed&&(i=ce(r),ae(i))?P(I(i)):n(o=h(e,r))&&z.isCaretContainerBlock(r.startContainer)?(s=-1==e?p.prev(o):p.next(o))?P(s.toRange()):r:t(o)?P(I(o.getNode(-1==e))):t(a=-1==e?p.prev(o):p.next(o))?-1===e?f(e,o,a):f(e,a,o):void 0}function e(){function t(e,t){var n=t(w());n&&!e.isDefaultPrevented()&&(e.preventDefault(),S(n))}function r(e){for(var t=v.getBody();e&&e!=t;){if(oe(e)||ae(e))return e;e=e.parentNode}return null}function i(n,r,e){return!e.collapsed&&ee.reduce(e.getClientRects(),function(e,t){return e||J.containsXY(t,n,r)},!1)}function e(e){var n=!1;e.on("touchstart",function(){n=!1}),e.on("touchmove",function(){n=!0}),e.on("touchend",function(e){var t=r(e.target);ae(t)&&(n||(e.preventDefault(),D(E(t))))})}function n(){var e,t=r(v.selection.getNode());oe(t)&&_(t)&&v.dom.isEmpty(t)&&(e=v.dom.create("br",{"data-mce-bogus":"1"}),v.$(t).empty().append(e),v.selection.setRng(W.before(e).toRange()))}function o(e){var t=T();if(t)return"compositionstart"==e.type?(e.preventDefault(),e.stopPropagation(),void O(t)):void(z.hasContent(t)&&O(t))}function a(e){var t;switch(e.keyCode){case Q.DELETE:case Q.BACKSPACE:t=n()}t&&e.preventDefault()}var s=ie(k,1,j,le),u=ie(k,-1,$,ue),l=ie(R,1,le,ue),c=ie(R,-1,ue,le),d=ie(x,-1,Y.upUntil),f=ie(x,1,Y.downUntil);v.on("mouseup",function(){var e=w();e.collapsed&&S(A(e))}),v.on("click",function(e){var t;(t=r(e.target))&&(ae(t)&&(e.preventDefault(),v.focus()),oe(t)&&v.dom.isChildOf(t,v.selection.getNode())&&L())}),v.on("blur NewBlock",function(){L(),M()});var h=function(e){var t=new V(e);if(!e.firstChild)return!1;var n=W.before(e.firstChild),r=t.next(n);return r&&!le(r)&&!ue(r)},p=function(e,t){return v.dom.getParent(e,v.dom.isBlock)===v.dom.getParent(t,v.dom.isBlock)},m=function(e){return!(112<=e.keyCode&&e.keyCode<=123)},g=function(e,t){var n=v.dom.getParent(e,v.dom.isBlock),r=v.dom.getParent(t,v.dom.isBlock);return n&&!p(n,r)&&h(n)};e(v),v.on("mousedown",function(e){var t;if(t=r(e.target))ae(t)?(e.preventDefault(),D(E(t))):i(e.clientX,e.clientY,v.selection.getRng())||v.selection.placeCaretAt(e.clientX,e.clientY);else{L(),M();var n=X.closestCaret(F,e.clientX,e.clientY);n&&(g(e.target,n.node)||(e.preventDefault(),v.getBody().focus(),S(C(1,n.node,n.before))))}}),v.on("keydown",function(e){if(!Q.modifierPressed(e))switch(e.keyCode){case Q.RIGHT:t(e,s);break;case Q.DOWN:t(e,f);break;case Q.LEFT:t(e,u);break;case Q.UP:t(e,d);break;case Q.DELETE:t(e,l);break;case Q.BACKSPACE:t(e,c);break;default:ae(v.selection.getNode())&&m(e)&&e.preventDefault()}}),v.on("keyup compositionstart",function(e){o(e),a(e)},!0),v.on("cut",function(){var e=v.selection.getNode();ae(e)&&te.setEditorTimeout(v,function(){S(P(I(e)))})}),v.on("getSelectionRange",function(e){var t=e.range;if(B){if(!B.parentNode)return void(B=null);(t=t.cloneRange()).selectNode(B),e.range=t}}),v.on("setSelectionRange",function(e){var t;(t=D(e.range))&&(e.range=t)}),v.on("AfterSetSelectionRange",function(e){var t=e.range;N(t)||M(),y(t.startContainer.parentNode)||L()}),v.on("focus",function(){te.setEditorTimeout(v,function(){v.selection.setRng(P(v.selection.getRng()))},0)}),v.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!H.ie){var n=b();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),ne.init(v)}function n(){var e=v.contentStyles,t=".mce-content-body";e.push(m.getCss()),e.push(t+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+t+" *[contentEditable=false] {cursor: default;}"+t+" *[contentEditable=true] {cursor: text;}")}function N(e){return z.isCaretContainer(e.startContainer)||z.isCaretContainer(e.endContainer)}function D(e){var t,n,r,i,o,a,s,u,l,c,d=v.$,f=v.dom;if(!e)return null;if(e.collapsed){if(!N(e)){if(u=h(1,e),ae(u.getNode()))return C(1,u.getNode(),!u.isAtEnd());if(ae(u.getNode(!0)))return C(1,u.getNode(!0),!1)}return null}return i=e.startContainer,o=e.startOffset,a=e.endOffset,3==i.nodeType&&0==o&&ae(i.parentNode)&&(i=i.parentNode,o=f.nodeIndex(i),i=i.parentNode),1!=i.nodeType?null:(a==o+1&&(t=i.childNodes[o]),ae(t)?(l=c=t.cloneNode(!0),(s=v.fire("ObjectSelected",{target:t,targetClone:l})).isDefaultPrevented()?null:(l=s.targetClone,0===(n=d("#"+g)).length&&(n=d('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g)).appendTo(v.getBody()),e=v.dom.createRng(),l===c&&H.ie?(n.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(l),e.setStartAfter(n[0].firstChild.firstChild),e.setEndAfter(l)):(n.empty().append("\xa0").append(l).append("\xa0"),e.setStart(n[0].firstChild,1),e.setEnd(n[0].lastChild,0)),n.css({top:f.getPos(t,v.getBody()).y}),n[0].focus(),(r=v.selection.getSel()).removeAllRanges(),r.addRange(e),v.$("*[data-mce-selected]").removeAttr("data-mce-selected"),t.setAttribute("data-mce-selected",1),B=t,M(),e)):null)}function L(){B&&(B.removeAttribute("data-mce-selected"),v.$("#"+g).remove(),B=null)}
function s(){m.destroy(),B=null}function M(){m.hide()}var B,F=v.getBody(),p=new V(F),j=ie(re,p.next),$=ie(re,p.prev),m=new G(v.getBody(),_),g="sel-"+v.dom.uniqueId(),U=v.$;return H.ceFalse&&(e(),n()),{showBlockCaretContainer:O,hideFakeCaret:M,destroy:s}}var ie=Z.curry,oe=K.isContentEditableTrue,ae=K.isContentEditableFalse,se=K.isElement,ue=q.isAfterContentEditableFalse,le=q.isBeforeContentEditableFalse,ce=e.getSelectedNode;return t}),e("tinymce/util/Uuid",[],function(){var t=0,n=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)};return"s"+(new Date).getTime().toString(36)+e()+e()+e()};return{uuid:function(e){return e+t+++n()}}}),e("tinymce/ui/Sidebar",[],function(){return{add:function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r}}}),e("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides","tinymce/util/Uuid","tinymce/ui/Sidebar","tinymce/ErrorReporter"],function(a,s,u,l,c,d,f,h,p,m,g,v,y,b,_,e,S,w,C,E,k,x,T,O,t,n,A,P,I,i,r,R){function o(e,t,n){var r,i,o,a=this;r=a.documentBaseUrl=n.documentBaseURL,i=n.baseURI,o=n.defaultSettings,t=M({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:r,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:a.convertURL,url_converter_scope:a,ie7_compat:!0},o,t),o&&o.external_plugins&&t.external_plugins&&(t.external_plugins=M({},o.external_plugins,t.external_plugins)),a.settings=t,u.language=t.language||"en",u.languageLoad=t.language_load,u.baseURL=n.baseURL,a.id=t.id=e,a.setDirty(!1),a.plugins={},a.documentBaseURI=new b(t.document_base_url||r,{base_uri:i}),a.baseURI=i,a.contentCSS=[],a.contentStyles=[],a.shortcuts=new A(a),a.loadedCSS={},a.editorCommands=new y(a),a.suffix=n.suffix,a.editorManager=n,a.inline=t.inline,a.settings.content_editable=a.inline,t.cache_suffix&&(x.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),!1===t.override_viewport&&(x.overrideViewPort=!1),n.fire("SetupEditor",a),a.execCallback("setup",a),a.$=s.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}var N=a.DOM,D=u.ThemeManager,L=u.PluginManager,M=T.extend,B=T.each,F=T.explode,j=T.inArray,$=T.trim,U=T.resolve,H=e.Event,V=x.gecko,W=x.ie;return o.prototype={render:function(){function e(){N.unbind(window,"ready",e),n.render()}function t(){var e=_.ScriptLoader;if(r.language&&"en"!=r.language&&!r.language_url&&(r.language_url=n.editorManager.baseURL+"/langs/"+r.language+".js"),r.language_url&&e.add(r.language_url),r.theme&&"function"!=typeof r.theme&&"-"!=r.theme.charAt(0)&&!D.urls[r.theme]){var t=r.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+r.theme+"/theme"+o+".js",D.load(r.theme,t)}T.isArray(r.plugins)&&(r.plugins=r.plugins.join(" ")),B(r.external_plugins,function(e,t){L.load(t,e),r.plugins+=" "+t}),B(r.plugins.split(/[ ,]/),function(e){if((e=$(e))&&!L.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=L.dependencies(e);B(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"};e=L.createUrl(t,e),L.load(e.resource,e)})}else L.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"})}),e.loadQueue(function(){n.removed||n.init()},n,function(e){R.pluginLoadError(n,e[0]),n.removed||n.init()})}var n=this,r=n.settings,i=n.id,o=n.suffix;if(H.domLoaded){if(n.getElement()&&x.contentEditable){r.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||N.getParent(i,"form");a&&(n.formElement=a,r.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(N.insertAfter(N.create("input",{type:"hidden",name:i}),i),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},N.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!r.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new S(n),n.notificationManager=new w(n),"xml"==r.encoding&&n.on("GetContent",function(e){e.save&&(e.content=N.encode(e.content))}),r.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),r.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),t()}}else N.bind(window,"ready",e)},init:function(){function i(e){var t,n,r=L.get(e);if(t=L.urls[e]||f.documentBaseUrl.replace(/\/$/,""),e=$(e),r&&-1===j(m,e)){if(B(L.dependencies(e),function(e){i(e)}),f.plugins[e])return;n=new r(f,t,f.$),(f.plugins[e]=n).init&&(n.init(f,t),m.push(e))}}var e,t,n,r,o,a,s,u,l,c,d,f=this,h=f.settings,p=f.getElement(),m=[];if(f.rtl=h.rtl_ui||f.editorManager.i18n.rtl,f.editorManager.i18n.setCode(h.language),h.aria_label=h.aria_label||N.getAttrib(p,"aria-label",f.getLang("aria.rich_text_area")),f.fire("ScriptsLoaded"),h.theme&&("function"!=typeof h.theme?(h.theme=h.theme.replace(/-/,""),a=D.get(h.theme),f.theme=new a(f,D.urls[h.theme]),f.theme.init&&f.theme.init(f,D.urls[h.theme]||f.documentBaseUrl.replace(/\/$/,""),f.$)):f.theme=h.theme),B(h.plugins.replace(/\-/g,"").split(/[ ,]/),i),h.render_ui&&f.theme&&(f.orgDisplay=p.style.display,"function"!=typeof h.theme?(e=h.width||p.style.width||p.offsetWidth,t=h.height||p.style.height||p.offsetHeight,n=h.min_height||100,(c=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+t)&&(t=Math.max(parseInt(t,10),n)),o=f.theme.renderUI({targetNode:p,width:e,height:t,deltaWidth:h.delta_width,deltaHeight:h.delta_height}),h.content_editable||(t=(o.iframeHeight||t)+("number"==typeof t?o.deltaHeight||0:""))<n&&(t=n)):((o=h.theme(f,p)).editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||f.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||f.id+"_iframecontainer"),t=o.iframeHeight||p.offsetHeight),f.editorContainer=o.editorContainer),h.content_css&&B(F(h.content_css),function(e){f.contentCSS.push(f.documentBaseURI.toAbsolute(e))}),h.content_style&&f.contentStyles.push(h.content_style),h.content_editable)return p=r=o=null,f.initContentBody();if(f.iframeHTML=h.doctype+"<html><head>",h.document_base_url!=f.documentBaseUrl&&(f.iframeHTML+='<base href="'+f.documentBaseURI.getURI()+'" />'),!x.caretAfter&&h.ie7_compat&&(f.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),f.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<f.contentCSS.length;d++){var g=f.contentCSS[d];f.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+T._addCacheSuffix(g)+'" />',f.loadedCSS[g]=!0}-1!=(u=h.body_id||"tinymce").indexOf("=")&&(u=(u=f.getParam("body_id","","hash"))[f.id]||u),-1!=(l=h.body_class||"").indexOf("=")&&(l=(l=f.getParam("body_class","","hash"))[f.id]||""),h.content_security_policy&&(f.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+h.content_security_policy+'" />'),f.iframeHTML+='</head><body id="'+u+'" class="mce-content-body '+l+'" data-id="'+f.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+f.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(s=v);var y=N.create("iframe",{id:f.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:f.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(y.onload=function(){y.onload=null,f.fire("load")},N.setAttrib(y,"src",s||'javascript:""'),f.contentAreaContainer=o.iframeContainer,f.iframeElement=y,r=N.add(o.iframeContainer,y),W)try{f.getDoc()}catch(hd){r.src=s=v}o.editorContainer&&(N.get(o.editorContainer).style.display=f.orgDisplay,f.hidden=N.isHidden(o.editorContainer)),f.getElement().style.display="none",N.setAttrib(f.id,"aria-hidden",!0),s||f.initContentBody(),p=r=o=null},initContentBody:function(e){var t,n,s=this,r=s.settings,i=s.getElement(),o=s.getDoc();r.inline||(s.getElement().style.visibility=s.orgVisibility),e||r.content_editable||(o.open(),o.write(s.iframeHTML),o.close()),r.content_editable&&(s.on("remove",function(){var e=this.getBody();N.removeClass(e,"mce-content-body"),N.removeClass(e,"mce-edit-focus"),N.setAttrib(e,"contentEditable",null)}),N.addClass(i,"mce-content-body"),s.contentDocument=o=r.content_document||document,s.contentWindow=r.content_window||window,s.bodyElement=i,r.content_document=r.content_window=null,r.root_name=i.nodeName.toLowerCase()),(t=s.getBody()).disabled=!0,s.readonly=r.readonly,s.readonly||(s.inline&&"static"==N.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=s.getParam("content_editable_state",!0)),t.disabled=!1,s.editorUpload=new P(s),s.schema=new C(r),s.dom=new a(o,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:r.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new E(r,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,i,o=e.length,a=s.dom;o--;)if(r=(n=e[o]).attr(t),i="data-mce-"+t,!n.attributes.map[i]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===t?((r=a.serializeStyle(a.parseStyle(r),n.name)).length||(r=null),n.attr(i,r),n.attr(t,r)):"tabindex"===t?(n.attr(i,r),n.attr(t,null)):n.attr(i,s.convertURL(r,t,n.name))}}),s.parser.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)0!==(n=(t=e[r]).attr("type")||"no/type").indexOf("mce-")&&t.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,r=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(r)&&0===t.getAll("br").length&&(t.append(new c("br",1)).shortEnded=!0)}),s.serializer=new d(r,s),s.selection=new h(s.dom,s.getWin(),s.serializer,s),s.formatter=new p(s),s.undoManager=new m(s),s.forceBlocks=new v(s),s.enterKey=new g(s),s._nodeChangeDispatcher=new l(s),s._selectionOverrides=new I(s),s.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(o.body.spellcheck=!1,N.setAttrib(t,"spellcheck","false")),s.quirks=new k(s),s.fire("PostRender"),r.directionality&&(t.dir=r.directionality),r.nowrap&&(t.style.whiteSpace="nowrap"),r.protect&&s.on("BeforeSetContent",function(t){B(r.protect,function(e){t.content=t.content.replace(e,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),r.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(e){s.composing="compositionstart"===e.type}),0<s.contentStyles.length&&(n="",B(s.contentStyles,function(e){n+=e+"\r\n"}),s.dom.addStyle(n)),B(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),r.auto_focus&&O.setEditorTimeout(s,function(){var e;(e=!0===r.auto_focus?s:s.editorManager.get(r.auto_focus)).destroyed||e.focus()},100),i=o=t=null},focus:function(e){function t(e){return o.dom.getParent(e,function(e){return"true"===o.dom.getContentEditable(e)})}var n,r,i,o=this,a=o.selection,s=o.settings.content_editable,u=o.getDoc(),l=o.getBody();if(!e){if((n=a.getRng()).item&&(r=n.item(0)),o.quirks.refreshContentEditable(),i=t(a.getNode()),o.$.contains(l,i))return i.focus(),a.normalize(),void o.editorManager.setActive(o);if(s||(x.opera||o.getBody().focus(),o.getWin().focus()),V||s){if(l.setActive)try{l.setActive()}catch(c){l.focus()}else l.focus();s&&a.normalize()}r&&r.ownerDocument==u&&((n=u.body.createControlRange()).addElement(r),n.select())}o.editorManager.setActive(o)},execCallback:function(e){var t,n=this,r=n.settings[e];if(r)return n.callbackLookup&&(t=n.callbackLookup[e])&&(r=t.func,t=t.scope),"string"==typeof r&&(t=(t=r.replace(/\.\w+$/,""))?U(t):0,r=U(r),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:r,scope:t}),r.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||"en",r=this.editorManager.i18n;return e?(e=r.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return r.data[n+"."+t]||"{#"+t+"}"}),this.editorManager.translate(e)):""},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==Se?t:"{#"+e+"}")},getParam:function(e,t,n){var r,i=e in this.settings?this.settings[e]:t;return"hash"===n?(r={},"string"==typeof i?B(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){1<(e=e.split("=")).length?r[$(e[0])]=$(e[1]):r[$(e[0])]=$(e)}):r=i,r):i},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return r.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:i.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(N.show(e.getContainer()),N.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(W&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(N.hide(e.getContainer()),N.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();if(r)return(e=e||{}).load=!0,t=n.setContent(r.value!==Se?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t},save:function(e){var t,n,r=this,i=r.getElement();if(i&&r.initialized)return(e=e||{}).save=!0,e.element=i,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"==e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(i.nodeName)?i.value=t:(r.inline||(i.innerHTML=t),(n=N.getParent(r.id,"form"))&&B(n.elements,function(e){if(e.name==r.id)return e.value=t,!1})),e.element=i=null,!1!==e.set_dirty&&r.setDirty(!1),t},setContent:function(e,t){var n,r,i=this,o=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?(r=W&&W<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?e="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(e="<li>"+r+"</li>"),(n=i.settings.forced_root_block)&&i.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(e=r,e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e)):W||e||(e='<br data-mce-bogus="1">'),i.dom.setHTML(o,e),i.fire("SetContent",t)):("raw"!==t.format&&"unvalidated_html"!==t.format&&(e=new f({validate:i.validate},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=$(e),i.dom.setHTML(o,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this,r=n.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||n.fire("BeforeGetContent",e),t="raw"==e.format?T.trim(n.serializer.getTrimmedContent()):"text"==e.format?r.innerText||r.textContent:"unvalidated_html"==e.format?n.serializer.serialize_without_validation(r,e):n.serializer.serialize(r,e),"text"!=e.format?e.content=$(t):e.content=t,e.no_events||n.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=M({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!=t&&this.fire("dirty")},setMode:function(e){n.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=N.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=N.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement)&&(t.contentWindow=e.contentWindow),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin())&&(t.contentDocument=e.document),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,i=r.settings;return i.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,r=this,i=r.settings,o=r.dom;e=e||r.getBody(),r.hasVisual===Se&&(r.hasVisual=i.visual),B(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!r.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=i.visual_anchor_class||"mce-item-anchor",t&&r.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),r.fire("VisualAid",{element:e,hasVisual:r.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&N.remove(e.getElement().nextSibling),e.inline||(W&&W<10&&e.getDoc().execCommand("SelectAll",!1,null),N.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),N.remove(e.getContainer()),e._selectionOverrides.destroy(),e.editorUpload.destroy(),e.destroy())},destroy:function(e){var t,n=this;n.destroyed||(e||n.removed?(e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),N.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1):n.remove())},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},M(o.prototype,t),o}),e("tinymce/util/I18n",["tinymce/util/Tools"],function(a){var s={},u="en";return{setCode:function(e){e&&(u=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return u},rtl:!1,add:function(e,t){var n=s[e];for(var r in n||(s[e]=n={}),t)n[r]=t[r];this.setCode(e)},translate:function(e){function n(e){return a.is(e,"function")?Object.prototype.toString.call(e):t(e)?"":""+e}function t(e){return""===e||null===e||a.is(e,"undefined")}function r(e){return e=n(e),a.hasOwn(i,e)?n(i[e]):e}var i=s[u]||{};if(t(e))return"";if(a.is(e,"object")&&a.hasOwn(e,"raw"))return n(e.raw);if(a.is(e,"array")){var o=e.slice(1);e=r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return a.hasOwn(o,t)?n(o[t]):e})}return r(e).replace(/{context:\w+}$/,"")},data:s}}),e("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(e,s,u){function r(i){function r(){try{return document.activeElement}catch(e){return document.body}}function o(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}function a(e,t){var n;return t.startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n}function e(e){var n=e.editor;n.on("init",function(){(n.inline||u.ie)&&("onbeforedeactivate"in document&&u.ie<9?n.dom.bind(n.getBody(),"beforedeactivate",function(e){if(e.target==n.getBody())try{n.lastRng=n.selection.getRng()}catch(t){}}):n.on("nodechange mouseup keyup",function(e){var t=r();"nodechange"==e.type&&e.selectionChange||(t&&t.id==n.id+"_ifr"&&(t=n.getBody()),n.dom.isChildOf(t,n.getBody())&&(n.lastRng=n.selection.getRng()))}),u.webkit&&!l&&(l=function(){var e=i.activeEditor;if(e&&e.selection){var t=e.selection.getRng();t&&!t.collapsed&&(n.lastRng=t)}},f.bind(document,"selectionchange",l)))}),n.on("setcontent",function(){n.lastRng=null}),n.on("mousedown",function(){n.selection.lastFocusBookmark=null}),n.on("focusin",function(){var e,t=i.focusedEditor;n.selection.lastFocusBookmark&&(e=a(n,n.selection.lastFocusBookmark),n.selection.lastFocusBookmark=null,n.selection.setRng(e)),t!=n&&(t&&t.fire("blur",{focusedEditor:n}),i.setActive(n),(i.focusedEditor=n).fire("focus",{blurredEditor:t}),n.focus(!0)),n.lastRng=null}),n.on("focusout",function(){s.setEditorTimeout(n,function(){var e=i.focusedEditor;h(n,r())||e!=n||(n.fire("blur",{focusedEditor:null}),i.focusedEditor=null,n.selection&&(n.selection.lastFocusBookmark=null))})}),c||(c=function(e){var t,n=i.activeEditor;t=e.target,n&&t.ownerDocument==document&&(n.selection&&t!=n.getBody()&&(n.selection.lastFocusBookmark=o(n.dom,n.lastRng)),t==document.body||h(n,t)||i.focusedEditor!=n||(n.fire("blur",{focusedEditor:null}),i.focusedEditor=null))},f.bind(document,"focusin",c)),n.inline&&!d&&(d=function(e){var t=i.activeEditor,n=t.dom;if(t.inline&&n&&!n.isChildOf(e.target,t.getBody())){var r=t.selection.getRng();r.collapsed||(t.lastRng=r)}},f.bind(document,"mouseup",d))}function t(e){i.focusedEditor==e.editor&&(i.focusedEditor=null),i.activeEditor||(f.unbind(document,"selectionchange",l),f.unbind(document,"focusin",c),f.unbind(document,"mouseup",d),l=c=d=null)}i.on("AddEditor",e),i.on("RemoveEditor",t)}var l,c,d,f=e.DOM,h=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==f.getParent(e,function(e){return r.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})};return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r._isUIElement=h,r}),e("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager","tinymce/AddOnManager"],function(h,p,e,l,t,m,a,n,r,c,o){function i(t){b(f.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function s(e,t){t!==w&&(t?p(window).on("resize scroll",i):p(window).off("resize scroll",i),w=t)}function u(e){var t,n=f.editors;delete n[e.id];for(var r=0;r<n.length;r++)if(n[r]==e){n.splice(r,1),t=!0;break}return f.activeEditor==e&&(f.activeEditor=n[0]),f.focusedEditor==e&&(f.focusedEditor=null),t}function g(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(u(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e}var d,f,v=e.DOM,y=m.explode,b=m.each,_=m.extend,S=0,w=!1;return _(f={$:p,majorVersion:"4",minorVersion:"5.5",releaseDate:"2017-03-07",editors:[],i18n:r,activeEditor:null,setup:function(){var e,t,n,r,i=this,o="";if(t=l.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,o=n.suffix;else{for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var u=(r=a[s].src).substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){-1!=u.indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(-1!=(r=document.currentScript.src).indexOf(".min")&&(o=".min"),e=r.substring(0,r.lastIndexOf("/")))}i.baseURL=new l(t).toAbsolute(e),i.documentBaseURL=t,i.baseURI=new l(i.baseURL),i.suffix=o,i.focusManager=new c(i)},overrideDefaults:function(e){var t,n;(t=e.base_url)&&(this.baseURL=new l(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new l(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;for(var i in r)o.PluginManager.urls[i]=r[i]},init:function(r){function t(e,t){return e.inline&&t.tagName.toLowerCase()in o}function s(e,t){window.console&&!window.test&&window.console.log(e,t)}function u(e){var t=e.id;return t||(t=(t=e.name)&&!v.get(t)?e.name:v.uniqueId(),e.setAttribute("id",t)),t}function e(e){var t=r[e];if(t)return t.apply(d,Array.prototype.slice.call(arguments,2))}function i(e,t){return t.constructor===RegExp?t.test(e.className):v.hasClass(e,t)}function l(t){var e,n=[];if(t.types)return b(t.types,function(e){n=n.concat(v.select(e.selector))}),n;if(t.selector)return v.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":0<(e=t.elements||"").length&&b(y(e),function(t){var e;(e=v.get(t))?n.push(e):b(document.forms,function(e){b(e.elements,function(e){e.name===t&&(t="mce_editor_"+S++,v.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":b(v.select("textarea"),function(e){t.editor_deselector&&i(e,t.editor_deselector)||t.editor_selector&&!i(e,t.editor_selector)||n.push(e)})}return n}function c(){function n(e,t,n){var r=new h(e,t,d);a.push(r),r.on("init",function(){++o===i.length&&f(a)}),r.targetElm=r.targetElm||n,r.render()}var i,o=0,a=[];v.unbind(window,"ready",c),e("onpageload"),i=p.unique(l(r)),r.types?b(r.types,function(t){m.each(i,function(e){return!v.is(e,t.selector)||(n(u(e),_({},r,t),e),!1)})}):(m.each(i,function(e){g(d.get(e.id))}),i=m.grep(i,function(e){return!d.get(e.id)}),b(i,function(e){t(r,e)?s("Could not initialize inline editor on invalid inline target element",e):n(u(e),r,e)}))}var n,o,d=this;o=m.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var f=function(e){n=e};return d.settings=r,v.bind(window,"ready",c),new a(function(t){n?t(n):f=function(e){t(e)}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),s(n,!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),d||(d=function(){t.fire("BeforeUnload")},v.bind(window,"beforeunload",d)),e},createEditor:function(e,t){return this.add(new h(e,t,this))},remove:function(e){var t,n,r=this,i=r.editors;if(e)return"string"==typeof e?(e=e.selector||e,void b(v.select(e),function(e){(n=i[e.id])&&r.remove(n)})):i[(n=e).id]?(u(n)&&r.fire("RemoveEditor",{editor:n}),i.length||v.unbind(window,"beforeunload",d),n.remove(),s(i,0<i.length),n):null;for(t=i.length-1;0<=t;t--)r.remove(i[t])},execCommand:function(e,t,n){var r=this,i=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new h(n,r.settings,r).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():r.execCommand("mceAddEditor",0,n),!0}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){b(this.editors,function(e){e.save()})},addI18n:function(e,t){r.add(e,t)},translate:function(e){return r.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},n),f.setup(),window.tinymce=window.tinyMCE=f,f}),e("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(e,t){var s=t.each,u=t.explode;e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){function n(n,e){s(e,function(e,t){e&&i.setStyle(n,t,e)}),i.rename(n,"span")}function e(e){i=a.dom,o.convert_fonts_to_spans&&s(i.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](i,e)})}var t,r,i,o=a.settings;o.inline_styles&&(r=u(o.font_size_legacy_values),t={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:r[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",e))})})}),e("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(e,i){var o={send:function(e){function t(){!e.async||4==n.readyState||1e4<r++?(e.success&&r<1e4&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<r?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,r=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",o.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&i.each(e.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=o.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return t();setTimeout(t,10)}}};return i.extend(o,e),o}),e("tinymce/util/JSON",[],function(){function a(e,n){var r,i,t,o;if(n=n||'"',null===e)return"null";if("string"==(t=typeof e))return i="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(r=i.indexOf(t))+1?"\\"+i.charAt(r+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"!=t)return""+e;if(
e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(r=0,i="[";r<e.length;r++)i+=(0<r?",":"")+a(e[r],n);return i+"]"}for(o in i="{",e)e.hasOwnProperty(o)&&(i+="function"!=typeof e[o]?(1<i.length?","+n:n)+o+n+":"+a(e[o],n):"");return i+"}"}return{serialize:a,parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(t){}}}}),e("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(o,e,t){function n(e){this.settings=a({},e),this.count=0}var a=t.extend;return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var r=n.error,i=n.success;(n=a(this.settings,n)).success=function(e,t){void 0===(e=o.parse(e))&&(e={error:"JSON Parse error."}),e.error?r.call(n.error_scope||n.scope,e.error,t):i.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){r&&r.call(n.error_scope||n.scope,e,t)},n.data=o.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),e("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(e){return{callbacks:{},count:0,send:function(t){var n=this,r=e.DOM,i=t.count!==Se?t.count:n.count,o="tinymce_jsonp_"+i;n.callbacks[i]=function(e){r.remove(o),delete n.callbacks[i],t.callback(e)},r.add(r.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),e("tinymce/util/LocalStorage",[],function(){function a(){for(var e in r=[],u)r.push(e);t.length=r.length}function e(){function e(e){var t,n;return-1===(n=e!==Se?i+e:r.indexOf(",",i))||n>r.length?null:(t=r.substring(i,n),i=n+1,t)}var t,r,n,i=0;if(u={},c){s.load(l),r=s.getAttribute(l)||"";do{var o=e();if(null===o)break;if(null!==(t=e(parseInt(o,32)||0))){if(null===(o=e()))break;n=e(parseInt(o,32)||0),t&&(u[t]=n)}}while(null!==t);a()}}function n(){var e,t="";if(c){for(var n in u)e=u[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;s.setAttribute(l,t);try{s.save(l)}catch(r){}a()}}var t,s,u,r,l,c;try{if(window.localStorage)return localStorage}catch(i){}return l="tinymce",s=document.documentElement,(c=!!s.addBehavior)&&s.addBehavior("#default#userData"),t={key:function(e){return r[e]},getItem:function(e){return e in u?u[e]:null},setItem:function(e,t){u[e]=""+t,n()},removeItem:function(e){delete u[e],n()},clear:function(){u={},n()}},e(),t}),e("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(e,t,n,r,i,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=r.PluginManager,a.ThemeManager=r.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,i.each("trim isArray is toArray makeMap each map grep inArray extend create walk createNS resolve explode _addCacheSuffix".split(" "),function(e){a[e]=i[e]}),i.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),e("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,r,i,o=this.settings;t=o.firstControlClass,n=o.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(o.controlClass),e.visible()&&(r||(r=e),i=e)}),r&&r.classes.add(t),i&&i.classes.add(n)},renderHtml:function(e){var t="";return this.applyClasses(e.items()),e.items().each(function(e){t+=e.renderHtml()}),t},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),e("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),e("tinymce/ui/Button",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&((e=t.style).width=e.height="100%"),this._super()},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(o)+"</span>"),i=i?r+"ico "+r+"i-"+i:"",'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function o(e){var t=n("span."+r,a.getEl());e?(t[0]||(n("button:first",a.getEl()).append('<span class="'+r+'"></span>'),t=n("span."+r,a.getEl())),t.html(a.encode(e))):t.remove(),a.classes.toggle("btn-has-text",!!e)}var a=this,n=a.$,r=a.classPrefix+"txt";return a.state.on("change:text",function(e){o(e.value)}),a.state.on("change:icon",function(e){var t=e.value,n=a.classPrefix;t=(a.settings.icon=t)?n+"ico "+n+"i-"+a.settings.icon:"";var r=a.getEl().firstChild,i=r.getElementsByTagName("i")[0];t?(i&&i==r.firstChild||(i=document.createElement("i"),r.insertBefore(i,r.firstChild)),i.className=t):i&&r.removeChild(i),o(a.state.get("text"))}),a._super()}})}),e("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){o.classes.toggle("checked",e),o.aria("checked",e)}var o=this;return o.state.on("change:text",function(e){o.getEl("al").firstChild.data=o.translate(e.value)}),o.state.on("change:checked change:value",function(e){o.fire("change"),t(e.value)}),o.state.on("change:icon",function(e){var t=e.value,n=o.classPrefix;if(void 0===t)return o.settings.icon;t=(o.settings.icon=t)?n+"ico "+n+"i-"+o.settings.icon:"";var r=o.getEl().firstChild,i=r.getElementsByTagName("i")[0];t?(i&&i==r.firstChild||(i=document.createElement("i"),r.insertBefore(i,r.firstChild)),i.className=t):i&&r.removeChild(i)}),o.state.get("checked")&&t(!0),o._super()}})}),e("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/VK","tinymce/util/Tools"],function(e,o,l,c,r,a){return e.extend({init:function(r){var i=this;i._super(r),r=i.settings,i.classes.add("combobox"),i.subinput=!0,i.ariaTarget="inp",r.menu=r.menu||r.values,r.menu&&(r.icon="caret"),i.on("click",function(e){var t=e.target,n=i.getEl();if(c.contains(n,t)||t==n)for(;t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(i.fire("action"),r.menu&&(i.showMenu(),e.aria&&i.menu.items()[0].focus())),t=t.parentNode}),i.on("keydown",function(e){var t;13==e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),i.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),i.fire("submit",{data:t.toJSON()}))}),i.on("keyup",function(e){if("INPUT"==e.target.nodeName){var t=i.state.get("value"),n=e.target.value;n!==t&&(i.state.set("value",n),i.fire("autocomplete",e))}}),i.on("mouseover",function(e){var t=i.tooltip().moveTo(-65535);if(i.statusLevel()&&-1!==e.target.className.indexOf(i.classPrefix+"status")){var n=i.statusMessage()||"Ok",r=t.text(n).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);t.classes.toggle("tooltip-n","bc-tc"==r),t.classes.toggle("tooltip-nw","bc-tl"==r),t.classes.toggle("tooltip-ne","bc-tr"==r),t.moveRel(e.target,r)}})},statusLevel:function(e){return 0<arguments.length&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return 0<arguments.length&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=o.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,r=n.getEl(),i=n.getEl("open"),o=n.layoutRect(),a=0,s=r.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(a=parseInt(l.getRuntimeStyle(s,"padding-right"),10)-parseInt(l.getRuntimeStyle(s,"padding-left"),10)),e=i?o.w-l.getSize(i).width-10:o.w-10;var u=document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),c(s).css({width:e-a,lineHeight:t}),n._super(),n},postRender:function(){var t=this;return c(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var e,t,n=this,r=n._id,i=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",u="",l="";return"spellcheck"in i&&(u+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(u+=' maxlength="'+i.maxLength+'"'),i.size&&(u+=' size="'+i.size+'"'),i.subtype&&(u+=' type="'+i.subtype+'"'),l='<i id="'+r+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(u+=' disabled="disabled"'),(e=i.icon)&&"caret"!=e&&(e=o+"ico "+o+"i-"+i.icon),t=n.state.get("text"),(e||t)&&(s='<div id="'+r+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+r+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+r+'" class="'+n.classes+'"><input id="'+r+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+u+' placeholder="'+n.encode(i.placeholder)+'" />'+l+s+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0!==e.length){var r=function(e,t){return function(){n.fire("selectitem",{title:t,value:e})}};n.menu?n.menu.items().remove():n.menu=o.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),a.each(e,function(e){n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:r(e.value,e.title)})}),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()});var i=n.layoutRect().w;n.menu.layoutRect({w:i,minW:0,maxW:i}),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else n.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var i=this;i.state.on("change:value",function(e){i.getEl("inp").value!=e.value&&(i.getEl("inp").value=e.value)}),i.state.on("change:disabled",function(e){i.getEl("inp").disabled=e.value}),i.state.on("change:statusLevel",function(e){var t=i.getEl("status"),n=i.classPrefix,r=e.value;l.css(t,"display","none"===r?"none":""),l.toggleClass(t,n+"i-checkmark","ok"===r),l.toggleClass(t,n+"i-warning","warn"===r),l.toggleClass(t,n+"i-error","error"===r),i.classes.toggle("has-status","none"!==r),i.repaint()}),l.on(i.getEl("status"),"mouseleave",function(){i.tooltip().hide()}),i.on("cancel",function(e){i.menu&&i.menu.visible()&&(e.stopPropagation(),i.hideMenu())});var n=function(e,t){t&&0<t.items().length&&t.items().eq(e)[0].focus()};return i.on("keydown",function(e){var t=e.keyCode;"INPUT"===e.target.nodeName&&(t===r.DOWN?(e.preventDefault(),i.fire("autocomplete"),n(0,i.menu)):t===r.UP&&(e.preventDefault(),n(-1,i.menu)))}),i._super()},remove:function(){c(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}})}),e("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(r){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),e("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(e,r){return e.extend({showPanel:function(){var t=this,e=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new r(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),e("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(e,t){var r=t.DOM;return e.extend({init:function(e){this._super(e),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,r=e.state.get("text"),i=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",a="";return r&&(e.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+e.encode(r)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||r.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),e("tinymce/util/Color",[],function(){function e(e){function t(e,t,n){var r,i,o,a;return i=r=0,(o=d(e/=255,d(t/=255,n/=255)))==(a=f(e,f(t,n)))?{h:0,s:0,v:100*(i=o)}:(r=(a-o)/a,{h:h(60*((e==o?3:n==o?1:5)-(e==o?t-n:n==o?e-t:n-e)/((i=a)-o))),s:h(100*r),v:h(100*i)})}function n(e,t,n){var r,i,o,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=f(0,d(t,1)),n=f(0,d(n,1)),0!==t){switch(r=e/60,o=(i=n*t)*(1-Math.abs(r%2-1)),a=n-i,Math.floor(r)){case 0:u=i,l=o,c=0;break;case 1:u=o,l=i,c=0;break;case 2:u=0,l=i,c=o;break;case 3:u=0,l=o,c=i;break;case 4:u=o,l=0,c=i;break;case 5:u=i,l=0,c=o;break;default:u=l=c=0}u=h(255*(u+a)),l=h(255*(l+a)),c=h(255*(c+a))}else u=l=c=h(255*n)}function r(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(u)+e(l)+e(c)}function i(){return{r:u,g:l,b:c}}function o(){return t(u,l,c)}function a(e){var t;return"object"==typeof e?"r"in e?(u=e.r,l=e.g,c=e.b):"v"in e&&n(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(u=parseInt(t[1],10),l=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(t[1],16),l=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),u=u<0?0:255<u?255:u,l=l<0?0:255<l?255:l,c=c<0?0:255<c?255:c,s}var s=this,u=0,l=0,c=0;e&&a(e),s.toRgb=i,s.toHsv=o,s.toHex=r,s.parse=a}var d=Math.min,f=Math.max,h=Math.round;return e}),e("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(e,d,f,h){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function n(e,t){var n,r,i=f.getPos(e);return n=t.pageX-i.x,r=t.pageY-i.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:r=Math.max(0,Math.min(r/e.clientHeight,1))}}function r(e,t){var n=(360-e.h)/360;f.css(a,{top:100*n+"%"}),t||f.css(u,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=new h({s:100,v:100,h:e.h}).toHex(),l.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){var t;t=n(s,e),i.s=100*t.x,i.v=100*(1-t.y),r(i),l.fire("change")}function t(e){var t;t=n(o,e),(i=c.toHsv()).h=360*(1-t.y),r(i,!0),l.fire("change")}var i,o,a,s,u,l=this,c=l.color();o=l.getEl("h"),a=l.getEl("hp"),s=l.getEl("sv"),u=l.getEl("svp"),l._repaint=function(){r(i=c.toHsv())},l._super(),l._svdraghelper=new d(l._id+"-sv",{start:e,drag:e}),l._hdraghelper=new d(l._id+"-h",{start:t,drag:t}),l._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;if(!arguments.length)return t.color().toHex();t.color().parse(e),t._rendered&&t._repaint()},color:function(){return this._color||(this._color=new h),this._color},renderHtml:function(){function e(){var e,t,n,r,i="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(r=a.split(",")).length-1;e<t;e++)i+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+r[e]+",endColorstr="+r[e+1]+");-ms-"+n+r[e]+",endColorstr="+r[e+1]+')"></div>';return i}var t,n=this,r=n._id,o=n.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return t='<div id="'+r+'-h" class="'+o+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+a+");background: linear-gradient(to bottom,"+a+");")+'">'+e()+'<div id="'+r+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+r+'" class="'+n.classes+'"><div id="'+r+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+r+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}})}),e("tinymce/ui/Path",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var n=this;e.delimiter||(e.delimiter="\xbb"),n._super(e),n.classes.add("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.row()[t],index:t})}),n.row(n.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(e){var t,n,r=this,i=e||[],o="",a=r.classPrefix;for(t=0,n=i.length;t<n;t++)o+=(0<t?'<div class="'+a+'divider" aria-hidden="true"> '+r.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(t==n-1?" "+a+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+r._id+"-"+t+'" aria-level="'+(t+1)+'">'+i[t].name+"</div>";return o||(o='<div class="'+a+'path-item">\xa0</div>'),o}})}),e("tinymce/ui/ElementPath",["tinymce/ui/Path"],function(e){return e.extend({postRender:function(){function o(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var a=this,s=a.settings.editor;return!1!==s.settings.elementpath&&(a.on("select",function(e){s.focus(),s.selection.select(this.row()[e.index].element),s.nodeChanged()}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,r=n.length;r--;)if(1==n[r].nodeType&&!o(n[r])){var i=s.fire("ResolveName",{name:n[r].nodeName.toLowerCase(),target:n[r]});if(i.isDefaultPrevented()||t.push({name:i.name,element:n[r]}),i.isPropagationStopped())break}a.row(t)})),a._super()}})}),e("tinymce/ui/FormItem",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(e,i,o){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var r=this,e=r.items();r.settings.formItemDefaults||(r.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new i(o.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},r.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),"undefined"==typeof e.settings.flex&&(e.settings.flex=1),r.replace(e,t),t.add(e))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,t,r=0,i=[];if(!1!==n.settings.labelGapCalc)for(("children"==n.settings.labelGapCalc?n.find("formitem"):n.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=r<n?n:r,i.push(t)}),t=n.settings.labelGap||0,e=i.length;e--;)i[e].settings.minWidth=r+t}var n=this;n._super(),n.on("show",e),e()}})}),e("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),e("tinymce/content/LinkTargets",["tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Uuid","tinymce/util/Tools","tinymce/dom/NodeType"],function(n,r,i,t,e,o){var a=e.trim,s=function(e,t,n,r,i){return{type:e,title:t,url:n,level:r,attach:i}},u=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return o.isContentEditableTrue(e)}return!1},l=function(e,t){return n.DOM.select(e,t)},c=function(e){return e.innerText||e.textContent},d=function(e){return e.id?e.id:t.uuid("h")},f=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},h=function(e){return f(e)&&m(e)},p=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},m=function(e){return u(e)&&!o.isContentEditableFalse(e)},g=function(e){return p(e)&&m(e)},v=function(e){return p(e)?parseInt(e.nodeName.substr(1),10):0},y=function(e){var t=d(e),n=function(){e.id=t};return s("header",c(e),"#"+t,v(e),n)},b=function(e){var t=e.id||e.name,n=c(e);return s("anchor",n||"#"+t,"#"+t,0,r.noop)},_=function(e){return i.map(i.filter(e,g),y)},S=function(e){return i.map(i.filter(e,h),b)},w=function(e){return l("h1,h2,h3,h4,h5,h6,a:not([href])",e)},C=function(e){return 0<a(e.title).length};return{find:function(e){var t=w(e);return i.filter(_(t).concat(S(t)),C)}}}),e("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools","tinymce/util/Arr","tinymce/util/Fun","tinymce/util/VK","tinymce/content/LinkTargets"],function(e,l,c,d,t,s){var f={},r=5,n=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},h=function(e){return l.map(e,n)},p=function(e,t){return{title:e,value:{title:e,url:t,attach:d.noop}}},m=function(t,e){return!c.find(e,function(e){return e.url===t})},g=function(e,t,n){var r=t in e?e[t]:n;return!1===r?null:r},u=function(e,n,r,i){var o={title:"-"},t=function(e){var t=c.filter(e[r],function(e){return m(e,n)});return l.map(t,function(e){return{title:e,value:{title:e,url:e,attach:d.noop}}})},a=function(t){var e=c.filter(n,function(e){return e.type==t});return h(e)},s=function(){var e=a("anchor"),t=g(i,"anchor_top","#top"),n=g(i,"anchor_bottom","#bottom");return null!==t&&e.unshift(p("<top>",t)),null!==n&&e.push(p("<bottom>",n)),e},u=function(e){return c.reduce(e,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(o,t)},[])};return!1===i.typeahead_urls?[]:"file"===r?u([y(e,t(f)),y(e,a("header")),y(e,s())]):y(e,t(f))},v=function(e,t){var n=f[t];/^https?/.test(e)&&(n?-1===c.indexOf(n,e)&&(f[t]=n.slice(0,r).concat(e)):f[t]=[e])},y=function(e,t){var n=e.toLowerCase(),r=l.grep(t,function(e){return-1!==e.title.toLowerCase().indexOf(n)});return 1===r.length&&r[0].title===e?[]:r},b=function(e){var t=e.title;return t.raw?t.raw:t},_=function(r,i,o,a){var t=function(e){var t=s.find(o),n=u(e,t,a,i);r.showAutoComplete(n,e)};r.on("autocomplete",function(){t(r.value())}),r.on("selectitem",function(e){var t=e.value;r.value(t.url);var n=b(t);"image"===a?r.fire("change",{meta:{alt:n,attach:t.attach}}):r.fire("change",{meta:{text:n,attach:t.attach}}),r.focus()}),r.on("click",function(e){0===r.value().length&&"INPUT"===e.target.nodeName&&t("")}),r.on("PostRender",function(){r.getRoot().on("submit",function(e){e.isDefaultPrevented()||v(r.value(),a)})})},o=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},S=function(n,e,t){var r=e.filepicker_validator_handler;if(r){var i=function(e){0!==e.length?r({url:e,type:t},function(e){var t=o(e);n.statusMessage(t.message),n.statusLevel(t.status)}):n.statusLevel("none")};n.state.on("change:value",function(e){i(e.value)})}};return e.extend({init:function(e){var t,n,r,i=this,o=tinymce.activeEditor,a=o.settings,s=e.filetype;e.spellcheck=!1,(r=a.file_picker_types||a.file_browser_callback_types)&&(r=l.makeMap(r,/[, ]/)),r&&!r[s]||(!(n=a.file_picker_callback)||r&&!r[s]?!(n=a.file_browser_callback)||r&&!r[s]||(t=function(){n(i.getEl("inp").id,i.value(),s,window)}):t=function(){var e=i.fire("beforecall").meta;e=l.extend({filetype:s},e),n.call(o,function(e,t){i.value(e).fire("change",{meta:t})},i.value(),e)}),t&&(e.icon="browse",e.onaction=t),i._super(e),_(i,a,o.getBody(),s),S(i,a,s)}})}),e("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),e("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,u,l,c,d,f,h,p,m,g,v,y,b,_,S,w,C,E,k,x,T,O,A,P,I,R,N,D,L,M,B,F=[],j=Math.max,$=Math.min;for(r=e.items().filter(":visible"),i=e.layoutRect(),o=e.paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,u=e.isRtl()?a.pack||"end":a.pack,l=a.spacing||0,"row-reversed"!=f&&"column-reverse"!=f||(r=r.set(r.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",w="h",C="minH",k="maxH",T="innerH",x="top",O="deltaH",A="contentH",D="left",R="w",P="x",I="innerW",N="minW",L="right",M="deltaW",B="contentW"):(E="x",w="w",C="minW",k="maxW",T="innerW",x="left",O="deltaW",A="contentW",D="top",R="h",P="y",I="innerH",N="minH",L="bottom",M="deltaH",B="contentH"),d=i[T]-o[x]-o[x],S=c=0,t=0,n=r.length;t<n;t++)p=(h=r[t]).layoutRect(),d-=t<n-1?l:0,0<(m=h.settings.flex)&&(c+=m,p[k]&&F.push(h),p.flex=m),d-=p[C],S<(g=o[D]+p[N]+o[L])&&(S=g);if((b={})[C]=d<0?i[C]-d+i[O]:i[T]-d+i[O],b[N]=S+i[M],b[A]=i[T]-d,b[B]=S,b.minW=$(b.minW,i.maxW),b.minH=$(b.minH,i.maxH),b.minW=j(b.minW,i.startMinWidth),b.minH=j(b.minH,i.startMinHeight),!i.autoResize||b.minW==i.minW&&b.minH==i.minH){for(y=d/c,t=0,n=F.length;t<n;t++)(v=(p=(h=F[t]).layoutRect())[k])<(g=p[C]+p.flex*y)?(d-=p[k]-p[C],c-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=d/c,_=o[x],b={},0===c&&("end"==u?_=d+o[x]:"center"==u?(_=Math.round(i[T]/2-(i[T]-d)/2)+o[x])<0&&(_=o[x]):"justify"==u&&(_=o[x],l=Math.floor(d/(r.length-1)))),b[P]=o[D],t=0,n=r.length;t<n;t++)g=(p=(h=r[t]).layoutRect()).maxFlexSize||p[C],"center"===s?b[P]=Math.round(i[I]/2-p[R]/2):"stretch"===s?(b[R]=j(p[N]||0,i[I]-o[D]-o[L]),b[P]=o[D]):"end"===s&&(b[P]=i[I]-p[R]-o.top),0<p.flex&&(g+=p.flex*y),b[w]=g,b[E]=_,h.layoutRect(b),h.recalc&&h.recalc(),_+=g+l}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var U=e.parent();U&&(U._lastRect=null,U.recalc())}}})}),e("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}})}),e("tinymce/fmt/FontInfo",["tinymce/dom/DOMUtils"],function(n){var i=function(e,t,n){for(;n!==t;){if(n.style[e])return n.style[e];n=n.parentNode}return""},o=function(e){return e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")},a=function(e,t){return n.DOM.getStyle(t,e,!0)};return{getFontSize:function(e,t){var n=i("fontSize",e,t);return""!==n?n:a("fontSize",t)},getFontFamily:function(e,t){var n=i("fontFamily",e,t),r=""!==n?n:a("fontFamily",t);return r!==Se?o(r):""},toPt:function(e){return/[0-9.]+px$/.test(e)?Math.round(72*parseInt(e,10)/96)+"pt":e}}}),e("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/util/Arr","tinymce/dom/DOMUtils","tinymce/EditorManager","tinymce/Env","tinymce/fmt/FontInfo"],function(t,e,v,y,n,r,i,o,b){function a(e){e.settings.ui_container&&(o.container=r.DOM.select(e.settings.ui_container)[0])}function s(e){e.on("ScriptsLoaded",function(){e.rtl&&(t.rtl=!0)})}function u(s){function n(i,o){return function(){var t=this;s.on("nodeChange",function(e){var n=s.formatter,r=null;_(e.parents,function(t){if(_(i,function(e){if(o?n.matchNode(t,o,{value:e.value})&&(r=e.value):n.matchNode(t,e.value)&&(r=e.value),r)return!1}),r)return!1}),t.value(r)})}}function r(o){return function(){var r=this,i=function(e){return e?e.split(",")[0]:""};s.on("nodeChange",function(e){var t,n=null
;t=b.getFontFamily(s.getBody(),e.element),_(o,function(e){e.value.toLowerCase()===t.toLowerCase()&&(n=e.value)}),_(o,function(e){n||i(e.value).toLowerCase()!==i(t).toLowerCase()||(n=e.value)}),r.value(n),!n&&t&&r.text(i(t))})}}function o(o){return function(){var i=this;s.on("nodeChange",function(e){var t,n,r=null;t=b.getFontSize(s.getBody(),e.element),n=b.toPt(t),_(o,function(e){e.value===t?r=t:e.value===n&&(r=n)}),i.value(r),r||i.text(n)})}}function i(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function e(){function i(e){var r=[];if(e)return _(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=i(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,a.push(e)),t.format=n,t.cmd=e.cmd}r.push(t)}),r}function e(){return s.settings.style_formats_merge?s.settings.style_formats?i(t.concat(s.settings.style_formats)):i(t):i(s.settings.style_formats||t)}var o=0,a=[],t=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return s.on("init",function(){_(a,function(e){s.formatter.register(e.name,e)})}),{type:"menu",items:e(),onPostRender:function(e){s.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return s.formatter.getCssText(this.settings.format)},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!s.formatter.canApply(e)),n.active(s.formatter.match(e))),(t=n.settings.cmd)&&n.active(s.queryCommandState(t))})},onclick:function(){this.settings.format&&l(this.settings.format),this.settings.cmd&&s.execCommand(this.settings.cmd)}}}}function a(e){return function(){var t=this;s.formatter?s.formatter.formatChanged(e,function(e){t.active(e)}):s.on("init",function(){s.formatter.formatChanged(e,function(e){t.active(e)})})}}function t(n){return function(){function e(){var e="redo"==n?"hasRedo":"hasUndo";return!!s.undoManager&&s.undoManager[e]()}var t=this;t.disabled(!e()),s.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){t.disabled(s.readonly||!e())})}}function u(){var t=this;s.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(s.hasVisual)}function l(e){e.control&&(e=e.control.value()),e&&s.execCommand("mceToggleFormat",!1,e)}function c(e){var n=e.length;return y.each(e,function(e){e.menu&&(e.hidden=0===c(e.menu));var t=e.format;t&&(e.hidden=!s.formatter.canApply(t)),e.hidden&&n--}),n}function d(e){var n=e.items().length;return e.items().each(function(e){e.menu&&e.visible(0<d(e.menu)),!e.menu&&e.settings.menu&&e.visible(0<c(e.settings.menu));var t=e.settings.format;t&&e.visible(s.formatter.canApply(t)),e.visible()||n--}),n}var f;f=e(),_({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,t){s.addButton(t,{tooltip:e,onPostRender:a(t),onclick:function(){l(t)}})}),_({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1]})}),_({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,t){s.addButton(t,{tooltip:e[0],cmd:e[1],onPostRender:a(t)})});var h=function(e){var t=e;return 0<t.length&&"-"===t[0].text&&(t=t.slice(1)),0<t.length&&"-"===t[t.length-1].text&&(t=t.slice(0,t.length-1)),t},p=function(e){var t,n;if("string"==typeof e)n=e.split(" ");else if(y.isArray(e))return S(y.map(e,p));return t=y.grep(n,function(e){return"|"===e||e in s.menuItems}),y.map(t,function(e){return"|"===e?{text:"-"}:s.menuItems[e]})},m=function(t){var n=[{text:"-"}],e=y.grep(s.menuItems,function(e){return e.context===t});return y.each(e,function(e){"before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"})}),n},g=function(e){return e.insert_button_items?h(p(e.insert_button_items)):h(m("insert"))};s.addButton("undo",{tooltip:"Undo",onPostRender:t("undo"),cmd:"undo"}),s.addButton("redo",{tooltip:"Redo",onPostRender:t("redo"),cmd:"redo"}),s.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),s.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:t("undo"),cmd:"undo"}),s.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:t("redo"),cmd:"redo"}),s.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:u,cmd:"mceToggleVisualAid"}),s.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),s.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(g(s.settings)),this.menu.renderNew()}}),_({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){s.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),s.on("mousedown",function(){v.hideAll()}),s.addButton("styleselect",{type:"menubutton",text:"Formats",menu:f,onShowMenu:function(){s.settings.style_formats_autohide&&d(this.menu)}}),s.addButton("formatselect",function(){var t=[],e=i(s.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return _(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return s.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:l,onPostRender:n(t)}}),s.addButton("fontselect",function(){var e="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",t=[],n=i(s.settings.font_formats||e);return _(n,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:r(t),onselect:function(e){e.control.settings.value&&s.execCommand("FontName",!1,e.control.settings.value)}}}),s.addButton("fontsizeselect",function(){var i=[],e="8pt 10pt 12pt 14pt 18pt 24pt 36pt",t=s.settings.fontsize_formats||e;return _(t.split(" "),function(e){var t=e,n=e,r=e.split("=");1<r.length&&(t=r[0],n=r[1]),i.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:i,fixedWidth:!0,onPostRender:o(i),onclick:function(e){e.control.settings.value&&s.execCommand("FontSize",!1,e.control.settings.value)}}}),s.addMenuItem("formats",{text:"Formats",menu:f})}var _=y.each,S=function(e){return n.reduce(e,function(e,t){return e.concat(t)},[])};i.on("AddEditor",function(e){var t=e.editor;s(t),u(t),a(t)}),t.translate=function(e){return i.translate(e)},e.tooltips=!o.iOS}),e("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(e){return e.extend({recalc:function(e){var t,n,r,i,o,a,s,u,l,c,d,f,h,p,m,g,v,y,b,_,S,w,C,E,k,x,T,O,A=[],P=[];t=e.settings,i=e.items().filter(":visible"),o=e.layoutRect(),r=t.columns||Math.ceil(Math.sqrt(i.length)),n=Math.ceil(i.length/r),y=t.spacingH||t.spacing||0,b=t.spacingV||t.spacing||0,_=t.alignH||t.align,S=t.alignV||t.align,g=e.paddingBox,O="reverseRows"in t?t.reverseRows:e.isRtl(),_&&"string"==typeof _&&(_=[_]),S&&"string"==typeof S&&(S=[S]);for(d=0;d<r;d++)A.push(0);for(f=0;f<n;f++)P.push(0);for(f=0;f<n;f++)for(d=0;d<r&&(c=i[f*r+d]);d++)E=(l=c.layoutRect()).minW,k=l.minH,A[d]=E>A[d]?E:A[d],P[f]=k>P[f]?k:P[f];for(x=o.innerW-g.left-g.right,d=w=0;d<r;d++)w+=A[d]+(0<d?y:0),x-=(0<d?y:0)+A[d];for(T=o.innerH-g.top-g.bottom,f=C=0;f<n;f++)C+=P[f]+(0<f?b:0),T-=(0<f?b:0)+P[f];if(w+=g.left+g.right,C+=g.top+g.bottom,(u={}).minW=w+(o.w-o.innerW),u.minH=C+(o.h-o.innerH),u.contentW=u.minW-o.deltaW,u.contentH=u.minH-o.deltaH,u.minW=Math.min(u.minW,o.maxW),u.minH=Math.min(u.minH,o.maxH),u.minW=Math.max(u.minW,o.startMinWidth),u.minH=Math.max(u.minH,o.startMinHeight),!o.autoResize||u.minW==o.minW&&u.minH==o.minH){var I;o.autoResize&&((u=e.layoutRect(u)).contentW=u.minW-o.deltaW,u.contentH=u.minH-o.deltaH),I="start"==t.packV?0:0<T?Math.floor(T/n):0;var R=0,N=t.flexWidths;if(N)for(d=0;d<N.length;d++)R+=N[d];else R=r;var D=x/R;for(d=0;d<r;d++)A[d]+=N?N[d]*D:D;for(p=g.top,f=0;f<n;f++){for(h=g.left,s=P[f]+I,d=0;d<r&&(c=i[O?f*r+r-1-d:f*r+d]);d++)m=c.settings,l=c.layoutRect(),a=Math.max(A[d],l.startMinWidth),l.x=h,l.y=p,"center"==(v=m.alignH||(_?_[d]||_[0]:null))?l.x=h+a/2-l.w/2:"right"==v?l.x=h+a-l.w:"stretch"==v&&(l.w=a),"center"==(v=m.alignV||(S?S[d]||S[0]:null))?l.y=p+s/2-l.h/2:"bottom"==v?l.y=p+s-l.h:"stretch"==v&&(l.h=s),c.layoutRect(l),h+=a+y,c.recalc&&c.recalc();p+=s+b}}else if(u.w=u.minW,u.h=u.minH,e.layoutRect(u),this.recalc(e),null===e._lastRect){var L=e.parent();L&&(L._lastRect=null,L.recalc())}}})}),e("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(e,i){return e.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=e,t&&t()):i.setTimeout(function(){n.html(e)}),this}})}),e("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(e){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),e("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(e,n){return e.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();e.settings.multiline&&(n.getSize(e.getEl()).width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,n.getSize(e.getEl()).height));return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,r=n.settings.forId;return!r&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0])&&(r=e._id),r?'<label id="'+n._id+'" class="'+n.classes+'"'+(r?' for="'+r+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),e("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}})}),e("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),e("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(e,r,s){function t(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}var o=e.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&!1!==e)return n.hideMenu();n.menu||((t=n.state.get("menu")||[]).length?t={type:"menu",items:t}:t.type=t.type||"menu",t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=r.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){e.control==n.menu&&n.activeMenu("show"==e.type),n.aria("expanded","show"==e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.settings.icon,o=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(o)+"</span>"),i=t.settings.icon?r+"ico "+r+"i-"+i:"",t.aria("role",t.parent()instanceof s?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var i=this;return i.on("click",function(e){e.control===i&&t(e.target,i.getEl())&&(i.focus(),i.showMenu(!e.aria),e.aria&&i.menu.items().filter(":visible")[0].focus())}),i.on("mouseenter",function(e){var t,n=e.control,r=i.parent();n&&r&&n instanceof o&&n.parent()==r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),i._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return o}),e("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(e,o,p,i){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),"-"!==(t=n.state.get("text"))&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,r=n.parent();if(r.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),(t=n.menu=o.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var i=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),i),i="menu-sub-"+(t.rel=i),t.classes.remove(t._lastRel).add(i),t._lastRel=i,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,n,r={};for(r=p.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=r[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}function n(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function t(e){var t=a.match||"";return t?e.replace(new RegExp(n(t),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function r(e){return e.replace(new RegExp(n("!mce~match["),"g"),"<b>").replace(new RegExp(n("]mce~match!"),"g"),"</b>")}var i=this,o=i._id,a=i.settings,s=i.classPrefix,u=i.state.get("text"),l=i.settings.icon,c="",d=a.shortcut,f=i.encode(a.url),h="";return l&&i.parent().classes.add("menu-has-icons"),a.image&&(c=" style=\"background-image: url('"+a.image+"')\""),d&&(d=e(d)),l=s+"ico "+s+"i-"+(i.settings.icon||"none"),h="-"!==u?'<i class="'+l+'"'+c+"></i>\xa0":"",u=r(i.encode(t(u))),f=r(i.encode(t(f))),'<div id="'+o+'" class="'+i.classes+'" tabindex="-1">'+h+("-"!==u?'<span id="'+o+'-text" class="'+s+'text">'+u+"</span>":"")+(d?'<div id="'+o+'-shortcut" class="'+s+'menu-shortcut">'+d+"</div>":"")+(a.menu?'<div class="'+s+'caret"></div>':"")+(f?'<div class="'+s+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var r=t.getEl("text");r&&r.setAttribute("style",e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),i.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),e("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(l,e,c){return function(r,i){var o,a,s=this,u=e.classPrefix;s.show=function(e,t){function n(){o&&(l(r).append('<div class="'+u+"throbber"+(i?" "+u+"throbber-inline":"")+'"></div>'),t&&t())}return s.hide(),o=!0,e?a=c.setTimeout(n,e):n(),s},s.hide=function(){var e=r.lastChild;return c.clearTimeout(a),e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),o=!1,s}}}),e("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(e,t,i,o){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,r=n.length;r--;)n[r]=o.extend({},e.itemDefaults,n[r]);t._super(e),t.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function t(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var n,r=this;r.settings.itemsFactory&&(r.throbber||(r.throbber=new i(r.getEl("body"),!0),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",t)),r.requestTime=n=(new Date).getTime(),r.settings.itemsFactory(function(e){0!==e.length?r.requestTime===n&&(r.getEl().style.width="",r.getEl("body").style.width="",t(),r.items().remove(),r.getEl("body").innerHTML="",r.add(e),r.renderNew(),r.fire("loaded")):r.hide()}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;if(t.icon||t.image||t.selectable)return!(n._hasIcons=!0)}),n.settings.itemsFactory&&n.on("postrender",function(){n.settings.itemsFactory&&n.load()}),n._super()}})}),e("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(e,r){return e.extend({init:function(n){function r(e){for(var t=0;t<e.length;t++){if(i=e[t].selected||n.value===e[t].value)return o=o||e[t].text,s.state.set("value",e[t].value),!0;if(e[t].menu&&r(e[t].menu))return!0}}var e,i,o,a,s=this;s._super(n),n=s.settings,s._values=e=n.values,e&&("undefined"!=typeof n.value&&r(e),!i&&0<e.length&&(o=e[0].text,s.state.set("value",e[0].value)),s.state.set("menu",e)),s.state.set("text",n.text||o),s.classes.add("listbox"),s.on("select",function(e){var t=e.control;a&&(e.lastControl=a),n.multiple?t.active(!t.active()):s.value(e.control.value()),a=t})},bindStates:function(){function t(e,t){e instanceof r&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function i(e,t){var n;if(e)for(var r=0;r<e.length;r++){if(e[r].value===t)return e[r];if(e[r].menu&&(n=i(e[r].menu,t)))return n}}var n=this;return n.on("show",function(e){t(e.control,n.value())}),n.state.on("change:value",function(e){var t=i(n.state.get("menu"),e.value);t?n.text(t.text):n.text(n.settings.text)}),n._super()}})}),e("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),e("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(e,n){return e.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"==e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),e("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(e){function r(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}return e.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var n=this;n._super(e),n.settings.size&&(n.size=n.settings.size),n.settings.options&&(n._options=n.settings.options),n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=r(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(e){t.getEl().innerHTML=r(e.value)}),t._super()}})}),e("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(e,m,g){function v(e,t,n){return e<t&&(e=t),n<e&&(e=n),e}function s(e,t,n){e.setAttribute("aria-"+t,n)}function n(e,t){var n,r,i,o,a;"v"==e.settings.orientation?(i="top",r="height",n="h"):(i="left",r="width",n="w"),a=e.getEl("handle"),o=((e.layoutRect()[n]||100)-g.getSize(a)[r])*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[i]=o,a.style.height=e.layoutRect().h+"px",s(a,"valuenow",t),s(a,"valuetext",""+e.settings.previewFilter(t)),s(a,"valuemin",e._minValue),s(a,"valuemax",e._maxValue)}return e.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"==e.orientation&&t.classes.add("vertical"),t._minValue=e.minValue||0,t._maxValue=e.maxValue||100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function i(e,t,n){return(n+e)/(t-e)}function o(e,t,n){return n*(t-e)-e}function e(n,r){function t(e){var t;t=p.value(),t=v(t=o(n,r,i(n,r,t)+.05*e),n,r),p.value(t),p.fire("dragstart",{value:t}),p.fire("drag",{value:t}),p.fire("dragend",{value:t})}p.on("keydown",function(e){switch(e.keyCode){case 37:case 38:t(-1);break;case 39:case 40:t(1)}})}function t(n,r,i){var o,a,s,u,l;p._dragHelper=new m(p._id,{handle:p._id+"-handle",start:function(e){o=e[c],a=parseInt(p.getEl("handle").style[d],10),s=(p.layoutRect()[h]||100)-g.getSize(i)[f],p.fire("dragstart",{value:l})},drag:function(e){var t=e[c]-o;u=v(a+t,0,s),i.style[d]=u+"px",l=n+u/s*(r-n),p.value(l),p.tooltip().text(""+p.settings.previewFilter(l)).show().moveRel(i,"bc tc"),p.fire("drag",{value:l})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:l})}})}var n,r,c,d,f,h,p=this;n=p._minValue,r=p._maxValue,"v"==p.settings.orientation?(c="screenY",d="top",f="height",h="h"):(c="screenX",d="left",f="width",h="w"),p._super(),e(n,r,p.getEl("handle")),t(n,r,p.getEl("handle"))},repaint:function(){this._super(),n(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){n(t,e.value)}),t._super()}})}),e("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(e){return e.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}})}),e("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(e,o,a){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,r=n.getEl(),i=n.layoutRect();return n._super(),e=r.firstChild,t=r.lastChild,a(e).css({width:i.w-o.getSize(t).width,height:i.h-2}),a(t).css({height:i.h-2}),n},activeMenu:function(e){var t=this;a(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,r=t.classPrefix,i=t.state.get("icon"),o=t.state.get("text"),a="";return(e=t.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=t.settings.icon?r+"ico "+r+"i-"+i:"",o&&(t.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+t.encode(o)+"</span>"),'<div id="'+n+'" class="'+t.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+a+'</button><button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(i?"\xa0":"")+t._menuBtnText:"")+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this,n=e.settings.onclick;return e.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void(n&&n.call(this,e));t=t.parentNode}}),delete e.settings.onclick,e._super()}})}),e("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),e("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(e,t,o){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),t(e).addClass(this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var r=this,e=r._layout,i="",o=r.classPrefix;return r.preRender(),e.preRender(r),r.items().each(function(e,t){var n=r._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),i+='<div id="'+n+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+r.encode(e.settings.title)+"</div>"}),'<div id="'+r._id+'" class="'+r.classes+'" hidefocus="1" tabindex="-1"><div id="'+r._id+'-head" class="'+o+'tabs" role="tablist">'+i+'</div><div id="'+r._id+'-body" class="'+r.bodyClasses+'">'+e.renderHtml(r)+"</div></div>"},postRender:function(){var r=this;r._super(),r.settings.activeTab=r.settings.activeTab||0,r.activateTab(r.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(t&&t.id==r._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&r.activateTab(n)})},initLayoutRect:function(){var e,t,n,r=this;t=(t=o.getSize(r.getEl("head")).width)<0?0:t,n=0,r.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),r.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var i=o.getSize(r.getEl("head")).height;return r.settings.minWidth=t,r.settings.minHeight=n+i,(e=r._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}})}),e("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(e,i,o){return e.extend({init:function(e){var n=this;n._super(e),n.classes.add("textbox"),e.multiline?n.classes.add("multiline"):(n.on("keydown",function(e){var t;13==e.keyCode&&(e.preventDefault(),n.parents().reverse().each(function(e){if(e.toJSON)return t=e,!1}),n.fire("submit",{data:t.toJSON()}))}),n.on("keyup",function(e){n.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,r,i,o=this,a=0;e=o.getEl().style,t=o._layoutRect,i=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(e.lineHeight=t.h-a+"px"),r=(n=o.borderBox).left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==i.x&&(e.left=t.x+"px",i.x=t.x),t.y!==i.y&&(e.top=t.y+"px",i.y=t.y),t.w!==i.w&&(e.width=t.w-r+"px",i.w=t.w),t.h!==i.h&&(e.height=t.h-a+"px",i.h=t.h),o._lastRepaintRect=i,o.fire("repaint",{},!1),o},renderHtml:function(){var t,e,n=this,r=n.settings;return t={id:n._id,hidefocus:"1"},i.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=r[e]}),n.disabled()&&(t.disabled="disabled"),
r.subtype&&(t.type=r.subtype),(e=o.create(r.multiline?"textarea":"input",t)).value=n.state.get("value"),e.className=n.classes,e.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),e("tinymce/Register",[],function(){var e=this||window,t=function(){return e.tinymce};return"function"==typeof e.define&&(e.define.amd||e.define("ephox/tinymce",[],t)),"object"==typeof module&&(module.exports=window.tinymce),{}}),t(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(window),tinymce.PluginManager.add("autoresize",function(p){function m(){return p.plugins.fullscreen&&p.plugins.fullscreen.isFullscreen()}function g(e){var t,n,r,i,o,a,s,u,l,c,d,f,h=tinymce.DOM;(n=p.getDoc())&&(r=n.body,i=n.documentElement,o=v.autoresize_min_height,!r||e&&"setcontent"===e.type&&e.initial||m()?r&&i&&(r.style.overflowY="auto",i.style.overflowY="auto"):(s=p.dom.getStyle(r,"margin-top",!0),u=p.dom.getStyle(r,"margin-bottom",!0),l=p.dom.getStyle(r,"padding-top",!0),c=p.dom.getStyle(r,"padding-bottom",!0),d=p.dom.getStyle(r,"border-top-width",!0),f=p.dom.getStyle(r,"border-bottom-width",!0),a=r.offsetHeight+parseInt(s,10)+parseInt(u,10)+parseInt(l,10)+parseInt(c,10)+parseInt(d,10)+parseInt(f,10),(isNaN(a)||a<=0)&&(a=tinymce.Env.ie?r.scrollHeight:tinymce.Env.webkit&&0===r.clientHeight?0:r.offsetHeight),a>v.autoresize_min_height&&(o=a),v.autoresize_max_height&&a>v.autoresize_max_height?(o=v.autoresize_max_height,r.style.overflowY="auto",i.style.overflowY="auto"):(r.style.overflowY="hidden",i.style.overflowY="hidden",r.scrollTop=0),o!==y&&(t=o-y,h.setStyle(p.iframeElement,"height",o+"px"),y=o,tinymce.isWebKit&&t<0&&g(e))))}function r(e,t,n){tinymce.util.Delay.setEditorTimeout(p,function(){g({}),e--?r(e,t,n):n&&n()},t)}var v=p.settings,y=0;p.settings.inline||(v.autoresize_min_height=parseInt(p.getParam("autoresize_min_height",p.getElement().offsetHeight),10),v.autoresize_max_height=parseInt(p.getParam("autoresize_max_height",0),10),p.on("init",function(){var e,t;e=p.getParam("autoresize_overflow_padding",1),t=p.getParam("autoresize_bottom_margin",50),!1!==e&&p.dom.setStyles(p.getBody(),{paddingLeft:e,paddingRight:e}),!1!==t&&p.dom.setStyles(p.getBody(),{paddingBottom:t})}),p.on("nodechange setcontent keyup FullscreenStateChanged",g),p.getParam("autoresize_on_init",!0)&&p.on("init",function(){r(20,100,function(){r(5,1e3)})}),p.addCommand("mceAutoResize",g))}),function(s,u){"use strict";function r(e,t){for(var n,r=[],i=0;i<e.length;++i){if(!(n=l[e[i]]||o(e[i])))throw"module definition dependecy not found: "+e[i];r.push(n)}t.apply(null,r)}function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===u)throw"invalid module definition, dependencies must be specified";if(n===u)throw"invalid module definition, definition function must be specified";r(t,function(){l[e]=n.apply(null,arguments)})}function o(e){for(var t=s,n=e.split(/[.\/]/),r=0;r<n.length;++r){if(!t[n[r]])return;t=t[n[r]]}return t}function t(e){var t,n,r,i,o;for(t=0;t<e.length;t++){n=s,i=(r=e[t]).split(/[.\/]/);for(var a=0;a<i.length-1;++a)n[i[a]]===u&&(n[i[a]]={}),n=n[i[a]];n[i[i.length-1]]=l[r]}if(s.AMDLC_TESTS){for(r in o=s.privateModules||{},l)o[r]=l[r];for(t=0;t<e.length;t++)delete o[e[t]];s.privateModules=o}}var l={};e("tinymce/pasteplugin/Utils",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema"],function(u,l,c){function d(t,e){return u.each(e,function(e){t=e.constructor==RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function e(e){function r(e){var t=e.name,n=e;if("br"!==t)if(o[t]&&(i+=" "),a[t])i+=" ";else{if(3==e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))for(;r(e),e=e.next;);s[t]&&n.next&&(i+="\n","p"==t&&(i+="\n"))}else i+="\n"}var t=new c,n=new l({},t),i="",o=t.getShortEndedElements(),a=u.makeMap("script noscript style textarea video audio iframe object"," "),s=t.getBlockElements();return e=d(e,[/<!\[[^\]]+\]>/g]),r(n.parse(e)),i}function t(e){function t(e,t,n){return t||n?"\xa0":" "}return e=d(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/g,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,t],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function n(e){var t=0;return function(){return e+t++}}return{filter:d,innerText:e,trimHtml:t,createIdGenerator:n}}),e("tinymce/pasteplugin/SmartPaste",["tinymce/util/Tools"],function(e){var r=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},i=function(e){return r(e)&&/.(gif|jpe?g|png)$/.test(e)},o=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},a=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},s=function(e,t,n){return!(!1!==e.selection.isCollapsed()||!r(t))&&a(e,t,n)},u=function(e,t,n){return!!i(t)&&o(e,t,n)},l=function(e,t){return e.insertContent(t,{merge:!1!==e.settings.paste_merge_formats,paste:!0}),!0},n=function(t,n){e.each([s,u,l],function(e){return!0!==e(t,n,l)})};return{isImageUrl:i,isAbsoluteUrl:r,insertContent:function(e,t){!1===e.settings.smart_paste?l(e,t):n(e,t)}}}),e("tinymce/pasteplugin/Clipboard",["tinymce/Env","tinymce/dom/RangeUtils","tinymce/util/VK","tinymce/pasteplugin/Utils","tinymce/pasteplugin/SmartPaste","tinymce/util/Delay"],function(I,t,r,R,i,N){return function(l){function c(e){var t,n=l.dom;if(t=l.fire("BeforePastePreProcess",{content:e}),e=(t=l.fire("PastePreProcess",t)).content,!t.isDefaultPrevented()){if(l.hasEventListeners("PastePostProcess")&&!t.isDefaultPrevented()){var r=n.add(l.getBody(),"div",{style:"display:none"},e);t=l.fire("PastePostProcess",{node:r}),n.remove(r),e=t.node.innerHTML}t.isDefaultPrevented()||i.insertContent(l,e)}}function o(e){e=l.dom.encode(e).replace(/\r\n/g,"\n");var t,n=l.dom.getParent(l.selection.getStart(),l.dom.isBlock),r=l.settings.forced_root_block;r&&(t=(t=l.dom.createHTML(r,l.settings.forced_root_block_attrs)).substr(0,t.length-3)+">"),n&&/^(PRE|DIV)$/.test(n.nodeName)||!r?e=R.filter(e,[[/\n/g,"<br>"]]):-1!=(e=R.filter(e,[[/\n\n/g,"</p>"+t],[/^(.*<\/p>)(<p>)$/,t+"$1"],[/\n/g,"<br />"]])).indexOf("<p>")&&(e=t+e),c(e)}function u(){function e(e){var t,n,r,i=e.startContainer;if((t=e.getClientRects()).length)return t[0];if(e.collapsed&&1==i.nodeType){for(r=i.childNodes[E.startOffset];r&&3==r.nodeType&&!r.data.length;)r=r.nextSibling;if(r)return"BR"==r.tagName&&(n=o.doc.createTextNode("\ufeff"),r.parentNode.insertBefore(n,r),(e=o.createRng()).setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),o.remove(n)),t.length?t[0]:void 0}}var t,o=l.dom,n=l.getBody(),r=l.dom.getViewPort(l.getWin()).y,i=20;if(E=l.selection.getRng(),l.inline&&(t=l.selection.getScrollContainer())&&0<t.scrollTop&&(r=t.scrollTop),E.getClientRects){var a=e(E);if(a)i=r+(a.top-o.getPos(n).y);else{i=r;var s=E.startContainer;s&&(3==s.nodeType&&s.parentNode!=n&&(s=s.parentNode),1==s.nodeType&&(i=o.getPos(s,t||n).y))}}C=o.add(l.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+i+"px;width: 10px; height: 10px; overflow: hidden; opacity: 0"},A),(I.ie||I.gecko)&&o.setStyle(C,"left","rtl"==o.getStyle(n,"direction",!0)?65535:-65535),o.bind(C,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),C.focus(),l.selection.select(C,!0)}function d(){if(C){for(var e;e=l.dom.get("mcepastebin");)l.dom.remove(e),l.dom.unbind(e);E&&l.selection.setRng(E)}C=E=null}function f(){var e,t,n,r,i="";for(e=l.dom.select("div[id=mcepastebin]"),t=0;t<e.length;t++)(n=e[t]).firstChild&&"mcepastebin"==n.firstChild.id&&(n=n.firstChild),r=n.innerHTML,i!=A&&(i+=r);return i}function h(e){var t={};if(e){if(e.getData){var n=e.getData("Text");n&&0<n.length&&-1==n.indexOf(a)&&(t["text/plain"]=n)}if(e.types)for(var r=0;r<e.types.length;r++){var i=e.types[r];t[i]=e.getData(i)}}return t}function p(e){return h(e.clipboardData||l.getDoc().dataTransfer)}function m(e){return w(e,"text/html")||w(e,"text/plain")}function g(e){var t;return-1!==(t=e.indexOf(","))?e.substr(t+1):null}function v(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)}function y(e,t,n){e&&(l.selection.setRng(e),e=null);var r=t.result,i=g(r),o=new Image;if(o.src=r,v(l.settings,o)){var a,s,u=l.editorUpload.blobCache;(s=u.findFirst(function(e){return e.base64()===i}))?a=s:(a=u.create(P(),n,i),u.add(a)),c('<img src="'+a.blobUri()+'">')}else c('<img src="'+r+'">')}function b(a,s){function e(e){var t,n,r,i=!1;if(e)for(t=0;t<e.length;t++)if(n=e[t],/^image\/(jpeg|png|gif|bmp)$/.test(n.type)){var o=n.getAsFile?n.getAsFile():n;(r=new FileReader).onload=y.bind(null,s,r,o),r.readAsDataURL(o),a.preventDefault(),i=!0}return i}var t=a.clipboardData||a.dataTransfer;if(l.settings.paste_data_images&&t)return e(t.items)||e(t.files)}function _(e){var t=e.clipboardData;return-1!=navigator.userAgent.indexOf("Android")&&t&&t.items&&0===t.items.length}function S(e){return t.getCaretRangeFromPoint(e.clientX,e.clientY,l.getDoc())}function w(e,t){return t in e&&0<e[t].length}function n(e){return r.metaKeyPressed(e)&&86==e.keyCode||e.shiftKey&&45==e.keyCode}function e(){function a(e,t,n){var r;w(e,"text/html")?r=e["text/html"]:(r=f())==A&&(n=!0),r=R.trimHtml(r),C&&C.firstChild&&"mcepastebin"===C.firstChild.id&&(n=!0),d(),r.length||(n=!0),n&&(r=w(e,"text/plain")&&-1==r.indexOf("</p>")?e["text/plain"]:R.innerText(r)),r!=A?n?o(r):c(r):t||l.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")}function i(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")}l.on("keydown",function(e){function t(e){n(e)&&!e.isDefaultPrevented()&&d()}if(n(e)&&!e.isDefaultPrevented()){if((k=e.shiftKey&&86==e.keyCode)&&I.webkit&&-1!=navigator.userAgent.indexOf("Version/"))return;if(e.stopImmediatePropagation(),T=(new Date).getTime(),I.ie&&k)return e.preventDefault(),void l.fire("paste",{ieFake:!0});d(),u(),l.once("keyup",t),l.once("paste",function(){l.off("keyup",t)})}});var s=function(){return E||l.selection.getRng()};l.on("paste",function(e){var t=(new Date).getTime(),n=p(e),r=(new Date).getTime()-t,i=(new Date).getTime()-T-r<1e3,o="text"==x.pasteFormat||k;k=!1,e.isDefaultPrevented()||_(e)?d():m(n)||!b(e,s())?(i||e.preventDefault(),!I.ie||i&&!e.ieFake||(u(),l.dom.bind(C,"paste",function(e){e.stopPropagation()}),l.getDoc().execCommand("Paste",!1,null),n["text/html"]=f()),w(n,"text/html")?(e.preventDefault(),a(n,i,o)):N.setEditorTimeout(l,function(){a(n,i,o)},0)):d()}),l.on("dragstart dragend",function(e){O="dragstart"==e.type}),l.on("drop",function(e){var t,n;if(n=S(e),!e.isDefaultPrevented()&&!O&&(m(t=h(e.dataTransfer))&&!i(t)||!b(e,n))&&n&&!1!==l.settings.paste_filter_drop){var r=t["mce-internal"]||t["text/html"]||t["text/plain"];r&&(e.preventDefault(),N.setEditorTimeout(l,function(){l.undoManager.transact(function(){t["mce-internal"]&&l.execCommand("Delete"),l.selection.setRng(n),r=R.trimHtml(r),t["text/html"]?c(r):o(r)})}))}}),l.on("dragover dragend",function(e){l.settings.paste_data_images&&e.preventDefault()})}var C,E,k,x=this,T=0,O=!1,A="%MCEPASTEBIN%",a="data:text/mce-internal,",P=R.createIdGenerator("mceclip");x.pasteHtml=c,x.pasteText=o,x.pasteImageData=b,l.on("preInit",function(){e(),l.parser.addNodeFilter("img",function(e,t,n){function r(e){return e.data&&!0===e.data.paste}function i(e){e.attr("data-mce-object")||u===I.transparentSrc||e.remove()}function o(e){return 0===e.indexOf("webkit-fake-url")}function a(e){return 0===e.indexOf("data:")}if(!l.settings.paste_data_images&&r(n))for(var s=e.length;s--;){var u=e[s].attributes.map.src;u&&(o(u)?i(e[s]):!l.settings.allow_html_data_urls&&a(u)&&i(e[s]))}})})}}),e("tinymce/pasteplugin/WordFilter",["tinymce/util/Tools","tinymce/html/DomParser","tinymce/html/Schema","tinymce/html/Serializer","tinymce/html/Node","tinymce/pasteplugin/Utils"],function(f,h,p,m,g,v){function y(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function b(t){var n,e;return e=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),f.each(e,function(e){if(e.test(t))return!(n=!0)}),n}function _(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function e(c){var d=c.settings;c.on("BeforePastePreProcess",function(e){function t(e){function n(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)for(;t+=n(e),e=e.next;);return t}function i(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!i(e,t))return!1}while(e=e.next);return!0}function o(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)for(;o(e),e=e.next;);}function t(e,t,n){var r=e._listLevel||u;r!=u&&(r<u?a&&(a=a.parent.parent):(s=a,a=null)),a&&a.name==t?a.append(e):(s=s||a,a=new g(t,1),1<n&&a.attr("start",""+n),e.wrap(a)),e.name="li",u<r&&s&&s.lastChild.append(a),u=r,o(e),i(e,/^\u00a0+/),i(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),i(e,/^\u00a0+/)}for(var a,s,u=1,r=[],l=e.firstChild;null!=l;)if(r.push(l),null!==(l=l.walk()))for(;void 0!==l&&l.parent!==e;)l=l.walk();for(var c=0;c<r.length;c++)if("p"==(e=r[c]).name&&e.firstChild){var d=n(e);if(_(d)){t(e,"ul");continue}if(b(d)){var f=/([0-9]+)\./.exec(d),h=1;f&&(h=parseInt(f[1],10)),t(e,"ol",h);continue}if(e._listLevel){t(e,"ul",1);continue}a=null}else s=a,a=null}function r(n,r){var i,o={},e=c.dom.parseStyle(r);return f.each(e,function(e,t){switch(t){case"mso-list":(i=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(e)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":t="text-align";break;case"vert-align":t="vertical-align";break;case"font-color":case"mso-foreground":t="color";break;case"mso-background":case"mso-highlight":t="background";break;case"font-weight":case"font-style":return void("normal"!=e&&(o[t]=e));case"mso-element":if(/^(comment|comment-list)$/i.test(e))return void n.remove()}0!==t.indexOf("mso-comment")?0!==t.indexOf("mso-")&&("all"==a||s&&s[t])&&(o[t]=e):n.remove()}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new g("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new g("i",1))),(o=c.dom.serializeStyle(o,n.name))||null}var a,s,n=e.content;if(n=(n=n.replace(/<b[^>]+id="?docs-internal-[^>]*>/gi,"")).replace(/<br class="?Apple-interchange-newline"?>/gi,""),(a=d.paste_retain_style_properties)&&(s=f.makeMap(a.split(/[, ]/))),!1!==d.paste_enable_default_filters&&y(e.content)){e.wordContent=!0,n=v.filter(n,[/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xa0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return 0<t.length?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join("\xa0"):""}]]);var i=d.paste_word_valid_elements;i||(i="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody");var o=new p({valid_elements:i,valid_children:"-li[p]"});f.each(o.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var u=new h({},o);u.addAttributeFilter("style",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("style",r(t,t.attr("style"))),"span"==t.name&&t.parent&&!t.attributes.length&&t.unwrap()}),u.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),u.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),u.addNodeFilter("a",function(e){for(var t,n,r,i=e.length;i--;)if(n=(t=e[i]).attr("href"),r=t.attr("name"),n&&-1!=n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var l=u.parse(n);!1!==d.paste_convert_word_fake_lists&&t(l),e.content=new m({validate:d.validate},o).serialize(l)}})}return e.isWordContent=y,e}),e("tinymce/pasteplugin/Quirks",["tinymce/Env","tinymce/util/Tools","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Utils"],function(a,s,u,l){return function(r){function e(t){r.on("BeforePastePreProcess",function(e){e.content=t(e.content)})}function t(t){r.on("PastePostProcess",function(e){t(e.node)})}function n(e){if(!u.isWordContent(e))return e;var n=[];s.each(r.schema.getBlockElements(),function(e,t){n.push(t)});var t=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=l.filter(e,[[t,"$1"]]),e=l.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function i(e){if(u.isWordContent(e))return e;var l=r.settings.paste_webkit_styles;if(!1===r.settings.paste_remove_styles_if_webkit||"all"==l)return e;if(l&&(l=l.split(/[, ]/)),l){var c=r.dom,d=r.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var i=c.parseStyle(n,"span"),o={};if("none"===l)return t+r;for(var a=0;a<l.length;a++){var s=i[l[a]],u=c.getStyle(d,l[a],!0);/color/.test(l[a])&&(s=c.toHex(s),u=c.toHex(u)),u!=s&&(o[l[a]]=s)}return(o=c.serializeStyle(o,"span"))?t+' style="'+o+'"'+r:t+r})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function o(e){r.$("a",e).find("font,u").each(function(e,t){r.dom.remove(t,!0)})}a.webkit&&e(i),a.ie&&(e(n),t(o))}}),e("tinymce/pasteplugin/Plugin",["tinymce/PluginManager","tinymce/pasteplugin/Clipboard","tinymce/pasteplugin/WordFilter","tinymce/pasteplugin/Quirks"],function(s,u,l,c){var d;s.add("paste",function(n){function t(){return d||!1===n.settings.paste_plaintext_inform}function e(){if("text"==i.pasteFormat)i.pasteFormat="html",n.fire("PastePlainTextToggle",{state:!1});else if(i.pasteFormat="text",n.fire("PastePlainTextToggle",{state:!0}),!t()){var e=n.translate("Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.");n.notificationManager.open({text:e,type:"info"}),d=!0}n.focus()}function r(){var t=this;t.active("text"===i.pasteFormat),n.on("PastePlainTextToggle",function(e){t.active(e.state)})}var i,o=this,a=n.settings;/(^|[ ,])powerpaste([, ]|$)/.test(a.plugins)&&s.get("powerpaste")?"undefined"!=typeof console&&console.log&&console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."):(o.clipboard=i=new u(n),o.quirks=new c(n),o.wordFilter=new l(n),n.settings.paste_as_text&&(o.clipboard.pasteFormat="text"),a.paste_preprocess&&n.on("PastePreProcess",function(e){a.paste_preprocess.call(o,o,e)}),a.paste_postprocess&&n.on("PastePostProcess",function(e){a.paste_postprocess.call(o,o,e)}),n.addCommand("mceInsertClipboardContent",function(e,t){t.content&&o.clipboard.pasteHtml(t.content),t.text&&o.clipboard.pasteText(t.text)}),n.settings.paste_block_drop&&n.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),n.settings.paste_data_images||n.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&0<t.files.length&&e.preventDefault()}),n.addCommand("mceTogglePlainTextPaste",e),n.addButton("pastetext",{icon:"pastetext",tooltip:"Paste as text",onclick:e,onPostRender:r}),n.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:i.pasteFormat,onclick:e,onPostRender:r}))})}),t(["tinymce/pasteplugin/Utils"])}(window);e(function(){var t;(t=jQuery).fn.prepareTransition=function(){return this.each(function(){var n=t(this);n.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){n.removeClass("is-transitioning")});var e=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"],r=0;t.each(e,function(e,t){r||(r=parseFloat(n.css(t)))}),0!=r&&(n.addClass("is-transitioning"),n[0].offsetWidth)})}});var ct=e(function(e,t){"use strict";function n(e,t){this._callbacks||(this._callbacks={}),this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t)}function r(e){if(this._callbacks&&this._callbacks[e]){for(var t=this._callbacks[e],n=arguments.length,r=Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=!0,a=!1,s=undefined;try{for(var u,l=t.slice(0)[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){u.value.apply(undefined,r)}}catch(c){a=!0,s=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(a)throw s}}}}function i(r,i){this.on(r,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.trigger.apply(i,[r].concat(t))})}Object.defineProperty(t,"__esModule",{value:!0}),t.on=n,t.trigger=r,t.bubbleEvent=i,window.EventMixin=null!=t["default"]?t["default"]:t});e(function(){"use strict";var s={};Twine.bindingTypes.component=function(e,t,n){function r(){var e=t[o];"function"==typeof e._teardown&&e._teardown(),delete t[o]}var i=null,o=n.replace(/\./g,"_")+"_"+Twine.count;try{i=new Function("$context,$componentRegistry,node","with($context) {\n      with($componentRegistry) {\n        return new "+n+"(node, $context);\n      }\n    }")}catch(a){throw new Error("Twine error: Unable to create function on "+e.nodeName)}return e.setAttribute("context",o),t[o]=i.call(e,t,s,e),{teardown:r}},Twine.registerComponent=function(e,t){if(s[e])throw new Error("Twine error: '"+e+"' is already registered with Twine");s[e]=t}}),e(function(J){!function(h,e){function l(e,t){return e&&t&&e.type===t.type&&e.name===t.name&&s(e.metaData,t.metaData)}function a(t){try{if("function"!=typeof t)return t;if(!t.bugsnag){var n=o();t.bugsnag=function(){if(I=n,!D){var e=t.apply(this,arguments);return I=null,e}try{return t.apply(this,arguments)}catch(hd){throw w("autoNotify",!0)&&(N.notifyException(hd,null,null,"error"),A()),hd}finally{I=null}},t.bugsnag.bugsnag=t.bugsnag}return t.bugsnag}catch(hd){return t}}function t(){if(U){var e=function(e){if(E("autoBreadcrumbsClicks")){var t,n;try{t=u(e.target),n=f(e.target)}catch(hd){n=t="[hidden]",d("Cross domain error when tracking click event. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors")}N.leaveBreadcrumb({type:"user",name:"UI click",metaData:{targetText:t,targetSelector:n}})}};h.addEventListener("click",e,!0)}}function n(){function e(e,t){E("autoBreadcrumbsConsole")&&N.leaveBreadcrumb({type:"log",name:"Console output",metaData:{severity:e,message:Array.prototype.slice.call(t).join(", ")}})}if("undefined"!=typeof h.console){var t=console.log,n=console.warn,r=console.error;N.enableAutoBreadcrumbsConsole=function(){N.autoBreadcrumbsConsole=!0,p(console,"log",function(){e("log",arguments)}),p(console,"warn",function(){e("warn",arguments)}),p(console,"error",function(){e("error",arguments)})},N.disableAutoBreadcrumbsConsole=function(){N.autoBreadcrumbsConsole=!1,console.log=t,console.warn=n,console.error=r},E("autoBreadcrumbsConsole")&&N.enableAutoBreadcrumbsConsole()}}function r(){function i(e){return e.split("#")[1]||""}function e(e){var t=e.oldURL,n=e.newURL,r={};return t&&n?(r.from=i(t),r.to=i(n)):r.to=location.hash,{type:"navigation",name:"Hash changed",metaData:r}}function t(){return{type:"navigation",name:"Navigated back"}}function n(){return{type:"navigation",name:"Page hidden"}}function r(){return{type:"navigation",name:"Page shown"}}function o(){return{type:"navigation",name:"Page loaded"}}function a(){return{type:"navigation",name:"DOMContentLoaded"}}function s(e,t,n,r){var i=location.pathname+location.search+location.hash;return{type:"navigation",name:"History "+e,metaData:{from:i,to:r||i,prevState:history.state,nextState:t}}}function u(e,t,n){return s("pushState",e,t,n)}function l(e,t,n){return s("replaceState",e,t,n)}function c(e){return function(){E("autoBreadcrumbsNavigation")&&N.leaveBreadcrumb(e.apply(null,arguments))}}if(U&&h.history&&h.history.state&&h.history.pushState&&h.history.pushState.bind){var d=history.pushState,f=history.replaceState;N.enableAutoBreadcrumbsNavigation=function(){N.autoBreadcrumbsNavigation=!0,p(history,"pushState",c(u)),p(history,"replaceState",c(l))},N.disableAutoBreadcrumbsNavigation=function(){N.autoBreadcrumbsNavigation=!1,history.pushState=d,history.replaceState=f},h.addEventListener("hashchange",c(e),!0),h.addEventListener("popstate",c(t),!0),h.addEventListener("pagehide",c(n),!0),h.addEventListener("pageshow",c(r),!0),h.addEventListener("load",c(o),!0),h.addEventListener("DOMContentLoaded",c(a),!0),E("autoBreadcrumbsNavigation")&&N.enableAutoBreadcrumbsNavigation()}}function i(){H=!1}function o(){var e=document.currentScript||I;if(!e&&H){var t=document.scripts||document.getElementsByTagName("script");e=t[t.length-1]}return e}function c(e){var t=o();t&&(e.script={src:t.src,content:w("inlineScript",!0)?t.innerHTML:""})}function p(e,t,n){var r=e[t];e[t]=function(){n.apply(this,arguments),"function"==typeof r&&r.apply(this,arguments)}}function d(e){var t=w("disableLog"),n=h.console;n===undefined||n.log===undefined||t||n.log("[Bugsnag] "+e)}function s(e,t){return y(e)===y(t)}function u(e){var t=e.textContent||e.innerText||"";return"submit"!==e.type&&"button"!==e.type||(t=e.value),m(t=t.replace(/^\s+|\s+$/g,""),140)}function f(e){var t=[e.tagName];if(e.id&&t.push("#"+e.id),e.className&&e.className.length){var n="."+e.className.split(" ").join(".");t.push(n)}var r=t.join("");if(!document.querySelectorAll||!Array.prototype.indexOf)return r;try{if(1===document.querySelectorAll(r).length)return r}catch(hd){return r}1<e.parentNode.childNodes.length&&(r=r+":nth-child("+(Array.prototype.indexOf.call(e.parentNode.childNodes,e)+1)+")");return 1===document.querySelectorAll(r).length?r:e.parentNode?f(e.parentNode)+" > "+r:r}function m(e,t){var n="(...)";return e&&e.length>t?e.slice(0,t-n.length)+n:e}function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function v(e,t,n){var r=(n||0)+1;if(w("maxDepth",$)<n)return"[RECURSIVE]";if("string"==typeof e)return m(e,t);if(g(e)){for(var i=[],o=0;o<e.length;o++)i[o]=v(e[o],t,r);return i}if("object"!=typeof e||null==e)return e;var a={};for(var s in e)e.hasOwnProperty(s)&&(a[s]=v(e[s],t,r));return a}function y(e,t,n){if(w("maxDepth",$)<=n)return encodeURIComponent(t)+"=[RECURSIVE]";n=n+1||1;try{if(h.Node&&e instanceof h.Node)return encodeURIComponent(t)+"="+encodeURIComponent(O(e));var r=[];for(var i in e)if(e.hasOwnProperty(i)&&null!=i&&null!=e[i]){var o=t?t+"["+i+"]":i,a=e[i];r.push("object"==typeof a?y(a,o,n):encodeURIComponent(o)+"="+encodeURIComponent(a))}return r.sort().join("&")}catch(hd){return encodeURIComponent(t)+"="+encodeURIComponent(""+hd)}}function b(e,t,n){if(null==t)return e;if(n>=w("maxDepth",$))return"[RECURSIVE]";for(var r in e=e||{},t)if(t.hasOwnProperty(r))try{t[r].constructor===Object?e[r]=b(e[r],t[r],n+1||1):e[r]=t[r]}catch(hd){e[r]=t[r]}return e}function _(e,t){if(e+="?"+y(t)+"&ct=img&cb="+(new Date).getTime(),"undefined"!=typeof BUGSNAG_TESTING&&N.testRequest)N.testRequest(e,t);else if("xhr"===w("notifyHandler")){var n=new XMLHttpRequest;n.open("GET",e,!0),n.send()}else{(new Image).src=e}}function S(e){var t={},n=/^data\-([\w\-]+)$/;if(e)for(var r=e.attributes,i=0;i<r.length;i++){var o=r[i];if(n.test(o.nodeName))t[o.nodeName.match(n)[1]]=o.value||o.nodeValue}return t}function w(e,t){V=V||S(X);var n=N[e]!==undefined?N[e]:V[e.toLowerCase()];return"false"===n&&(n=!1),n!==undefined?n:t}function C(e){return!(!e||!e.match(W))||(d("Invalid API key '"+e+"'"),!1)}function E(e){return w(e,w("autoBreadcrumbs",!0))}function k(e,t){var n=w("apiKey");if(C(n)&&j){j-=1;var r=w("releaseStage","production"),i=w("notifyReleaseStages");if(i){for(var o=!1,a=0;a<i.length;a++)if(r===i[a]){o=!0;break}if(!o)return}var s=[e.name,e.message,e.stacktrace].join("|");if(s!==R){R=s;var u={device:{time:(new Date).getTime()}},l={notifierVersion:G,apiKey:n,projectRoot:w("projectRoot")||h.location.protocol+"//"+h.location.host,context:w("context")||h.location.pathname,user:w("user"),metaData:b(b(u,w("metaData")),t),releaseStage:r,appVersion:w("appVersion"),url:h.location.href,userAgent:navigator.userAgent,language:navigator.language||navigator.userLanguage,severity:e.severity,name:e.name,message:e.message,stacktrace:e.stacktrace,file:e.file,lineNumber:e.lineNumber,columnNumber:e.columnNumber,breadcrumbs:M,payloadVersion:"3"},c=N.beforeNotify;if("function"==typeof c)if(!1===c(l,l.metaData))return;if(0===l.lineNumber&&/Script error\.?/.test(l.message))return d("Ignoring cross-domain or eval script error. See https://docs.bugsnag.com/platforms/browsers/faq/#3-cross-origin-script-errors");_(w("endpoint")||q,l)}}}function x(){var e,t,n=10,r="[anonymous]";try{throw new Error("")}catch(s){e="<generated>\n",t=T(s)}if(!t){e="<generated-ie>\n";var i=[];try{for(var o=arguments.callee.caller.caller;o&&i.length<n;){var a=z.test(o.toString())&&RegExp.$1||r;i.push(a),o=o.caller}}catch(hd){d(hd)}t=i.join("\n")}return e+t}function T(e){return e.stack||e.backtrace||e.stacktrace}function O(e){if(e){var t=e.attributes;if(t){for(var n="<"+e.nodeName.toLowerCase(),r=0;r<t.length;r++)t[r].value&&"null"!==t[r].value.toString()&&(n+=" "+t[r].name+'="'+t[r].value+'"');return n+">"}return e.nodeName}}function A(){L+=1,h.setTimeout(function(){L-=1})}function P(e,t,n){var r=e[t],i=n(r);e[t]=i,
"undefined"!=typeof BUGSNAG_TESTING&&h.undo&&h.undo.push(function(){e[t]=r})}var I,R,N={},D=!0,L=0,M=[],B=40,F="BugsnagNotify",j=10,$=5;N.breadcrumbLimit=20,N.noConflict=function(){return void 0===(h.Bugsnag=e)&&delete h.Bugsnag,N},N.refresh=function(){j=10},N.notifyException=function(e,t,n,r){if(!e){var i="Bugsnag.notifyException() was called with no arguments";return d(i),void N.notify(F,i)}if("string"==typeof e)return d("Bugsnag.notifyException() was called with a string. Expected instance of Error. To send a custom message instantiate a new Error or use Bugsnag.notify('<string>'). see https://docs.bugsnag.com/platforms/browsers/#reporting-handled-exceptions"),void N.notify.apply(null,arguments);t&&"string"!=typeof t&&(n=t,t=undefined),n||(n={}),c(n),k({name:t||e.name,message:e.message||e.description,stacktrace:T(e)||x(),file:e.fileName||e.sourceURL,lineNumber:e.lineNumber||e.line,columnNumber:e.columnNumber?e.columnNumber+1:undefined,severity:r||"warning"},n)},N.notify=function(e,t,n,r){e||(e=F,d(t="Bugsnag.notify() was called with no arguments")),k({name:e,message:t,stacktrace:x(),file:h.location.toString(),lineNumber:1,severity:r||"warning"},n)},N.leaveBreadcrumb=function(e,t){var n="manual",r={type:n,name:"Manual",timestamp:(new Date).getTime()};switch(typeof e){case"object":r=b(r,e);break;case"string":t&&"object"==typeof t?r=b(r,{name:e,metaData:t}):r.metaData={message:e};break;default:return void d("expecting 1st argument to leaveBreadcrumb to be a 'string' or 'object', got "+typeof e)}for(var i=[n,"error","log","navigation","process","request","state","user"],o=!1,a=0;a<i.length;a++)if(i[a]===r.type){o=!0;break}o||(d("Converted invalid breadcrumb type '"+r.type+"' to '"+n+"'"),r.type=n);var s=M.slice(-1)[0];if(l(r,s))s.count=s.count||1,s.count++;else{var u=Math.min(N.breadcrumbLimit,B);r.name=m(r.name,32),M.push(v(r,140)),M.length>u&&(M=M.slice(-u))}};var U="undefined"!=typeof h.addEventListener;N.enableAutoBreadcrumbsConsole=function(){},N.disableAutoBreadcrumbsConsole=function(){},N.enableAutoBreadcrumbsNavigation=function(){},N.disableAutoBreadcrumbsNavigation=function(){},N.enableAutoBreadcrumbsErrors=function(){N.autoBreadcrumbsErrors=!0},N.disableAutoBreadcrumbsErrors=function(){N.autoBreadcrumbsErrors=!1},N.enableAutoBreadcrumbsClicks=function(){N.autoBreadcrumbsClicks=!0},N.disableAutoBreadcrumbsClicks=function(){N.autoBreadcrumbsClicks=!1},N.enableAutoBreadcrumbs=function(){N.enableAutoBreadcrumbsClicks(),N.enableAutoBreadcrumbsConsole(),N.enableAutoBreadcrumbsErrors(),N.enableAutoBreadcrumbsNavigation()},N.disableAutoBreadcrumbs=function(){N.disableAutoBreadcrumbsClicks(),N.disableAutoBreadcrumbsConsole(),N.disableAutoBreadcrumbsErrors(),N.disableAutoBreadcrumbsNavigation()};var H="complete"!==document.readyState;document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!0),h.addEventListener("load",i,!0)):h.attachEvent("onload",i);var V,W=/^[0-9a-f]{32}$/i,z=/function\s*([\w\-$]+)?\s*\(/i,q="https://notify.bugsnag.com/"+"js",G="3.0.7",Y=document.getElementsByTagName("script"),X=Y[Y.length-1];if(h.atob){if(h.ErrorEvent)try{0===new h.ErrorEvent("test").colno&&(D=!1)}catch(hd){}}else D=!1;if(w("autoNotify",!0)){P(h,"onerror",function(u){return"undefined"!=typeof BUGSNAG_TESTING&&(N._onerror=u),function l(e,t,n,r,i){var o=w("autoNotify",!0),a={};if(!r&&h.event&&(r=h.event.errorCharacter),c(a),I=null,o&&!L){var s=i&&i.name||"window.onerror";k({name:s,message:e,file:t,lineNumber:n,columnNumber:r,stacktrace:i&&T(i)||x(),severity:"error"},a),E("autoBreadcrumbsErrors")&&N.leaveBreadcrumb({type:"error",name:s,metaData:{severity:"error",file:t,message:e,line:n}})}"undefined"!=typeof BUGSNAG_TESTING&&(u=N._onerror),u&&u(e,t,n,r,i)}});var K=function(r){return function(e,t){if("function"!=typeof e)return r(e,t);e=a(e);var n=Array.prototype.slice.call(arguments,2);return r(function(){e.apply(this,n)},t)}};P(h,"setTimeout",K),P(h,"setInterval",K),h.requestAnimationFrame&&P(h,"requestAnimationFrame",function(t){return function(e){return t(a(e))}}),h.setImmediate&&P(h,"setImmediate",function(t){return function(){var e=Array.prototype.slice.call(arguments);return e[0]=a(e[0]),t.apply(this,e)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(e){var t=h[e]&&h[e].prototype;t&&t.hasOwnProperty&&t.hasOwnProperty("addEventListener")&&(P(t,"addEventListener",function(o){return function(e,t,n,r){try{t&&t.handleEvent&&(t.handleEvent=a(t.handleEvent,{eventHandler:!0}))}catch(i){d(i)}return o.call(this,e,a(t,{eventHandler:!0}),n,r)}}),P(t,"removeEventListener",function(i){return function(e,t,n,r){return i.call(this,e,t,n,r),i.call(this,e,a(t),n,r)}}))})}t(),n(),r(),w("autoBreadcrumbs",!0)&&N.leaveBreadcrumb({type:"navigation",name:"Bugsnag Loaded"}),h.Bugsnag=N,"function"==typeof define&&define.amd?define([],function(){return N}):"object"==typeof J.exports&&(J.exports=N)}(window,window.Bugsnag)});(function(){var u,o,e,t,n,r,i,a=[].slice;u=["error loading script","script error","unknown error","npobject","hui_container","netdefender","datafastguru","tlscdn","injectedscript","KW__","property 'tgt'","chrome-extension"],i=(n=document.querySelector("meta[name='shopify-admin-config']"))?n.getAttribute("content"):"{}",e=JSON.parse(i||"{}"),Bugsnag.releaseStage=e.env,Bugsnag.notifyReleaseStages=["production","performance"],Bugsnag.apiKey=e.bugsnag_theme_editor_key,Bugsnag.endpoint=e.bugsnag_endpoint,Bugsnag.appVersion=e.version,Bugsnag.user={shop_name:location.host},Bugsnag.user.id=null!=(r=Shopify.currentUser)?r.id:void 0,Bugsnag.breadcrumbLimit=40,Bugsnag.autoCaptureSessions=!1,Bugsnag.disable=function(){return Bugsnag.beforeNotify=function(){return!1}},Bugsnag.beforeNotify=function(e){var t,n,r,i,o,a;try{if(-1!==document.cookie.indexOf("use_unsupported_browsers"))return!1;if(/:\/\/(?![^\/]*shopify)/.test(e.stacktrace||""))return!1;if(/myshopify\.com\/(?!admin)/.test(e.stacktrace||""))return!1;for(i=((e.message||"")+(e.stacktrace||"")+((null!=(o=e.metaData)&&null!=(a=o.script)?a.content:void 0)||"")).toLowerCase(),t=0,r=u.length;t<r;t++)if(n=u[t],-1!==i.indexOf(n))return!1;return e.context="ThemeEditor"}catch(s){s}},o=function(e){var t,n,r;if(t=_.clone(e),_.isArray(e))t={value:t};else if(_.isObject(e))for(n in t.window&&delete t.window,e)r=e[n],_.isObject(r)&&delete t[n];return t},t=function(e,t){var n;return n=e.detail.options.data instanceof FormData?{}:$.param(e.detail.options.data||{}),Bugsnag.leaveBreadcrumb({type:"log",name:"[AJAX] "+t,metaData:{id:e.detail.id,url:e.detail.options.url,response:e.detail.data,timestamp:e.timeStamp,params:n}})},document.addEventListener("ajax:before",function(e){return t(e,"start")}),document.addEventListener("ajax:done",function(e){return t(e,"done")}),document.addEventListener("ajax:fail",function(e){return t(e,"fail")}),document.addEventListener("ajax:abort",function(e){return t(e,"abort")}),document.addEventListener("ajax:error",function(e){return t(e,"error"),Bugsnag.notifyException(e.detail.error,"[AJAX] error")}),document.addEventListener("DOMContentLoaded",function(){var i,r,n;return Bugsnag.user.partner=Shopify.isPartnerShop,Bugsnag.user.sections=Shopify.hasSections,r=Messenger.prototype.notify,n=State.prototype._publish,i=UI.ThemeEditor.prototype.action,Messenger.prototype.notify=function(e,t){try{Bugsnag.leaveBreadcrumb({type:"log",name:"[Messenger] "+e,metaData:o(t)})}catch(n){}return r.call(this,e,t)},State.prototype._publish=function(e){try{Bugsnag.leaveBreadcrumb({type:"log",name:"[State] "+e,metaData:o(this.get(e))})}catch(t){}return n.call(this,e)},UI.ThemeEditor.prototype.action=function(e){var t,n;t=e,n=2<=arguments.length?a.call(arguments,1):[];try{Bugsnag.leaveBreadcrumb({type:"user",name:"[Action] "+t})}catch(r){}return i.call.apply(i,[this,t].concat(a.call(n)))}}),window.addEventListener("beforeunload",function(){Bugsnag.disable()})}).call(this);var dt=e(function(e,t){"use strict";function n(e){var t=!0,n=!1,r=undefined;try{for(var i,o=Object.entries(l)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=c(i.value,2),s=a[0];if(a[1].test(e))return s}}catch(u){n=!0,r=u}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}return null}Object.defineProperty(t,"__esModule",{value:!0}),t.getResourceTypeByURL=n;var l={product:/\/products\/[\d\w-]+/i,collection:/\/collections\/?[\d\w-]*/i,page:/\/pages\/[\d\w-]+/i,article:/\/blogs\/[\d\w-]+\/[\d\w-]+/i,blog:/\/blogs\/[\d\w-]+/i}});(function(){var a=[].slice;Shopify.dedupedXHR=function(n,r){var i,o;return null==r&&(r=null),o=i=null,function(){var e,t;return e=1<=arguments.length?a.call(arguments,0):[],"pending"===(null!=i?i.state():void 0)&&i.abort(),null!=r?(t=this,clearTimeout(o),o=setTimeout(function(){return i=n.apply(t,e)},r)):i=n.apply(this,e)}}}).call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};Shopify.ModalKeyboardSelector=function(){function e(e,t,n,r){this.childSelector=t,null==r&&(r={}),this.keypressHandler=i(this.keypressHandler,this),this.$input=$(e),this.selectedClass=r.selectedClass||"is-selected",this.selectedOptionId="selected-option-"+_.uniqueId(),this.$modalNode=$(n),this.$modalBody=this.$modalNode.find("."+Shopify.UIModal.CLASSES.BODY),this.$input.on("keydown",this.keypressHandler)}return e.prototype.set=function(e,t){if(null==t&&(t=!1),this.clearSelection(),this.children=e.find(this.childSelector).toArray(),t&&this.children.length)return this.focusOption(0)},e.prototype.add=function(e){return null==this.children&&(this.children=[]),this.children=this.children.concat(e.find(this.childSelector).toArray())},e.prototype.hasSelection=function(){return null!=this.$lastSelectedNode},e.prototype.clearSelection=function(){var e;return(this.selectedIndex=null)!=(e=this.$lastSelectedNode)&&e.removeClass(this.selectedClass).removeAttr("id"),this.$lastSelectedNode=null},e.prototype.clear=function(){return this.children=[],this.clearSelection()},e.prototype.keypressHandler=function(e){switch(e.which){case Shopify.Keycodes.ENTER:return this._selectOption(e);case Shopify.Keycodes.UP:return this._focusPreviousOption(e);case Shopify.Keycodes.DOWN:return this._focusNextOption(e)}},e.prototype.focusOption=function(e){var t,n;return _.isEmpty(this.children)?this.clearSelection():(this.selectedIndex=Math.max(Math.min(this.children.length-1,e),0),null!=(t=this.$lastSelectedNode)&&t.removeClass(this.selectedClass),null!=(n=this.$lastSelectedNode)&&n.removeAttr("id"),this.$lastSelectedNode=$(this.children[this.selectedIndex]),this.$lastSelectedNode.addClass(this.selectedClass),this.$lastSelectedNode.attr({id:this.selectedOptionId}),this._scrollToSelectedNode())},e.prototype._selectOption=function(e){var t;if(this.hasSelection())return e.preventDefault(),null!=(t=this.$lastSelectedNode)?t.trigger("click"):void 0},e.prototype._focusPreviousOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.$lastSelectedNode?this.focusOption(this.selectedIndex-1):this.focusOption(0)},e.prototype._focusNextOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.$lastSelectedNode?this.focusOption(this.selectedIndex+1):this.focusOption(0)},e.prototype._scrollToSelectedNode=function(){var e,t;if((e=this.$lastSelectedNode).length&&(t=e.closest(this.$modalBody)[0])){if(0!==this.selectedIndex)return Shopify.Scrolling.scrollToElement(t,e[0]);t.scrollTop=0}},e}()}.call(this),function(){var a;Shopify.Scrolling={scrollToElement:function(e,t){var n,r,i,o;if(!(e.offsetHeight>=e.scrollHeight))return r=a(t)-a(e),i=e.offsetHeight,o=e.scrollTop,n=t.offsetHeight,r<0?e.scrollTop=o+r:i<r+n?e.scrollTop=o+r-i+n:void 0}},a=function(e){return e.getBoundingClientRect().top+window.pageXOffset-document.documentElement.clientTop}}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};window.Shopify.PaginatedPopoverKeyboardSelector=function(){function e(e,t,n,r){this.childSelector=t,null==r&&(r={}),this.keypressHandler=i(this.keypressHandler,this),this.$input=$(e),this.selectedClass=r.selectedClass||"is-selected",this.selectedOptionId="selected-option-"+_.uniqueId(),this.$popoverNode=$(n),this.$popoverPane=this.$popoverNode.find("."+Shopify.UIPopover.CLASSES.PANE),this.popover=Shopify.UIPopover["for"](this.$popoverNode[0]),this.$input.on("keydown",this.keypressHandler),this._setupAccessibility()}var r;return r="popover-announce-selected",e.prototype.set=function(e,t){if(null==t&&(t=!1),this.clearSelection(),this.children=e.find(this.childSelector).toArray(),this._setupAccessibilitySelectionRoles(e),t&&this.children.length)return this.focusOption(0)},e.prototype.add=function(e){return null==this.children&&(this.children=[]),this.children=this.children.concat(e.find(this.childSelector).toArray()),this._setupAccessibilitySelectionRoles(e)},e.prototype.hasSelection=function(){return null!=this.$lastSelectedNode&&this.popover.isActive()},e.prototype.clearSelection=function(){var e;return(this.selectedIndex=null)!=(e=this.$lastSelectedNode)&&e.removeClass(this.selectedClass).removeAttr("id"),this.$lastSelectedNode=null,$("#"+r).text("")},e.prototype.clear=function(){return this.children=[],this.clearSelection()},e.prototype.keypressHandler=function(e){switch(e.which){case Shopify.Keycodes.ENTER:return this._selectOption(e);case Shopify.Keycodes.UP:return this._focusPreviousOption(e);case Shopify.Keycodes.DOWN:return this._focusNextOption(e)}},e.prototype.focusOption=function(e){var t,n;return _.isEmpty(this.children)?this.clearSelection():(this.selectedIndex=Math.max(Math.min(this.children.length-1,e),0),null!=(t=this.$lastSelectedNode)&&t.removeClass(this.selectedClass),null!=(n=this.$lastSelectedNode)&&n.removeAttr("id"),this.$lastSelectedNode=$(this.children[this.selectedIndex]),this.$lastSelectedNode.addClass(this.selectedClass),this.$lastSelectedNode.attr({id:this.selectedOptionId}),this._scrollToSelectedNode(),this.popover.isActive()?$("#"+r).text(this.$lastSelectedNode.text()):void 0)},e.prototype._setupAccessibilitySelectionRoles=function(e){if(e.find("li").attr({role:"option"}),e.is("li"))return e.attr({role:"option"})},e.prototype._setupAccessibility=function(){var e,t;if(t=(e=this.$popoverNode.find("ul")).attr("id")||"popover-dropdown-"+_.uniqueId(),e.attr({role:"listbox",id:t}),this.$input.attr({role:"combobox","aria-autocomplete":"list","aria-activedescendant":this.selectedOptionId,"aria-controls":"popover-announce-selected","aria-owns":t,"aria-haspopup":"false"}),!$("#"+r).length)return $("<div id='"+r+"' class='helper--visually-hidden' aria-live='polite'></div>").appendTo("body")},e.prototype._selectOption=function(e){var t;if(this.hasSelection())return e.preventDefault(),null!=(t=this.$lastSelectedNode)?t.trigger("click"):void 0},e.prototype._focusPreviousOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.popover.isActive()?this.$lastSelectedNode?this.focusOption(this.selectedIndex-1):this.focusOption(0):this._openAndAnnounceSelection()},e.prototype._focusNextOption=function(e){if(e.preventDefault(),!_.isEmpty(this.children))return this.popover.isActive()?this.$lastSelectedNode?this.focusOption(this.selectedIndex+1):this.focusOption(0):this._openAndAnnounceSelection()},e.prototype._openAndAnnounceSelection=function(){var e;return this.popover.activate(),$("#"+r).text(null!=(e=this.$lastSelectedNode)?e.text():void 0)},e.prototype._scrollToSelectedNode=function(){var e,t;if((e=this.$lastSelectedNode).length&&(t=e.closest(this.$popoverPane)[0]))if(0!==this.selectedIndex){if(!(this.selectedIndex>=this.children.length-1))return Shopify.Scrolling.scrollToElement(t,e[0]);t.scrollTop=t.scrollHeight}else t.scrollTop=0},e}()}.call(this),function(){var r,t,i,o,a,s=function(e,t){return function(){return e.apply(t,arguments)}};t=500,o={TITLE:".js-title",RESULTS_LIST:".js-results-list",SELECTABLE:"[selectable]",ADD_PRODUCTS:"#add-products"},r=function(){function r(e){this.rootNode=e,this.$body=$(this.rootNode).find("."+Shopify.UIModal.CLASSES.BODY)}return r["for"]=function(e){var t,n;if(n=(t=$(e)).closest("."+Shopify.UIModal.CLASSES.BASE)[0]||t.find("."+Shopify.UIModal.CLASSES.BASE)[0])return new r(n)},r.prototype.onBodyScroll=function(e){return this.$body.off("scroll"),this.$body.on("scroll",e)},r.prototype.keyboardSelectorForInput=function(e){return new Shopify.ModalKeyboardSelector(e,o.SELECTABLE,this.rootNode)},r.prototype.scrollArea=function(){return this.$body[0]},r.prototype.close=function(){return Shopify.UIModal.hide()},r.prototype.open=function(){},r.prototype.onHide=function(e,t){return this.callback=function(){return e(),t()},Shopify.rootDispatcher.register(Shopify.UIModal.EVENTS.HIDE,this.callback)},r.prototype.cleanup=function(){return Shopify.rootDispatcher.remove(Shopify.UIModal.EVENTS.HIDE,this.callback)},r.prototype.isActive=function(){return!0},r}(),i=function(){function n(e){this.popoverNode=e,this.$pane=$(this.popoverNode).find("."+Shopify.UIPopover.CLASSES.PANE),this.popover=Shopify.UIPopover["for"](this.popoverNode)}return n["for"]=function(e){var t;if(t=$(e).find("."+Shopify.UIPopover.CLASSES.BASE)[0])return new n(t)},n.prototype.onBodyScroll=function(e){return this.$pane.on("scroll",e)},n.prototype.keyboardSelectorForInput=function(e){return new Shopify.PaginatedPopoverKeyboardSelector(e,o.SELECTABLE,this.popoverNode)},n.prototype.scrollArea=function(){return this.$pane[0]},n.prototype.close=function(){return Shopify.UIPopover.deactivate()},n.prototype.open=function(){return this.popover.activate()},n.prototype.onHide=function(e,t){return this.beginCallback=e,this.endCallback=t,$(this.popoverNode).on(Shopify.UIPopover.EVENTS.DEACTIVATING,this.beginCallback),$(this.popoverNode).on(Shopify.UIPopover.EVENTS.DEACTIVATED,this.endCallback)},n.prototype.cleanup=function(){return $(this.popoverNode).off(Shopify.UIPopover.EVENTS.DEACTIVATING,this.beginCallback),$(this.popoverNode).off(Shopify.UIPopover.EVENTS.DEACTIVATED,this.endCallback)},n.prototype.isActive=function(){return this.popover.isActive()},n}(),a=function(e){var t,n;return(n=i["for"](e))?n:(t=r["for"](e))?t:void 0},Shopify.ResourceBrowser=function(){function e(e,t,n){var r;if(null==n&&(n={}),this._cleanup=s(this._cleanup,this),this._reset=s(this._reset,this),this._onHideBegin=s(this._onHideBegin,this),this._onKeydown=s(this._onKeydown,this),this._onMouseOut=s(this._onMouseOut,this),this._onScroll=s(this._onScroll,this),this.inputChangedImmediately=s(this.inputChangedImmediately,this),this.titleTemplate=Shopify.Templates.precompile($("#resource-browser-title").html()),this.rootState=t,this.currentState=this.rootState,this.preserveInputOnStateChange=n.preserveInputOnStateChange,this.$node=$(e),this.$resultsList=this.$node.find(o.RESULTS_LIST),this.$title=this.$node.find(o.TITLE),this.$addProducts=this.$node.find(o.ADD_PRODUCTS),this.displayAdapter=a(e),!this.displayAdapter)throw new Error("No modal or popover found around the ResourceBrowser node");this.displayAdapter.onBodyScroll(this._onScroll),this.$input=this.$node.find(".js-resource-browser-input"),this.input="",this.inputChanged=Shopify.dedupedXHR(this.inputChangedImmediately,200),this.$node.on("mouseout",o.RESULTS_LIST,this._onMouseOut),this.$input.on("keydown",this._onKeydown),this.$input.off("input"),this.$input.on("input",this.inputChanged),this.$input.on("click",!1),this.displayAdapter.onHide(this._onHideBegin,this._reset),this.keyboardSelector=this.displayAdapter.keyboardSelectorForInput(this.$input[0]),this.inputChangedImmediately(),null!=(r=window.Page)&&"function"==typeof r.onReplace&&r.onReplace(e,this._cleanup)}return e.prototype.inputChangedImmediately=function(){var t,n,e,r;return t=!1,Twine.unbind(this.$resultsList[0]),this.$resultsList.empty(),this.keyboardSelector.clear(),n=this.currentState,e=this.currentState.inputChanged(this._input(),(r=this,function(e){if(n===r.currentState)return t=!0,r.loading=!1,Twine.unbind(r.$resultsList[0]),r.$resultsList.html(e),Twine.bind(r.$resultsList[0],r),r.keyboardSelector.set(r.$resultsList,!0),Twine.refresh()})),t||(this.loading=!0,Twine.refresh()),e},e.prototype.itemSelected=function(e,t){return e.stopPropagation(),this.currentState=this.currentState.itemSelected(t),this._stateChanged(),this.$input.focus()},e.prototype.showTitle=function(){return this.rootState!==this.currentState},e.prototype.returnTo=function(e,t){var n;for(e.stopPropagation();(n=this.currentState.parentNode())&&this.currentState.__id!==t;)this.currentState=n;return this._stateChanged(),this.$input.focus()},e.prototype.hasInput=function(){return!!this._input()},e.prototype.close=function(){return this.displayAdapter.close()},e.prototype._stateChanged=function(){return this.loading=!1,this.preserveInputOnStateChange||(this.input=""),this._redrawTitle(),this.inputChangedImmediately()},e.prototype._input=function(){var e,t;return null!=(e=null!=(t=this.input)?t.trim():void 0)?e:""},e.prototype._redrawTitle=function(){if(this.$title[0])return Twine.unbind(this.$title[0]),this.$title.html(this._renderTitle()),Twine.bind(this.$title[0])},e.prototype._renderTitle=function(){var e,t,n;if(this.showTitle())return null==(t=(n=this.currentState).parentNode()).__id&&(t.__id=_.uniqueId()),t!==this.currentState&&(e=t.__id),this.titleTemplate({previousId:e,title:n.title()})},e.prototype._onScroll=function(){var n,r,e,i,o;if(!this.loading&&(this.currentState.hasNextPage()&&!((e=this.displayAdapter.scrollArea()).scrollTop+e.offsetHeight+t<e.scrollHeight)))return n=!1,r=this._input(),i=this.currentState,this.currentState.renderNextPage((o=this,function(e){var t;if(i===o.currentState&&o._input()===r)return n=!0,o.loading=!1,t=$(e),_.each(t.filter("*"),function(e){return Twine.bind(e,o)}),o.$resultsList.append(t),o.keyboardSelector.add(t),Twine.refresh()})),n?void 0:(this.loading=!0,Twine.refresh())},e.prototype._onMouseOut=function(){return this.keyboardSelector.clearSelection()},e.prototype._onKeydown=function(e){var t;return e.which===Shopify.Keycodes.ESCAPE?(t=this.currentState.parentNode(),e.stopPropagation(),this.hasInput()?(this.input="",this.inputChangedImmediately()):t?(this.currentState=t,this._stateChanged()):this.close()):this.displayAdapter.isActive()?void 0:this.displayAdapter.open()},e.prototype._onHideBegin=function(){return this.input="",Twine.refresh()},e.prototype._reset=function(){return this.currentState=this.rootState,this._stateChanged()},e.prototype._cleanup=function(){return this.displayAdapter.cleanup()},e}()}.call(this);e(function(){"use strict";se($)["default"].ajaxPrefilter(function(e,t,n){if(!e.crossDomain&&null!=e.url){var r=e.url;(r.startsWith("/admin")||r.includes(location.host))&&n.setRequestHeader("X-Shopify-Web","1")}}),document.addEventListener("turbograft:remote:init",function(e){e.data.xhr.setRequestHeader("X-Shopify-Web","1")})});(function(){var n;n='meta[name="csrf-token"]',Shopify.CSRFToken={get:function(){return $(n).attr("content")},update:function(){var t,e;return t=jQuery.Deferred(),0===$(n).length?t.reject():((e=$.get(Shopify.routes.auth_token().html)).fail(function(){return t.reject()}),e.done(function(e){return(e=e.slice(12))===Shopify.CSRFToken.get()?t.reject():($(n).attr("content",e),e!==Shopify.CSRFToken.get()?t.reject():t.resolve())})),t.promise()},updateOrRedirect:function(){return this.update().fail(function(){return $(window).off("beforeunload"),window.location=Shopify.routes.auth_login().html})}},$.ajaxPrefilter(function(e,t,n){e.crossDomain||n.setRequestHeader("X-CSRF-Token",Shopify.CSRFToken.get())})}).call(this);var ft=e(function(e,t){"use strict";function p(e){return Boolean(e.getResponseHeader("X-Shopify-Login-Required"))}function y(e){return Boolean(e.getResponseHeader("X-Shopify-Password-Required")||e.getResponseHeader("X-Shopify-Browser-Unsupported"))}function b(){$(window).off("beforeunload"),location.reload()}function m(){return r["default"].update()}function g(e){return 200<=e.status&&e.status<300||304===e.status}function _(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=document.createEvent("Event");return r.detail=n,r.initEvent(e,!1,!1),document.dispatchEvent(r),r}function n(e){return new i(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Ajax=undefined,t["default"]=n;var r=se(Shopify.CSRFToken),S={BEFORE:"ajax:before",DONE:"ajax:done",FAIL:"ajax:fail",ERROR:"ajax:error",ABORT:"ajax:abort",PROGRESS:"ajax:progress"},i=t.Ajax=function(){function t(e){le(this,t),this.id=Date.now(),this.doneHandlers=[],this.failHandlers=[],this.alwaysHandlers=[],this.progressHandlers=[],this.options=$.extend({},e),this.options.formData&&(this.options.data=this.options.formData,this.options.contentType=!1,this.options.processData=!1,delete this.options.formData),this.xhr=this._exec()}return ue(t,[{key:"done",value:function n(e){return this.doneHandlers.push(e),this}},{key:"fail",value:function r(e){return this.failHandlers.push(e),this}},{key:"progress",value:function i(e){return this.progressHandlers.push(e),this}},{key:"always",value:function o(e){return this.alwaysHandlers.push(e),this}},{key:"abort",value:function e(){return this.xhr.abort(),this}},{key:"state",value:function a(){return this.xhr.state()}},{key:"retry",value:function s(){return this.abort(),this.xhr=this._exec(),this}},{key:"_exec",value:function u(){var e=this;return _(S.BEFORE,{id:this.id,options:this.options}),$.ajax(this._ajaxOptions()).done(function(){return e._done.apply(e,arguments)}).fail(function(){return e._fail.apply(e,arguments)})}},{key:"_ajaxOptions",value:function l(){return $.extend(this.options,{xhr:this._setupXhr.bind(this)})}},{key:"_setupXhr",value:function d(){var c=this,e=$.ajaxSettings.xhr();return e.upload.onprogress=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_(S.PROGRESS,{id:c.id,options:c.options,event:e});var i=!0,o=!1,a=undefined;try{for(var s,u=c.progressHandlers[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){s.value.apply(undefined,[e].concat(n))}}catch(l){o=!0,a=l}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}},e}},{key:"_done",value:function f(e,t,n){if(p(n))this._reauthenticateAndRetry();else if(y(n))b();else{_(S.DONE,{id:this.id,options:this.options,data:e,status:t,xhr:n});var r=this.doneHandlers.concat(this.alwaysHandlers),i=!0,o=!1,a=undefined;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this._handleResponse(l,{data:e,status:t,xhr:n})}}catch(c){o=!0,a=c}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}}}},{key:"_fail",value:function v(e,t,n){if("abort"!==t)if(y(e))b();else if(403!==e.status){_(S.FAIL,{id:this.id,options:this.options,xhr:e,status:t,data:n});var r=this.failHandlers.concat(this.alwaysHandlers),i=!0,o=!1,a=undefined;try{for(var s,u=r[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var l=s.value;this._handleResponse(l,{xhr:e,status:t,data:n})}}catch(g){o=!0,a=g}finally{try{!i&&u["return"]&&u["return"]()}finally{if(o)throw a}}}else this._reauthenticateAndRetry();else{_(S.ABORT,{id:this.id,options:this.options,xhr:e,status:t,data:n});var c=!0,d=!1,f=undefined;try{for(var h,p=this.alwaysHandlers[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var m=h.value;this._handleResponse(m,{xhr:e,status:t,data:n})}}catch(g){d=!0,f=g}finally{try{!c&&p["return"]&&p["return"]()}finally{if(d)throw f}}}}},{key:"_handleResponse",value:function c(e,t){var n=t.xhr,r=t.status,i=t.data;try{g(n)?e(i,r,n):e(n,r,i)}catch(o){_(S.ERROR,{id:this.id,options:this.options,xhr:n,status:r,data:i,error:o})}}},{key:"_reauthenticateAndRetry",value:function h(){return m().done(this.retry.bind(this)).fail(b)}}]),t}();Shopify.ajax=null!=t["default"]?t["default"]:t});(function(){Shopify.ResourceBrowser.Node=function(){function e(e,t,n,r){this.parent=e,this.resourceType=t,this.resourceRoute=n,this.templates=r,this.child=null,"function"==typeof this.initialize&&this.initialize()}var s;return s=50,e.prototype.parentNode=function(){return this.parent},e.prototype.inputChanged=function(e,t){return this.input=e,this._fetchResources(null,t,!0)},e.prototype.registerResultsInterpolator=function(e){return this.resultsInterpolator=e},e.prototype.renderNextPage=function(e){return this._fetchResources(this.nextPageParams,e)},e.prototype.hasNextPage=function(){return!!this.nextPageParams},e.prototype.itemSelected=function(e){var t,n,r;return r=e.title,n=e.id,(t={})[this.resourceType]=n,this.child.visit(t,r)},e.prototype.visit=function(e,t){return this.filter=e,this.selectedTitle=t,this},e.prototype.title=function(){return this.selectedTitle},e.prototype.getSearchPlaceholder=function(){return"Find "+this.selectedTitle.toLowerCase()+"..."},e.prototype._render=function(e,t){return _.isEmpty(e)?t?this.templates.noResults({input:this.input,type:this.resourceType}):void 0:this.templates.results({resources:e,firstPage:t,type:this.resourceType})},e.prototype._fetchResources=function(e,n,r){var t,i,o,a;return null==r&&(r=!1),t={limit:s,type:this.resourceType},this.input&&(t.query=this.input),e&&(t=_.merge(t,e)),this.filter&&(t=_.merge(t,this.filter)),(i=Shopify.ajax({dataType:"json",url:this.resourceRoute,data:t})).done((o=this,function(e){var t;return null==e&&(e={}),o.nextPageParams=e.next_page_params,t=o._updateResults(e.results,r),n(o._render(t,r,e),t)})),i.fail((a=this,function(e,t){if("abort"!==t)return Shopify.handleError.apply(Shopify,arguments),n(a._render(null,r))}))},e.prototype._updateResults=function(e,t){return this.resultsInterpolator&&(e=this.resultsInterpolator(e,t)),e},e}()}).call(this);var ht=e(function(e,t){"use strict";function n(){try{return new URL("https://shopify.com"),!0}catch(e){return!1}}function l(e){try{var t=new URL(e);return!t.username&&!t.password}catch(n){return!1}}Object.defineProperty(t,"__esModule",{value:!0});var c=se(_),r=se(Shopify.ResourceBrowser.Node),d={isEmailAddress:/^mailto:+\S*@\S*\.\S{2,}/,isTelephoneNumber:/^tel:.{1,}/,isHashURL:/^#/,isRootRelativeURL:/^\//},f=/\S\.\S{2,}/,i=function(e){function i(){return le(this,i),de(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return ce(i,e),ue(i,[{key:"initialize",value:function t(){this.children={}}},{key:"parentNode",value:function n(){}},{key:"inputChanged",value:function r(e,t){return(this.input=e)?this._fetchResources(null,t,!0):(t(this.templates.types(),null),null)}},{key:"itemSelected",value:function o(e){return this.children[e].visit(null,e)}},{key:"visit",value:function a(){return this}},{key:"_render",value:function s(e,t,n){var r=e&&"undefined"!=typeof e[0]&&e[0].type;return c["default"].isEmpty(e)?c["default"].isEmpty(n.aggregations)?t?this.templates.noResults({input:this.input,firstPage:t,isValidURL:i.isValidLink,suggestURL:!0,showAllOption:!1}):"":this.templates.typesWithCounts({input:this.input,aggs:n.aggregations,isValidURL:i.isValidLink,suggestURL:!0,showAllOption:!1}):this.templates.singleResource(c["default"].merge(i.allOption(r),{firstPage:t,input:this.input,resources:e,type:r,total:n.total,isValidURL:i.isValidLink,suggestURL:!0}))}}],[{key:"isValidLink",value:function e(t){var e=Object.values(d).some(function(e){return e.test(t)});return!!e||!!f.test(t)&&(!i.isUrlApiSupported||l(t.includes("://")?t:"http://"+t))}},{key:"allOption",value:function u(e){return{showAllOption:e&&("collection"===e||"product"===e),allOptionTitle:"collection"===e?"All Collections":"All Products",allOptionUrl:"collection"===e?"shopify://collections":"shopify://collections/all",allOptionPublicUrl:"collection"===e?"/collections":"/collections/all"}}}]),i}(r["default"]);i.isUrlApiSupported=n(),t["default"]=i}),pt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=se(_),n=se(Shopify.ResourceBrowser.Node),a=se(ht),r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"_render",value:function i(e,t,n){var r=o["default"].merge(a["default"].allOption(this.resourceType),{firstPage:t,input:this.input,showBackButton:!0,suggestURL:!1,total:0,type:this.resourceType});return o["default"].isEmpty(e)?t?this.templates.noResults(r):"":(r.resources=e,r.total=n.total,this.templates.results(r))}}]),t}(n["default"]);t["default"]=r});(function(){Shopify.Templates={precompile:function(e){return _.template(e)},render:function(e,t){return _.isFunction(e)?e(t):_.template(e)(t)},renderAndAppend:function(e,t,n){return n.append(this.render(e,t))},renderAppendAndBind:function(e,t,n){
return Shopify.Templates.renderAndAppend(e,t,n),Bindings.bind(n[0])},unbindAndRemove:function(e){return Bindings.unbind(e[0]),e.remove()},renderSetAndBind:function(e,t,n){return Bindings.unbind(n[0]),n.html(this.render(e,t)),Bindings.bind(n[0])}}}).call(this);var mt=e(function(e,t){"use strict";function i(){return r["default"].mapValues({noResults:"#url-browser-no-results-template",types:"#url-browser-types-list-template",typesWithCounts:"#url-browser-types-with-counts-list-template",singleResource:"#url-browser-single-resource-template"},function(e){return c["default"].precompile($(e).html())})}function u(){var t=i(),n=d.url_settings().json,r=new s["default"](null,null,n,t);return["collection","product","page","article","blog","shop_policy"].forEach(function(e){r.children[e]=new a["default"](r,e,n,{results:t.singleResource,noResults:t.noResults})}),r}function l(t){return![f,h].some(function(e){return t.match(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.EXTERNAL_URL_REGEX=undefined;var n=se(Twine),r=se(_),o=se(Shopify.ResourceBrowser),a=se(pt),s=se(ht),c=se(Shopify.Templates),d=m(lt),f=t.EXTERNAL_URL_REGEX=/^(https?|mailto|tel):/i,h=/^(#|\/)/i,p=function(e){function r(e){le(this,r);var t=u(),n=de(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t,{preserveInputOnStateChange:!0}));return n.$hiddenField=n.$node.find(".js-url-browser-output"),n}return ce(r,e),ue(r,[{key:"setExternalUrl",value:function t(){var e=this.input.trim();l(e)&&(e="http://"+e),this.selectUrl({id:e,title:e,url:e,public_url:e,type:"external"})}},{key:"selectUrl",value:function n(e){this._setValue(e),this.close(),this._reset()}},{key:"unselectUrlOnClick",value:function i(){var e=this;this._setValue({}),setTimeout(function(){return e.$input.focus()},0)}},{key:"showTitle",value:function o(){return!1}},{key:"goBack",value:function a(e){e.stopPropagation(),e.preventDefault(),this.currentState=this.currentState.parent,this.inputChangedImmediately()}},{key:"_setValue",value:function s(e){this.$hiddenField.val(JSON.stringify(e)).change()}}]),r}(o["default"]);t["default"]=p,n["default"].register("UrlBrowser",p),Shopify.UrlBrowser=null!=t["default"]?t["default"]:t}),gt=e(function(e,t){"use strict";function n(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/(android|iphone|ipad|mobile|phone)/i.test(t)}function r(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/((android.*mobile)|iphone|phone)/i.test(t)}function i(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/((android(?!.*mobile))|iPad)(?!.*phone)/i.test(t)}function o(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/(chrome|safari|firefox|msie)/i.test(t)}function a(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/windows/i.test(t)}function s(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/mac(\s*os|intosh|.*p(ower)?pc)/i.test(t)}function u(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/^((?!chrome|android).)*safari/i.test(t)}function l(e){var t=0<arguments.length&&e!==undefined?arguments[0]:navigator.userAgent;return/(iphone|ipad|ipod)/i.test(t)}function c(){return Boolean(window.MSInputMethodContext&&document.documentMode)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMobile=n,t.isPhone=r,t.isTablet=i,t.isKnownBrowser=o,t.isWindows=a,t.isMac=s,t.isSafari=u,t.isIOS=l,t.isIE11=c,Shopify.Browser=null!=t["default"]?t["default"]:t}),vt=(e(function(e,t){"use strict";function n(e){return e&&"A"===e.nodeName}function T(e){return tinymce.util.Tools.grep(e,n)[0]}function O(e){var t=document.createTextNode(e.innerHTML);return e.parentNode.replaceChild(t,e),t}Object.defineProperty(t,"__esModule",{value:!0});var A=".js-resource-browser-input",P=".js-url-browser-output",I=".js-selected-item",R=".js-selected-text"+" a",N=".js-picker-over",D="[data-richtext-sandbox]",L='[data-link-action="add"]',M='[data-link-action="remove"]',B=".js-edit-btn",F=".js-remove-btn",j="a:not(a[href])",r=function(){function t(e){le(this,t),this.$container=e,this.open=!1,this._onSelectionChange=this._onSelectionChange.bind(this),this._onClickOutsidePicker=this._onClickOutsidePicker.bind(this),this._selectionFrame=this._selectionFrame.bind(this)}return ue(t,[{key:"initialize",value:function n(e){this.editor=e,this.$pickerContainer=this.$container.find(N),this.$hiddenField=this.$pickerContainer.find(P),this.$link=this.$pickerContainer.find(R),this.$container.on("click",L,this._onClickLink.bind(this)),this.$container.on("click",M,this._onClickUnlink.bind(this)),this.$container.on("click",B,this._onClickEditLink.bind(this)),this.$container.on("click",F,this._onClickRemoveLink.bind(this)),this.$container.on("change",P,this._onSelectedValueChanged.bind(this)),gt.isIOS&&(this.$container.on("focus",D,this._onFocusIOS.bind(this)),this.$container.on("blur",D,this._onBlurIOS.bind(this))),this.editor.on("nodechange",this._onSelectionChange),this.editor.on("keyup",this._onSelectionChange),this._toggleLinkButtons(),Twine.bind(this.$pickerContainer[0])}},{key:"teardown",value:function e(){this._onBlurIOS(),this.deactivate(),this.$container.off(),Twine.unbind(this.$pickerContainer[0])}},{key:"activate",value:function r(e){this._togglePickerSelection(e),this._updatePosition(e),this.open||(this.open=!0,this.$pickerContainer.removeClass("hidden"),document.addEventListener("click",this._onClickOutsidePicker,!0))}},{key:"deactivate",value:function i(){this.open&&(this.open=!1,this.$pickerContainer.addClass("hidden"),this.$container.find(j).each(function(e,t){return O(t)}),document.removeEventListener("click",this._onClickOutsidePicker,!0))}},{key:"insertLink",value:function o(e){this.editor.selection.moveToBookmark(this.lastSelection),this.editor.execCommand("mceInsertLink",!1,e),this._togglePickerSelection(e),this.editor.fire("change")}},{key:"removeLink",value:function a(){gt.isIOS&&this.editor.selection.moveToBookmark(this.lastSelection),this.editor.selection.moveToBookmark(this.lastSelection),this.editor.execCommand("unlink"),this.editor.fire("change")}},{key:"_onFocusIOS",value:function s(){$(document).on("selectionchange",this._onSelectionChange)}},{key:"_onBlurIOS",value:function u(){$(document).off("selectionchange",this._onSelectionChange)}},{key:"_onClickLink",value:function l(){this.editor.formatter.apply("ghostLink")}},{key:"_onClickUnlink",value:function c(){this.removeLink(),this.deactivate()}},{key:"_onClickEditLink",value:function d(){this.currentLinkContent=this.$pickerContainer.find(R).html(),this._togglePickerSelection()}},{key:"_onClickRemoveLink",value:function f(){this.removeLink()}},{key:"_onSelectedValueChanged",value:function h(){var e=JSON.parse(this.$hiddenField.val()),t={href:e.public_url,title:e.title};this.insertLink(t)}},{key:"_onClickOutsidePicker",value:function p(e){this.open&&0===$(e.target).closest(this.$container).length&&(this.deactivate(),this._toggleLinkButtons(),this.currentLinkElement=null)}},{key:"_onSelectionChange",value:function m(){var e=this._getSelectedLink(),t=this._getSelectedText();cancelAnimationFrame(this.selectionFrame),this.selectionFrame=requestAnimationFrame(this._selectionFrame(e,t))}},{key:"_selectionFrame",value:function g(e,t){var n=this;return function(){gt.isIE11&&n._togglePicker(e||n.currentLinkElement),gt.isIE11||e===n.currentLinkElement||n._togglePicker(e),n._toggleLinkButtons(e,t),n.currentLinkElement=e,n.lastSelection=n.editor.selection.getBookmark(2)}}},{key:"_togglePicker",value:function v(e){e?this.activate(e):this.deactivate()}},{key:"_toggleLinkButtons",value:function y(e,t){var n=this.$container.find(L),r=this.$container.find(M),i=Boolean(e);n.toggle(!i).prop("disabled",!t),r.toggle(i).prop("disabled",!i)}},{key:"_togglePickerSelection",value:function b(e){var t=Boolean(e&&e.href);this._toggleSelectionLink(e),this._toggleSelectionIcon(e),this.$pickerContainer.find("."+Shopify.UIPopover.CLASSES.CONTAINER).toggleClass("hide",t),this.$pickerContainer.find(I).toggleClass("hide",!t),this.picking=!t}},{key:"_toggleSelectionLink",value:function _(e){if(e&&e.href){var t=e.title||e.href;this.$link.attr("href",e.href).attr("title",t).text(t)}else{var n=this.$pickerContainer.find(A);mt.EXTERNAL_URL_REGEX.test(this.currentLinkContent)?n.val(this.currentLinkContent):n.val(""),this.currentLinkContent=null,setTimeout(function(){return n.focus().trigger("input")},0)}}},{key:"_toggleSelectionIcon",value:function S(e){if(this.$pickerContainer.find("[data-icon-type]").addClass("hide"),e&&e.href){var t=(0,dt.getResourceTypeByURL)(e.href)||"external";this.$pickerContainer.find('[data-icon-type="'+t+'"]').removeClass("hide")}}},{key:"_updatePosition",value:function w(e){var t=15,n=e.getBoundingClientRect(),r=this.$container[0].getBoundingClientRect(),i=n.bottom-r.top-t;this.$pickerContainer.css({top:i+"px"})}},{key:"_getSelectedParentElements",value:function C(){var e=this.editor.selection.getStart();return this.editor.dom.getParents(e)}},{key:"_getSelectedLink",value:function E(){return T(this._getSelectedParentElements())}},{key:"_getSelectedText",value:function k(){return this.editor.selection.getContent().trim()}},{key:"_getPendingLinks",value:function x(){return this.$container.find(j)}}]),t}();t["default"]=r,window.RTEUrlPicker=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return Array.isArray(e)?e:[e]}function u(e,t){var n=void 0;return"object"===(void 0===e?"undefined":r(e))?n=e:(n={})[e]=t,n}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),i="page:before-replace",a="page:before-partial-replace",c=function(){function n(e,t){o(this,n),this.remove=this.remove.bind(this),this.dispatcher=e,this.callbackObject=t}return l(n,[{key:"remove",value:function e(){this.dispatcher.remove(this.callbackObject)}},{key:"bindToNode",value:function r(t){var n=this;document.addEventListener(a,function(e){s(e.data).forEach(function(e){e.contains(t)&&n.remove()})}),document.addEventListener(i,this.remove)}}]),n}(),n=function(){function e(){o(this,e),this.listeners={},this.register=this.register.bind(this)}return l(e,[{key:"register",value:function a(e,t,n){var r=this,i=2<arguments.length&&n!==undefined?arguments[2]:{},o=u(e,t);return Object.keys(o).forEach(function(t){return null==r.listeners[t]&&(r.listeners[t]=[]),s(o[t]).forEach(function(e){e.scope=i.scope,r.listeners[t].push(e)})}),new c(this,o)}},{key:"dispatch",value:function n(t){null!=this.listeners[t.type]&&this.listeners[t.type].forEach(function(e){t.scope===e.scope&&e(t)})}},{key:"remove",value:function i(e,t){var n=this,r=u(e,t);Object.keys(r).forEach(function(e){var t=s(r[e]);n.listeners[e]=n.listeners[e].filter(function(e){return!t.includes(e)})})}}]),e}();t["default"]=n,Shopify.Dispatcher=null!=t["default"]?t["default"]:t})),yt=e(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(vt),i=window.Shopify&&window.Shopify.rootDispatcher?window.Shopify.rootDispatcher:new r["default"];t["default"]=i,Shopify.rootDispatcher=null!=t["default"]?t["default"]:t}),bt=e(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if("function"!=typeof t)throw new TypeError("Expected callback to be a function");if(null==e||e===document.body)return null;var n=e.correspondingUseElement||e.correspondingElement||e;return t(n)?n:r(n.parentElement,t)}function i(t){if("function"!=typeof t)throw new TypeError("Expected a function");var e=["DOMContentLoaded","page:load"],n=["ui-modal:show-remote"];"loading"!==document.readyState&&t(),e.forEach(function(e){return document.addEventListener(e,t)}),n.forEach(function(e){return h["default"].register(e,t)})}function o(e,t,n){var r=2<arguments.length&&n!==undefined?arguments[2]:{},i=r.bubbles,o=i!==undefined&&i,a=r.cancelable,s=a!==undefined&&a,u=document.createEvent("HTMLEvents");u.initEvent(t,o,s),u.data=r.data,e.dispatchEvent(u)}function a(e){for(var t=0<arguments.length&&e!==undefined?arguments[0]:{};t.firstChild;)t.removeChild(t.firstChild)}function s(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=document.createElement("option");return n.label=t.label||"",n.text=t.label||"",n.value=t.value||"",n.defaultSelected=Boolean(t.defaultSelected),n.disabled=Boolean(t.disabled),n}function u(){var e=document.body,t=document.createElement("div");t.style.position="absolute",t.style.top=t.style.left="-9999px",t.style.width=t.style.height="100px",t.style.overflow="scroll",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return e.removeChild(t),n}function l(e,t){document.body.contains(e)||t()}function c(r,e,i,t){var n=(3<arguments.length&&t!==undefined?arguments[3]:{}).once,o=n!==undefined&&n;(Array.isArray(e)?e:e.split(/[ ,]+/)).forEach(function(t){function n(e){i.call(e.currentTarget,e),r.removeEventListener(t,n)}r.addEventListener(t,o?n:i)})}function d(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function f(e){e.offsetHeight,e.offsetWidth}Object.defineProperty(t,"__esModule",{value:!0}),t.findClosestParent=r,t.ready=i,t.dispatchEvent=o,t.removeChildren=a,t.createOption=s,t.getScrollbarWidth=u,t.handleDetachedNode=l,t.addEventListener=c,t.prefersReducedMotion=d,t.forceReflow=f;var h=n(yt);document.addEventListener("touchstart",function(){})}),_t=e(function(e,t){"use strict";function u(c,d,e){var t=2<arguments.length&&e!==undefined?arguments[2]:{},n=t.leading,f=n!==undefined&&n,r=t.trailing,h=r===undefined||r,i=t.maxWait,p=i===undefined?0:i,m=0<p,g=0,v=!1,y=null,b=null;if("function"!=typeof c)throw new TypeError("Expected a function");return function(){function e(){f&&!b&&l()}function t(){h&&(1<g||!f)&&l(),n(),i()}function n(){b=null,g=0}function r(){y||(i(),y=setTimeout(function(){v=!1},p))}function i(){v=!0,y=null}for(var o=this,a=arguments.length,s=Array(a),u=0;u<a;u++)s[u]=arguments[u];var l=function l(){c.apply(o,s)};m&&(r(),v||(l(),i())),g++,e(),clearTimeout(b),b=setTimeout(t,d)}}function n(e,t,n){var r=2<arguments.length&&n!==undefined?arguments[2]:{},i=r.leading,o=i===undefined||i,a=r.trailing,s=a===undefined||a;if("function"!=typeof e)throw new TypeError("Expected a function");return u(e,t,{leading:o,trailing:s,maxWait:t})}Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=u,t.throttle=n,Shopify.Utilities=null!=t["default"]?t["default"]:t}),St=e(function(e,t){"use strict";function n(){if(l)return l;var e=document.createElement("div"),t=!0,n=!1,r=undefined;try{for(var i,o=Object.keys(u)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if("undefined"!=typeof e.style[a]){l=u[a];break}}}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}return l}Object.defineProperty(t,"__esModule",{value:!0}),t.transitionEnd=n;var u={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},l=void 0;Shopify.Events=null!=t["default"]?t["default"]:t}),wt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.ALT=18,t.BACKSPACE=8,t.COMMA=188,t.COMMAND=91,t.CONTROL=17,t.DELETE=46,t.DOWN=40,t.D_LOWER_CASE=68,t.END=35,t.ENTER=13,t.ESCAPE=27,t.HOME=36,t.LEFT=37,t.NUMPAD_ADD=107,t.NUMPAD_DECIMAL=110,t.NUMPAD_DIVIDE=111,t.NUMPAD_ENTER=108,t.NUMPAD_MULTIPLY=106,t.NUMPAD_SUBTRACT=109,t.PAGE_DOWN=34,t.PAGE_UP=33,t.PERIOD=190,t.RIGHT=39,t.SHIFT=16,t.SPACE=32,t.TAB=9,t.UP=38,t.S=83,t.Y=89,t.Z=90;Shopify.Keycodes=null!=t["default"]?t["default"]:t}),Ct=e(function(e,t){"use strict";function n(e,t){var n=(1<arguments.length&&t!==undefined?arguments[1]:{}).scrollingElement,r=n===undefined?e:n,i=r.scrollTop,o=!(i+r.clientHeight>=r.scrollHeight),a=0<i,s=a&&o;e.classList[o?"add":"remove"](u.BOTTOM_SHADOW),e.classList[a?"add":"remove"](u.TOP_SHADOW),e.classList[s?"add":"remove"](u.TOP_AND_BOTTOM_SHADOW)}Object.defineProperty(t,"__esModule",{value:!0}),t.update=n;var u={TOP_AND_BOTTOM_SHADOW:"scroll-shadow--top-and-bottom",BOTTOM_SHADOW:"scroll-shadow--bottom",TOP_SHADOW:"scroll-shadow--top"};Shopify.ScrollShadow=null!=t["default"]?t["default"]:t}),Et=e(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function a(t,e){var n=!(1<arguments.length&&e!==undefined)||arguments[1]?"addEventListener":"removeEventListener";i.forEach(function(e){t[n](e,r)})}function r(e){e.preventDefault()}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(t,e){function n(){var e=t.scrollTop/c;t.scrollTop=e<l?0:t.scrollTop-e,0<t.scrollTop?window.requestAnimationFrame(n):(a(t,!1),o&&s.update(t))}var r=1<arguments.length&&e!==undefined?arguments[1]:{};if(0<t.scrollTop||t.scrollHeight<=t.clientHeight||(0,bt.prefersReducedMotion)())return-1;var i=r.scrollShadow,o=i!==undefined&&i;return t.scrollTop=u,a(t),o&&s.update(t),window.requestAnimationFrame(n),t.scrollTop};var s=n(Ct),u=100,l=.2,c=5,i=["scroll","touchmove","wheel"]}),kt=(e(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e){var t=(0,U["default"])(e).siblings(":not("+q.BASE+")")[0];c(e),u(e,t);var n={activate:function r(){h(e)},deactivate:function i(){v(e)},toggle:function o(){g(e)},reposition:function a(){_()},isActive:function s(){return e===(null==ee.popover?null:ee.popover.base)}};return(0,U["default"])(e).data(q.BASE,n),n}function u(e,t){var n=ae++,r=e.id||q.BASE+"--"+n,i=f(t),o=i.id||q.BASE+"-activator--"+n;return(0,U["default"])(e).attr({id:r,"aria-labelledby":o,"aria-expanded":"false",role:"dialog"}),(0,U["default"])(i).attr({id:o,"aria-expanded":"false","aria-haspopup":"true","aria-owns":r,"aria-controls":r})}function c(e){var t=window.getComputedStyle(e);e.setAttribute(K.CSS_CACHE.VERTICAL_MARGIN,o(t.marginTop,e)||0),e.setAttribute(K.CSS_CACHE.HORIZONTAL_MARGIN,o(t.marginLeft,e)||0);var n=(0,U["default"])(e).children("."+q.CONTENT_WRAPPER)[0],r=window.getComputedStyle(n);return e.setAttribute(K.CSS_CACHE.MAX_HEIGHT,o(r.maxHeight,n)||1e4),e.setAttribute(K.CSS_CACHE.MAX_WIDTH,o(r.maxWidth,n)||1e4),e.classList.contains(Y.BASE.FULL_WIDTH)||(e.style.maxWidth="none"),e.style.marginLeft=e.style.marginRight="0px",e.style.marginLeft}function o(e,t){if("none"===e)return!1;var n=parseFloat(e);return 0<=e.indexOf("rem")?n*te():0<=e.indexOf("em")?n*parseFloat(window.getComputedStyle(t).fontSize):0<=e.indexOf("%")?n/100:n}function d(t){var n=void 0;return[].concat(i(t.parentNode.children)).forEach(function(e){e!==t&&0<e.offsetWidth&&(n=e)}),n||t.previousElementSibling||t.nextElementSibling}function f(e){var t=(0,U["default"])(e);return t.is(":input")?e:t.find(":input")[0]||e}function h(e){if(e===(null==ee.popover?null:ee.popover.base))return null;ee.popover&&v();var t=(0,U["default"])(e);t.data(q.BASE)||l(e);var n=d(e),r=document.getElementById("wrapper")||document.body,i=t.closest(e.getAttribute(K.RELATIVE_TO)).get(0)||t.closest(e.getAttribute(K.HORIZONTALLY_RELATIVE_TO)).get(0)||r,o=t.closest(e.getAttribute(K.RELATIVE_TO)).get(0)||t.closest(e.getAttribute(K.VERTICALLY_RELATIVE_TO)).get(0)||r,a=e.getAttribute(K.ACTIVATE_FROM),s=t.closest(e.getAttribute(K.SCROLL_CONTAINER)).get(0),u=!(ee={container:e.parentNode,activator:n,activatorInput:f(n),source:a?n.querySelector(a):n,horizontallyRelativeTo:i,verticallyRelativeTo:o,preferredPosition:e.getAttribute(K.PREFERRED_POSITION)||J.BOTTOM,horizontallyPosition:!e.classList.contains(Y.BASE.FULL_WIDTH),positionAgainstEdge:e.classList.contains(Y.BASE.ALIGN_TO_EDGE),scrollContainer:s,popover:{base:e,container:e.parentNode,content:e.querySelector("."+q.CONTENT),contentWrapper:e.querySelector("."+q.CONTENT_WRAPPER),panes:Array.prototype.slice.call(e.querySelectorAll("."+q.PANE))},styles:{horizontalMargin:parseInt(e.getAttribute(K.CSS_CACHE.HORIZONTAL_MARGIN),10),verticalMargin:parseInt(e.getAttribute(K.CSS_CACHE.VERTICAL_MARGIN),10),maxHeight:parseInt(e.getAttribute(K.CSS_CACHE.MAX_HEIGHT),10),maxWidth:parseFloat(e.getAttribute(K.CSS_CACHE.MAX_WIDTH))}});return t.off(H.transitionEnd()),t.one(H.transitionEnd(),function(){return u?null:(u=!0,T(),t.trigger(X.ACTIVATED))}),m(e),p(),_()}function p(){var e=ee.popover.base;e.setAttribute("aria-expanded","true"),ee.activatorInput.setAttribute("aria-expanded","true"),(0,U["default"])(e).one(H.transitionEnd(),function(){return(0,U["default"])(e).removeClass(G.BASE.TRANSITIONING)}),(0,U["default"])(e).addClass(G.BASE.TRANSITIONING),window.requestAnimationFrame(function(){ee.popover&&(O(),(0,U["default"])(e).addClass(G.BASE.ACTIVE),ee.popover.container.classList.add(G.CONTAINER.ACTIVE),(0,U["default"])(e).trigger(X.ACTIVATING))})}function m(e){return(0,U["default"])(e).on("wheel","."+q.PANE,R),ee.scrollContainer?(0,U["default"])(ee.scrollContainer).on("scroll."+Q,se):null}function g(e){return(null==ee.popover?null:ee.popover.base)===e?v():h(e)}function a(){return ee.popover?(0,U["default"])(ee.popover.base).closest(document).length?null:v():null}function v(e){if(!ee.popover)return null;if(e&&e!==ee.popover.base)return null;var t=ee.popover.base,n=ee.popover.content,r=ee.popover.container,i=(0,U["default"])(t),o=Boolean(i.closest(document).length);i.off(H.transitionEnd()),i.trigger(X.DEACTIVATING);var a,s=(a=!1,function(){return a?null:(a=!0,r.classList.remove(G.CONTAINER.DEACTIVATING),n.style.width="",(0,U["default"])(t).trigger(X.DEACTIVATED))});o&&(i.one(H.transitionEnd(),function(){i.removeClass(G.BASE.TRANSITIONING),s()}),i.addClass(G.BASE.TRANSITIONING)),y(),o||s(),b(t);var u=!0,l=!1,c=undefined;try{for(var d,f=Object.keys(ee||{})[Symbol.iterator]();!(u=(d=f.next()).done);u=!0){var h=d.value;delete ee[h]}}catch(p){l=!0,c=p}finally{try{!u&&f["return"]&&f["return"]()}finally{if(l)throw c}}return null}function y(){var e=ee.popover;return e.container.classList.add(G.CONTAINER.DEACTIVATING),e.container.classList.remove(G.CONTAINER.ACTIVE),e.base.classList.remove(G.BASE.ACTIVE),e.base.setAttribute("aria-expanded","false"),ee.activatorInput.setAttribute("aria-expanded","false")}function b(e){return(0,U["default"])(e).off("wheel","."+q.PANE,R),ee.scrollContainer?(0,U["default"])(ee.scrollContainer).off("."+Q):null}function _(e){var t=void 0,n=void 0,r=void 0,i=void 0,o=void 0;if(!ee.popover)return null;var a=null==e||!e.type||"resize"===e.type,s={base:{},wrapper:{},content:{}},u=E();return x({rect:u},s),a&&ee.horizontallyPosition&&(o=C(),i=u.left/u.horizontallyRelativeTo.width<=.5,r=k(u.horizontallyRelativeTo.width),n={offsets:o,width:s.content.width=r,left:i,rect:u},ee.positionAgainstEdge?S(n,s):w(n,s),t=s.base.transformOrigin.split(" ").slice(1).join(" "),s.base.transformOrigin=ee.styles.transformOriginX+" "+t),requestAnimationFrame(function(){var e=ee.popover;return null==e?null:((0,U["default"])(e.base).css(s.base),(0,U["default"])(e.content).css(s.content),(0,U["default"])(e.contentWrapper).css(s.wrapper),a&&(e.content.style.height=ie()+2),e.base.style.transformOrigin=s.base.transformOrigin,e.base.style.transformOrigin)})}function S(e,t){var n=e.offsets,r=e.width,i=e.rect,o=e.left,a=i[o?"right":"left"]+i.width/2-ee.styles.horizontalMargin,s=o?0:i.width-r;return s+=n.leftFromContainerToActivator,t.base.left=a<r?o?s-(r-a)-n.leftFromActivatorToSource:s+(r-a):o?s-n.leftFromActivatorToSource:s-n.rightFromActivatorToSource,t.base.left=Math.round(t.base.left+n.leftFromActivatorToSource),t.base.left}function w(e,t){var n=e.offsets,r=e.width,i=e.rect,o=e.left,a=.5*r+ee.styles.horizontalMargin;return t.base.left=o&&i.left<a?i.width/2+ee.styles.horizontalMargin-i.left:!o&&i.right<a?i.width/2-r+i.right-ee.styles.horizontalMargin:i.width/2-r/2,t.base.left=Math.round(t.base.left+n.leftFromContainerToActivator+n.leftFromActivatorToSource),t.base.left}function C(){var e=ee.activator.getBoundingClientRect(),t=ee.source===ee.activator?e:ee.source.getBoundingClientRect();return{leftFromContainerToActivator:e.left-ee.container.getBoundingClientRect().left,leftFromActivatorToSource:t.left-e.left,rightFromActivatorToSource:t.right-e.right}}function E(){var e=ee.source.getBoundingClientRect(),t=ee.horizontallyRelativeTo.getBoundingClientRect(),n=ee.verticallyRelativeTo.getBoundingClientRect(),r=e.top+.5*e.height,i=e.left+.5*e.width;return i-=t.left,{height:e.height,width:e.width,top:r-ne(),bottom:window.innerHeight-r,left:i,right:t.width-i,horizontallyRelativeTo:t,verticallyRelativeTo:n}}function k(e){var t=void 0;ee.styles.contentWidth||((t=ee.popover.content).classList.add(G.CONTENT.CALCULATING),ee.styles.contentWidth=t.offsetWidth+2,t.classList.remove(G.CONTENT.CALCULATING));var n=e-2*ee.styles.horizontalMargin;return Math.min(n,ee.styles.maxWidth,ee.styles.contentWidth)}function x(e,t){var n=ee.popover.base.offsetHeight+2*ee.styles.verticalMargin,r=e.rect,i=r.verticallyRelativeTo.top+r.verticallyRelativeTo.height-(r.top+r.height),o=window.scrollY+r.top-r.verticallyRelativeTo.top;return s(ee.preferredPosition===J.MOST_SPACE?i<o?J.TOP:J.BOTTOM:ee.preferredPosition===J.BOTTOM?r.bottom<n&&r.top>r.bottom||i<n&&n<o?J.TOP:J.BOTTOM:r.top<n&&r.bottom>r.top||o<n&&n<i?J.BOTTOM:J.TOP,r,t)}function s(e,t,n){var r=e===J.TOP,i=ee.horizontallyPosition?0:"50%";n.base.transformOrigin=""+(ee.styles.transformOriginX||i),e!==ee.position&&(ee.position=e,ee.popover.base.classList[r?"remove":"add"](G.BASE.POSITIONED_BELOW),ee.popover.base.classList[r?"add":"remove"](G.BASE.POSITIONED_ABOVE));var o=t[e]-t.height/2-2*ee.styles.verticalMargin;return n.content.maxHeight=Math.min(o,ee.styles.maxHeight),n.content.maxHeight}function T(){ee.popover.panes.forEach(function(e){return e.classList.contains(Y.PANE.FIXED)?null:W.update(e)})}function O(){ee.popover.panes.forEach(function(e){e.classList.contains(Y.PANE.FIXED)||(0,z["default"])(e,{scrollShadow:!0})})}function A(e){var t=void 0,n=(0,U["default"])(e.target).closest("."+q.BASE).length;if(n&&e.which===V.ESCAPE)ee.activator.focus(),v(),e.preventDefault();else{if(t=(0,U["default"])(e.currentTarget).children("."+q.BASE)[0],n||t.classList.contains(Y.BASE.JS_ACTIVATED))return;[V.ENTER,V.SPACE].includes(e.which)&&null!=e.target&&null!=e.target.tagName&&"input"!==e.target.tagName.toLowerCase()?(g(t),e.preventDefault()):e.which===V.ESCAPE&&(v(),e.preventDefault())}}function P(e){var t=(0,U["default"])(e.target).closest("."+q.BASE).length,n=(0,U["default"])(e.currentTarget).children("."+q.BASE)[0];t||n.classList.contains(Y.BASE.JS_ACTIVATED)||h(n)}function I(e){var t=(0,U["default"])(e.target).closest("."+q.BASE).length,n=(0,U["default"])(e.currentTarget).children("."+q.BASE)[0];t||n.classList.contains(Y.BASE.JS_ACTIVATED)||v()}function R(e){function t(){e.stopPropagation(),e.preventDefault()}var n=e.currentTarget,r=e.originalEvent.deltaY,i=r<0,o=[n.offsetHeight,n.scrollHeight,n.scrollTop],a=o[0],s=o[1],u=o[2],l=i&&u<-r;!i&&s-a-u<r&&(n.scrollTop=s,t()),l&&(n.scrollTop=0,t()),W.update(n)}function N(){return(0,U["default"])(document).on("page:load",a).on("click focusin",re).on("keydown","."+q.CONTAINER,A).on("mouseenter","."+Y.CONTAINER.HOVER_ACTIVATED,P).on("mouseleave","."+Y.CONTAINER.HOVER_ACTIVATED,I),se=(0,_t.debounce)(_,50,{leading:!0}),(0,U["default"])(window).on("resize scroll",se)}Object.defineProperty(t,"__esModule",{value:!0});var D,L,M,B,F,j,U=r($),H=n(St),V=n(wt),W=n(Ct),z=r(Et),q={BASE:"ui-popover",CONTAINER:"ui-popover__container",CONTENT_WRAPPER:"ui-popover__content-wrapper",CONTENT:"ui-popover__content",PANE:"ui-popover__pane"},G={BASE:{ACTIVE:"ui-popover--is-active",TRANSITIONING:"ui-popover--is-transitioning",POSITIONED_BELOW:"ui-popover--is-positioned-beneath",POSITIONED_ABOVE:"ui-popover--is-positioned-above"},CONTAINER:{ACTIVE:"ui-popover__container--contains-active-popover",DEACTIVATING:"ui-popover__container--is-deactivating"},CONTENT:{CALCULATING:"ui-popover__content--is-calculating"}},Y={BASE:{ALIGN_TO_EDGE:"ui-popover--align-edge",FULL_WIDTH:"ui-popover--full-width",NO_FOCUS:"ui-popover--no-focus",HOVER_ACTIVATED:"ui-popover--hover-activated",JS_ACTIVATED:"ui-popover--js-activated"},CONTAINER:{HOVER_ACTIVATED:"ui-popover__container--hover-activated"},PANE:{FIXED:"ui-popover__pane--fixed"}},X={ACTIVATING:"ui-popover:activating",ACTIVATED:"ui-popover:activated",DEACTIVATED:"ui-popover:deactivated",DEACTIVATING:"ui-popover:deactivating"},K={PREFERRED_POSITION:"data-popover-preferred-position",HORIZONTALLY_RELATIVE_TO:"data-popover-horizontally-relative-to-closest",VERTICALLY_RELATIVE_TO:"data-popover-vertically-relative-to-closest",RELATIVE_TO:"data-popover-relative-to-closest",ACTIVATE_FROM:"data-popover-activate-from",SCROLL_CONTAINER:"data-popover-scroll-container",CSS_CACHE:{MAX_HEIGHT:"data-popover-css-max-height",MAX_WIDTH:"data-popover-css-max-width",VERTICAL_MARGIN:"data-popover-css-vertical-margin",HORIZONTAL_MARGIN:"data-popover-css-horizontal-margin"}},J={TOP:"top",BOTTOM:"bottom",MOST_SPACE:"most_space"},Q="ui-popover",Z=21,ee={},te=(D=null,function(){if(null!=D)return D;var e=(0,U["default"])("<div>M</div>").appendTo("body");return e.css({display:"inline-block",padding:"0",lineHeight:"1",position:"absolute",visibility:"hidden",fontSize:"1em"}),e.remove(),D}),ne=(M=L=void 0,B=L=0,(0,bt.ready)(function(){return M=document.querySelector(".page .header-row")||document.querySelector(".ui-title-bar"),B=(null==M?0:M.offsetHeight)||0,setTimeout(function(){var e=void 0;return L=(null==(e=document.querySelector("#turbo"))?0:e.offsetHeight)||0},1)}),function(){return L+B}),re=(F=0,j=null,function(e){var t,n=void 0,r=void 0,i=void 0,o=!1,a=(t="function"==typeof e.target.getAttribute?e.target.getAttribute("for"):null)?(o=!0,(0,U["default"])("#"+t)):(0,U["default"])(e.target);if(a.closest("[disabled]").length)return null;if(a.closest("."+q.BASE).length)return null;if(a.closest("[data-disable-popover-automatic-deactivation=true]").length)return null;var s=a.closest("."+q.CONTAINER),u=s.children("."+q.BASE)[0];return u&&f(d(u)).disabled?null:s.length?o?null:(i=s[0],r=Date.now(),j===i&&r-F<500?null:(F=r,j=i,e.preventDefault(),(n=s.children("."+q.BASE)[0]).classList.contains(Y.BASE.JS_ACTIVATED)?null:n.classList.contains(Y.BASE.NO_FOCUS)?v():"focusin"===e.type?h(n):g(n))):null!=ee.popover&&"focusin"===e.type&&a.hasClass("ui-modal")?null:null!=ee.popover&&ee.popover.base.classList.contains(Y.BASE.JS_ACTIVATED)?null:v()}),ie=function(){function e(e,t){return e+t.scrollHeight}return function(){return ee.popover.panes.reduce(e,0)}}(),oe={activeCache:ee,a11yPopovers:u,cachePopoverCSSProperties:c,baseFontSize:te,calculatePixelDimension:o,activate:h,applyActivationMarkup:p,attachActiveEventListeners:m,toggle:g,deactivate:v,applyDeactivationMarkup:y,detachActiveEventListeners:b,positionPopover:_,horizontallyPositionWithCenterAlignment:w,horizontallyPositionWithEdgeAlignment:S,calculateHorizontalOffsets:C,spaceDetailsForActivePopover:E,calculateMaxWidth:k,determineVerticalPositioning:x,topSpaceReservedForHeader:ne,popoverFocus:re,popoverKeydown:A,popoverPaneScroll:R,_init:N};l["for"]=function(e){var t=(0,U["default"])(e).closest("."+q.BASE);return t.length?t.data(q.BASE)||l(t[0]):null},l.send=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?null==oe[e]?null:oe[e].apply(null,n):oe[e]},l.deactivate=function(){return v()},l.CLASSES=q,l.EVENTS=X,l.STATES=G,l.VARIANTS=Y,l.ATTRS=K,l.POSITIONS=J,l.ZINDEX=Z,t["default"]=l;var ae=1,se=null;N(),Shopify.UIPopover=null!=t["default"]?t["default"]:t}),e(function(){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(0,bt.ready)(function(){var e=document.getElementById("global-icon-symbols");if(e){var t=e.firstChild;t&&[].concat(n(t.childNodes)).forEach(function(e){e instanceof HTMLElement&&e.setAttribute("class","icon-symbol--loaded")})}})}),e(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}
Object.defineProperty(t,"__esModule",{value:!0});var r=n($),i=n(it),o='\n<div class="loading-bar__container">\n  <div class="loading-bar"></div>\n</div>\n',a={continueAfterRefresh:function s(e){var t=this._continueLoading;this._continueLoading=!0;try{return e()}finally{this._continueLoading=t}},withoutLoadingBar:function u(e){var t=this._noLoading;this._noLoading=!0;try{return e()}finally{this._noLoading=t}},start:function l(){this.loading||(this.loading=!0,i["default"].configure({parent:"body",barSelector:".loading-bar",template:o}),i["default"].start(),(0,r["default"])("body").addClass("is-loading"))},stop:function c(){this.loading=!1,i["default"].done(),(0,r["default"])("body").removeClass("is-loading")},increment:function d(e){return i["default"].inc(e)},_continue:function f(){this.loading&&(i["default"].set(i["default"].status),(0,r["default"])("body").addClass("is-loading"))}};(0,r["default"])(document).on("page:fetch turbograft:remote:init",function(){a._noLoading||a.start()}),(0,r["default"])(document).on("page:load turbograft:remote:always",function(){a._continueLoading?a._continue():a.stop()}),t["default"]=a,Shopify.Loading=null!=t["default"]?t["default"]:t})),xt=(e(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function o(e){return{$label:(0,a["default"])("label[for='"+e.attr("id")+"']"),$parent:e.parent("."+r.STYLIZED)}}function t(e){var t=(0,a["default"])(e);o(t).$parent.toggleClass(s.INPUT.CONTENT,Boolean(t.val()))}var n,a=e($),r={STYLIZED:"next-input--stylized",INPUT:"next-input",LABEL:"next-label",TEXT_AREA:"ui-text-area"},s={LABEL:{FOCUSED:r.LABEL+"--is-focused"},INPUT:{FOCUSED:r.INPUT+"--is-focused",CONTENT:r.INPUT+"--has-content"}},i=(0,a["default"])(document);i.on("focus blur","."+r.INPUT,function(e){var t=o((0,a["default"])(e.target)),n=t.$label,r=t.$parent,i="focusin"===e.type;n.toggleClass(s.LABEL.FOCUSED,i),r.toggleClass(s.INPUT.FOCUSED,i)}),i.on("input","."+r.INPUT,function(e){return t(e.target)}),(0,bt.ready)(function(){(0,a["default"])("."+r.INPUT).toArray().forEach(function(e){t(e)})}),n=["text","tel","search","url","password","textarea"],i.on("click","."+r.STYLIZED,function(t){if(![r.INPUT,r.TEXT_AREA].some(function(e){return null!=t.target.classList&&t.target.classList.contains(e)})){var e=(0,a["default"])(t.target).closest("."+r.STYLIZED).find("."+r.INPUT+", ."+r.TEXT_AREA)[0];e.focus(),n.includes(e.type)&&(e.selectionStart=e.value.length)}}),i.on("focus",".tagit-new .ui-widget-content",function(e){return(0,a["default"])(e.target).closest("."+r.LABEL).addClass(s.LABEL.FOCUSED)}),i.on("blur",".tagit-new .ui-widget-content",function(e){return(0,a["default"])(e.target).closest("."+r.LABEL).removeClass(s.LABEL.FOCUSED)})}),e(function(){"use strict";function e(e){return e&&e.__esModule?e:{"default":e}}function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e){var t=o(e.target),n=a(e.target),r="focusin"===e.type;(0,s["default"])(t).toggleClass("next-label--is-focused",r),(0,s["default"])(n).toggleClass("next-input--is-focused",r)}function r(e){var t=a(e);(0,s["default"])(t).toggleClass("next-input--has-content",Boolean(e.value))}function i(e){var t=a(e);if(null!=t){var n=t.querySelector(".ui-select__content");null!=n&&null!=e&&null!=e.options[e.selectedIndex]&&(n.textContent=e.options[e.selectedIndex].textContent)}}function o(e){return document.querySelector("label[for='"+e.id+"']")}function a(e){return e.parentNode.classList.contains("ui-select__wrapper")?e.parentNode:null}var s=e($),u=".ui-select",l=(0,s["default"])(document);l.on("focus blur",u,n),l.on("input",u,function(e){r(e.target)}),l.on("change",u,function(e){i(e.target)}),(0,bt.ready)(function(){var e=document.querySelectorAll(u);[].concat(t(e)).forEach(function(e){r(e),i(e)})})}),e(function(e,t){"use strict";function n(e){return Boolean(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function r(e){return!e.disabled&&n(e)}function i(e){var t=e.querySelectorAll(o);return Array.from(t).filter(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=i;var o=["a[href]",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[tabindex]:not([tabindex="-1"])',"[contenteditable]","iframe"].join(", ");Shopify.Focusable=null!=t["default"]?t["default"]:t})),Tt=e(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){d(!0),a(e,!0)}function i(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:3e3;d(!1),a(e,!1),l(n)}function o(){b.$wrapper=(0,p["default"])("#"+_.WRAPPER),b.$flash=(0,p["default"])("#"+_.BASE),b.$message=b.$flash.find("."+S.MESSAGE)}function a(e,t){b.lastFocused=document.activeElement||document.body,o(),u(),m=!1,e&&b.$message.text(e),b.$message.attr(w.ROLE,t?C.ROLE_ALERT:C.ROLE_STATUS),b.$flash.attr(w.HAS_MESSAGE,"true"),b.$wrapper.addClass(S.WRAPPER_VISIBLE),b.$flash.addClass(S.ANIMATE_IN).one("animationend",function(){b.$flash.removeClass(S.ANIMATE_IN),b.$message.trigger("focus")})}function s(){u(),m=!0,b.$flash.addClass(S.ANIMATE_OUT).one("animationend",function(){b.$flash.removeClass(S.ANIMATE_OUT),b.$wrapper.removeClass(S.WRAPPER_VISIBLE),b.$message.text(""),b.$flash.attr(w.HAS_MESSAGE,null),m=!1,b.lastFocused instanceof HTMLElement&&b.lastFocused.focus()})}function u(){g&&clearTimeout(g),b.$flash.trigger("animationend").off("mouseleave").off("animationend"),b.$message.removeAttr(w.ROLE)}function l(e){g&&clearTimeout(g),g=setTimeout(s,e)}function c(){b.$flash.removeClass(S.ANIMATE_OUT).off("animationend"),m=!1}function d(e){b.$flash.toggleClass(S.ERROR,e)}function f(){b.$flash.on("mouseenter",function(){g&&clearTimeout(g),m&&c(),b.$flash.one("mouseleave",function(){b.$flash.hasClass(S.ERROR)||l(1e3)})}),b.$flash.on("click",function(){m||(b.$flash.off("mouseleave"),s())})}function h(){o(),f(),"true"===b.$flash.attr(w.HAS_MESSAGE)&&(b.$flash.hasClass(S.ERROR)?r(""):i(""))}Object.defineProperty(t,"__esModule",{value:!0}),t.error=r,t.notice=i;var p=n($),m=void 0,g=void 0,v=document.createElement("div"),y=(0,p["default"])(v),b={$wrapper:y,$flash:y,$message:y,lastFocused:v},_={WRAPPER:"UIFlashWrapper",BASE:"UIFlashMessage"},S={WRAPPER_VISIBLE:"ui-flash-wrapper--is-visible",ERROR:"ui-flash--error",ANIMATE_IN:"ui-flash--is-animating-in",ANIMATE_OUT:"ui-flash--is-animating-out",MESSAGE:"ui-flash__message"},w={HAS_MESSAGE:"data-flash-has-message",ROLE:"role"},C={ROLE_ALERT:"alert",ROLE_STATUS:"status"};(0,bt.ready)(h),(0,p["default"])(document).on("flash:init",h),Shopify.Flash=null!=t["default"]?t["default"]:t}),Ot=e(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(kt),o=n(Tt);t["default"]=function(e,t){if("abort"!==t){switch(e.status){case 402:o.error("Your plan doesn\u2019t support this feature.");break;case 403:o.error("You don\u2019t have access to this page.");break;case 404:o.error("The page you\u2019re looking for can\u2019t be found.");break;case 422:o.error("Unable to process your request.");break;case 429:o.error("Limit reached. Try again later.");break;case 500:o.error("An error has occurred.");break;default:o.error("Something went wrong.")}i["default"].stop()}},Shopify.handleError=null!=t["default"]?t["default"]:t}),At=e(function(e,t){"use strict";function n(){var e=document.body,t=e.firstElementChild;a=window.scrollY,e.setAttribute(i,""),null!=t&&(t.setAttribute(o,""),t.scrollTop=a)}function r(){window.requestAnimationFrame(function(){var e=document.body,t=e.firstElementChild;e.removeAttribute(i),t&&t.removeAttribute(o),window.scroll(0,a)})}Object.defineProperty(t,"__esModule",{value:!0}),t.lock=n,t.unlock=r;var i=t.SCROLL_LOCKING_ATTRIBUTE="data-lock-scrolling",o=t.SCROLL_LOCKING_WRAPPER_ATTRIBUTE="data-lock-scrolling-wrapper",a=0;Shopify.ScrollLock=null!=t["default"]?t["default"]:t}),Pt=e(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e){K=e}Object.defineProperty(t,"__esModule",{value:!0});var A=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),P=r($),I=r(yt),R=n(xt),N=n(Ct),D=r(Ot),L=r(kt),M=n(St),B=n(At),F=n(wt),j="page:after-node-removed",U={BASE:"ui-modal",BODY:"ui-modal__body",CLOSE_BUTTON:"ui-modal__close-button",SECTION:"ui-modal__section"},H={HEADING_SUFFIX:"_heading"},V={BASE:{VISIBLE:"ui-modal--is-visible",TRANSITIONING:"ui-modal--is-transitioning"},BODY:{SHADOW:"ui-modal__body--shadow",BOTTOM_SHADOW:"ui-modal__body--bottom-shadow",TOP_SHADOW:"ui-modal__body--top-shadow"},BACKDROP:{VISIBLE:"ui-modal-backdrop--is-visible"},CONTENTS:{VISIBLE:"ui-modal-contents--is-visible"}},W={BASE:{INSTANT:"ui-modal--instant"}},z={BEFORE_SHOW:"ui-modal:before-show",SHOW:"ui-modal:show",SHOW_REMOTE:"ui-modal:show-remote",HIDE:"ui-modal:hide",HIDE_ALL:"ui-modal:hide-all",AFTER_HIDE:"ui-modal:after-hide",REMOTE_REQUEST_FINISHED:"ui-modal:remote-request-finished"},q="ui-modal",G="UIModalBackdrop",Y="UIModalContents",X=void 0,K=void 0,i=function(){function o(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};if(T(this,o),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.handleCleanUp=this.handleCleanUp.bind(this),this.openAfterClose=this.openAfterClose.bind(this),this.toggleBodyScrollShadow=this.toggleBodyScrollShadow.bind(this),this.focusRestrict=this.focusRestrict.bind(this),this.node=e,this.options=n,this.$contentContainer=(0,P["default"])("#"+Y),!this.$contentContainer.length)throw new Error("Couldn't find a UiModal container on the current page.");if(!this.node)throw new Error("A valid node is required to create a modal. Placeholder node: "+this.options.placeholder.attributes["data-modal-context-ref-for"].textContent);this.id=this.options.id||this.node.id;var r=void 0,i=void 0;this.options.size&&(r=this.options.size.height,i=this.options.size.width),this.size={height:r||this.optionFromAttribute("height"),width:i||this.optionFromAttribute("width")},this.remote=this.options.contentFrom||this.optionFromAttribute("contentFrom"),this.remote&&this.$contentContainer.append(this.node),this.reloadAlways=this.options.reloadAlways||this.optionFromAttribute("modalReloadAlways"),this.rebindAlways=this.options.rebindAlways||this.optionFromAttribute("rebindAlways"),this.preload=this.options.preload||this.optionFromAttribute("preload"),this.startVisible=this.options.startVisible||this.optionFromAttribute("startVisible"),this.$modal=(0,P["default"])(this.node),this.$body=this.$modal.find("."+U.BODY),this.$title=this.$modal.find("#"+(this.id+H.HEADING_SUFFIX)),X=(0,P["default"])("#"+G),this.lastFocus=document.activeElement,this.loadingRemote=!1,this.request=null,this.lastScrollPosition=null,this.firstElement=null,this.lastElement=null,this.isOpen=!1,this.preload&&this.fetchHTML(),this.startVisible&&this.show(this.options)}return A(o,null,[{key:"hide",value:function n(e){var t=0<arguments.length&&e!==undefined&&arguments[0];null!=K&&K.hide(),t||I["default"].dispatch({type:z.HIDE_ALL})}},{key:"isVisible",value:function e(){return null!=K}}]),A(o,[{key:"dispatch",value:function t(e){return I["default"].dispatch({type:e,data:this})}},{key:"optionFromAttribute",value:function r(e){return!(!this.node.dataset[e]||"false"===this.node.dataset[e])&&this.node.dataset[e]}},{key:"hide",value:function n(){return this.isOpen=!1,B.unlock(),X.removeClass(V.BACKDROP.VISIBLE),this.prepareTransition(),this.$modal.removeClass(V.BASE.VISIBLE).attr({"aria-hidden":!0}).off("."+q),this.hideContentContainer(),this.$body.off("."+q),(K=null)!=this.lastFocus&&this.lastFocus.focus(),this.dispatch(z.HIDE)}},{key:"hideContentContainer",value:function i(){var e=this;return this.$modal.hasClass(W.BASE.INSTANT)?(this.$contentContainer.removeClass(V.CONTENTS.VISIBLE),this.dispatch(z.AFTER_HIDE)):this.$modal.one(M.transitionEnd(),function(){return e.$contentContainer.removeClass(V.CONTENTS.VISIBLE),e.dispatch(z.AFTER_HIDE)})}},{key:"show",value:function a(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};this.isOpen||(document.body.contains(this.node)||(this.node=document.getElementById(this.id),this.$modal=(0,P["default"])(this.node),this.$contentContainer=(0,P["default"])("#"+Y)),this.isOpen=!0,this.shouldFetchRemote()?this.fetchHTML(t):(t.content&&this.appendContent(t.content),this.setModalSize(t.size),K&&K.isVisible()?(I["default"].register(z.AFTER_HIDE,this.openAfterClose),o.hide()):this.open()))}},{key:"openAfterClose",value:function s(){return I["default"].remove(z.AFTER_HIDE,this.openAfterClose),this.open()}},{key:"setModalSize",value:function u(e){var t="",n="";return null!=e&&e.width?t=e.width+"px":this.size.width&&(t=this.size.width+"px"),null!=e&&e.height?n=e.height+"px":this.size.height&&(n=this.size.height+"px"),this.$modal.css({width:t}),this.$body.css({height:n})}},{key:"prepareTransition",value:function l(){var e=this;this.$modal.hasClass(W.BASE.INSTANT)||(this.$modal.one(M.transitionEnd(),function(){return e.$modal.removeClass(V.BASE.TRANSITIONING)}),this.$modal.addClass(V.BASE.TRANSITIONING))}},{key:"shouldFetchRemote",value:function c(){return(!(null!=this.contentFetched)||this.reloadAlways)&&this.remote&&!this.loadingRemote}},{key:"open",value:function d(){var t=this;return this.dispatch(z.BEFORE_SHOW),this.setupModalEvents(),this.initializeScrollShadow(),this.lastFocus=document.activeElement,O(this),this.lockScroll(),this.resetModalBodyScroll(),X.addClass(V.BACKDROP.VISIBLE),this.$contentContainer.addClass(V.CONTENTS.VISIBLE),this.prepareTransition(),window.requestAnimationFrame(function(){t.$modal.addClass(V.BASE.VISIBLE).attr({"aria-hidden":!1,tabindex:-1}).trigger("focus"),t.dispatch(z.SHOW),t.remote&&t.dispatch(z.SHOW_REMOTE);var e=t.focusable();return t.firstElement=e[0],t.lastElement=e[e.length-1],t.lastElement})}},{key:"resetModalBodyScroll",value:function f(){null!=this.$body[0]&&(this.$body[0].scrollTop=0)}},{key:"setupModalEvents",value:function h(){return this.$modal.on("click."+q,"."+U.CLOSE_BUTTON,this.hide).on("keydown."+q,this.focusRestrict)}},{key:"initializeScrollShadow",value:function p(){this.$body.length&&(this.$body.on("scroll."+q,(0,_t.debounce)(this.toggleBodyScrollShadow,50)),this.toggleBodyScrollShadow())}},{key:"startRemoteLoad",value:function m(){return this.preload||null!=L["default"]&&L["default"].start(),this.loadingRemote=!0,this.loadingRemote}},{key:"stopRemoteLoad",value:function g(){return this.preload||null!=L["default"]&&L["default"].stop(),this.loadingRemote=!1,this.loadingRemote}},{key:"fetchHTML",value:function v(e){var t=this,n=0<arguments.length&&e!==undefined?arguments[0]:{};return this.startRemoteLoad(),this.request=P["default"].ajax({dataType:"html",url:this.remote,data:n.data}),this.request.done(function(e){t.appendContent(e),t.preload||(t.isOpen=!1,t.show(n))}),this.request.fail(D["default"]),this.request.always(function(){return t.request=null,t.stopRemoteLoad()})}},{key:"appendContent",value:function y(e){return this.contentFetched=!0,this.$modal.html(e),this.$body=this.$modal.find("."+U.BODY),this.$modal.on("click."+q,"."+U.CLOSE_BUTTON,this.hide)}},{key:"onClose",value:function b(t){var n=this,r=function r(e){e.data.id===n.id&&(I["default"].remove(o.EVENTS.HIDE,r),t())};return I["default"].register(o.EVENTS.HIDE,r)}},{key:"toggleBodyScrollShadow",value:function _(){var e=this;return window.requestAnimationFrame(function(){return N.update(e.$body[0])})}},{key:"focusRestrict",value:function S(e){var t=void 0;this.isVisible()&&e.which===F.TAB&&(t=this.focusable(),this.lastElement=t[t.length-1],e.stopPropagation(),e.shiftKey||this.lastElement!==document.activeElement?e.shiftKey&&this.firstElement===document.activeElement&&(this.lastElement.focus(),e.preventDefault()):(this.firstElement.focus(),e.preventDefault()))}},{key:"focusable",value:function w(){return R.findAll(this.$modal[0])}},{key:"isVisible",value:function e(){return this.$modal.hasClass(V.BASE.VISIBLE)&&document.body.contains(this.node)}},{key:"lockScroll",value:function C(){B.lock(),document.addEventListener(j,this.handleCleanUp)}},{key:"handleCleanUp",value:function E(e){null!=e.data&&"function"==typeof e.data.contains&&e.data.contains(this.node)&&(B.unlock(),document.removeEventListener(j,this.handleCleanUp))}},{key:"title",get:function k(){return this.$title.text()},set:function x(e){this.$title.text(e)}}]),o}();i.CLASSES=U,i.STATES=V,i.EVENTS=z,i.EVENT_NAMESPACE=q,i.BACKDROP_ID=G,t["default"]=i,(0,P["default"])(document).keyup(function(e){e.keyCode===F.ESCAPE&&i.hide()}),(0,P["default"])(function(){(X=(0,P["default"])("#"+G)).on("touchmove",function(){return!1})}),Shopify.UIModal=null!=t["default"]?t["default"]:t}),It=e(function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){if(!e.prop("disabled")){e.parent().addClass("active");var t=o(e);t.removeClass("display-from-bottom"),e.trigger("dropdown:show");var n=(0,l["default"])(window);t.length&&n.scrollTop()+n.height()-t.offset().top<t.siblings(".dropdown, .next-dropdown").height()&&t.addClass("display-from-bottom")}}function o(e){var t=e.attr("data-dropdown");return(0,l["default"])(t,e)}function a(e){var t=e.parent();t.hasClass("active")&&(o(e).removeClass("display-from-bottom"),t.removeClass("active"),e.trigger("dropdown:hide"))}function s(e){e.parent().hasClass("active")?e.hasClass("js-keep-open")||a(e):(e.parents(".dropdown, .next-dropdown").length||u(),i(e))}function u(){[].concat(r(document.querySelectorAll("[data-dropdown]"))).forEach(function(e){a((0,l["default"])(e))})}Object.defineProperty(t,"__esModule",{value:!0}),t.trigger=s,t.hide=u;var l=n($);(0,l["default"])(document).on("click",function(e){var t=void 0,n=(0,l["default"])(e.target);if((!n.parents('[class*="ui-"]').not('[class*="ui-stack"]').not('[class*="ui-card"]').not('[class*="ui-layout"]').not('[class*="ui-app-frame"]').not('[class*="ui-button"]').length||n.closest(".dropdown-container, .next-dropdown__container").length)&&!n.closest(".next-tab--disclosure").length){var r=n.closest("a");(t=n.closest("[data-dropdown]")).length?(e.preventDefault(),s(t)):(r.length&&!r.hasClass("js-keep-open")||!n.closest(".dropdown, .next-dropdown").length)&&u()}}),Shopify.Dropdown=null!=t["default"]?t["default"]:t});e(function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e){var t=(0,b["default"])(e.currentTarget);t.hasClass(k)&&(C.trigger(t),e.stopPropagation())}function o(){var t=[],e=document.querySelectorAll("."+a+":not(."+T+")");return[].concat(i(e)).forEach(function(e){e.hasAttribute("data-has-next-tab-controller")||t.push(new u(e))})}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}(),b=r($),_=n(wt),S=r(yt),w=r(Pt),C=n(It),E="next-tab",k="next-tab--disclosure",a="next-tab__list",x="next-tab__list--full",T="next-tab__list--vertical",O="next-tab__panel",A="next-tab--is-active",P="next-tab__panel--is-active",I="active",R="next-tab--is-in-disclosure-dropdown",N="next-tab:activated",s={_init:o},u=function(){function o(e){g(this,o);var t=void 0,n=void 0;this.modalInit=this.modalInit.bind(this),this.overflowTabs=this.overflowTabs.bind(this),this._hideTabsToFit=this._hideTabsToFit.bind(this),this._onTabClick=this._onTabClick.bind(this),this._onTabKeydown=this._onTabKeydown.bind(this),this._onTabBlur=this._onTabBlur.bind(this),this._onTabFocus=this._onTabFocus.bind(this),this.node=e,this.node.dataset.hasNextTabController=!0;var r=this.$tablist=(0,b["default"])(this.node),i=r.find("."+k);this.shouldOverflow=0<i.length,this.$tabs=n=this.$tablist.find("."+E+":not(."+k+")"),this.tabs=t=n.toArray(),t.forEach(function(e,t){e.index=t}),this._tabWidths=t.map(function(e){return e.parentElement.offsetWidth}),this.$panels=(0,b["default"])(this.node).parent().find("."+O),this.shouldOverflow&&(this.$disclosureTab=i,this.$disclosureTablist=i.parent().find("."+T),this.overflowTabs(),this._forceActiveTabToBeVisible(),(0,b["default"])(window).resize(this.overflowTabs)),r.on("touchstart."+E,"."+E,v),r.on("click."+E,"."+E,this._onTabClick),r.on("keydown."+E,"."+E,this._onTabKeydown),r.on("blur."+E,"."+E,this._onTabBlur),r.on("focus."+E,"."+E,this._onTabFocus),0<(0,b["default"])(this.node).parents(".ui-modal").length&&S["default"].register(w["default"].EVENTS.SHOW,this.modalInit).bindToNode(this.node)}return y(o,[{key:"modalInit",value:function e(){this.modalDidInit||(this.modalDidInit=!0,this._tabWidths=this.tabs.map(function(e){return e.parentElement.offsetWidth}),this.overflowTabs())}},{key:"findActiveTab",value:function t(){return this.tabs.filter(function(e){return e.classList.contains(A)})[0]}},{key:"activateTab",value:function a(e,t){var n=void 0,r=(1<arguments.length&&t!==undefined?arguments[1]:{}).preventFocus||!1;if(e.hasClass(A))return!1;this.$tabs.attr("aria-selected","false").removeClass(A),e.attr("aria-selected","true").addClass(A),this.$panels.attr("aria-hidden","true").removeClass(P);var i=this.matchingPanel(e).attr("aria-hidden","false").addClass(P).children().first().attr("tabindex",0);return this.shouldOverflow&&this._forceActiveTabToBeVisible(e),r||(this.focusTab(e),(n=e.attr("href"))&&0!==n.indexOf("#")||i.trigger("focus")),S["default"].dispatch({type:N,node:e[0]})}},{key:"focusTab",value:function r(e){var t=void 0,n=void 0;return this.shouldOverflow&&(n=e.hasClass(R),t=this.$disclosureTablist.closest(".dropdown-container").hasClass(I),(n&&!t||t&&!n)&&C.trigger(this.$disclosureTab)),this.$tabs.attr("tabindex",-1),e.attr("tabindex",0),e.trigger("focus")}},{key:"overflowTabs",value:function n(){this.shouldOverflow&&0<this.$tablist[0].offsetWidth&&(this.$tablist[0].offsetWidth<this._widthUsed()?this._hideTabsToFit():this._showTabsToFit())}},{key:"matchingPanel",value:function i(e){return this.$panels.filter("#"+e.attr("aria-controls"))}},{key:"_widthUsed",value:function s(){var t=this,n=this._disclosureWidth();return this.tabs.forEach(function(e){e.classList.contains(R)||(n+=t._tabWidths[e.index])}),n}},{key:"_disclosureWidth",value:function u(){return this.$disclosureTab.outerWidth(!0)}},{key:"_hideTabsToFit",value:function l(){var s=this;this.$tablist.addClass(x);for(var e=this.$tablist[0].offsetWidth,t=this._widthUsed()-e,u=[],n=this.tabs.length-1;0<=n;){var r=this.tabs[n];if(t<=u.reduce(function(e,t){return e+t.parentElement.offsetWidth},0))break;r.classList.contains(A)||r.classList.contains(R)||u.push(r),n--}return function(){var e=!0,t=!1,n=undefined;try{for(var r,i=u[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.classList.add(R),(0,b["default"])(o).parent().prependTo(s.$disclosureTablist)}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}}()}},{key:"_showTabsToFit",value:function c(){var n=this,r=this.$tablist[0].offsetWidth,i=[],o=this._disclosureWidth();this.tabs.forEach(function(e,t){e.classList.contains(R)?i.push(e):o+=n._tabWidths[t]});var a=0;return function(){for(;a<i.length;){var e=i[a],t=o+n._tabWidths[e.index];if(a+1===i.length&&(t-=n._disclosureWidth()),!(t<=r))break;o+=n._tabWidths[e.index],e.classList.remove(R),(0,b["default"])(e).parent().insertBefore(0<e.index?n.$tablist.children().eq(e.index):n.$tablist.children().eq(0)),a+1===i.length&&n.$tablist.removeClass(x),a++}}()}},{key:"_forceActiveTabToBeVisible",value:function d(){var e=!0,t=!1,n=undefined;try{for(var r,i=this.tabs[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o.classList.remove(R),(0,b["default"])(o).parent().insertBefore(this.$tablist.children().eq(o.index))}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}return this.overflowTabs()}},{key:"_onTabClick",value:function f(e){if(1===e.which){var t=(0,b["default"])(e.currentTarget);if(!t.hasClass(k)){var n=t.attr("href");n&&0===n.indexOf("#")&&e.preventDefault(),e.metaKey||e.ctrlKey||this.activateTab(t)}}}},{key:"_onTabKeydown",value:function h(e){if([_.LEFT,_.RIGHT,_.UP,_.DOWN,_.ENTER].includes(e.which)){e.preventDefault();var t=(0,b["default"])(e.currentTarget),n=this.tabs.indexOf(t[0]);e.which!==_.RIGHT&&e.which!==_.DOWN?e.which!==_.LEFT&&e.which!==_.UP?e.which===_.ENTER&&t[0].click():0===n?this.focusTab((0,b["default"])(this.tabs[this.tabs.length-1])):this.focusTab((0,b["default"])(this.tabs[n-1])):n===this.tabs.length-1?this.focusTab((0,b["default"])(this.tabs[0])):this.focusTab((0,b["default"])(this.tabs[n+1]))}}},{key:"_onTabBlur",value:function p(e){var t=this;(0,b["default"])(e.currentTarget).hasClass(k)||(this.$focusedTab=null,setTimeout(function(){if(null==t.$focusedTab){t.shouldOverflow&&t.$disclosureTab.siblings(".dropdown-container").hasClass(I)&&C.trigger(t.$disclosureTab),t.$tabs.attr("tabindex",-1);var e=(0,b["default"])(t.findActiveTab());t.shouldOverflow&&e.hasClass(R)?t.$disclosureTab.attr("tabindex",0):e.attr("tabindex",0)}},50))}},{key:"_onTabFocus",value:function m(e){var t=void 0;this.$focusedTab=t=(0,b["default"])(e.currentTarget),this.shouldOverflow&&t.hasClass(k)&&(t.siblings(".dropdown-container").hasClass(I)||C.trigger(t),this.$disclosureTablist.find("."+A).trigger("focus"),t.attr("tabindex",-1))}}]),o}();u.EVENT_TAB_ACTIVATED=N,u.send=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?null==s[e]?null:s[e].apply(null,n):s[e]},t["default"]=u,(0,bt.ready)(o),Shopify.NextTabs=null!=t["default"]?t["default"]:t});(function(){_.templateSettings.escape=/(?:\[%|\{\{)=([\s\S]+?)(?:\}\}|%\])/g,_.templateSettings.evaluate=/(?:\[%|\{\{)([\s\S]+?)(?:\}\}|%\])/g,_.templateSettings.interpolate=/(?:\[%|\{\{)!([\s\S]+?)(?:\}\}|%\])/g}).call(this),function(){var e,t,n,r,i,o,a,s,u;r=!1,e={DRAG_ENTER:"page-drop-zone:drag-enter",DRAG_OVER:"page-drop-zone:drag-over",DRAG_LEAVE:"page-drop-zone:drag-leave",DROP:"page-drop-zone:drop"},i=function(e){var t,n;return 0<=(null!=(t=e.originalEvent.dataTransfer)&&null!=(n=t.types[0])?n.toLowerCase().indexOf("file"):void 0)},t=function(e,t){if(i(e))return e.stopPropagation(),e.preventDefault(),t()},o=function(){if(!r)return Shopify.rootDispatcher.dispatch({type:e.DRAG_ENTER}),r=!0},a=function(){return Shopify.rootDispatcher.dispatch({type:e.DRAG_OVER})},u=function(){if(r)return r=!1,Shopify.rootDispatcher.dispatch({type:e.DRAG_LEAVE})},s=function(){return r=!1,Shopify.rootDispatcher.dispatch({type:e.DROP})},n=function(e){return null==e&&(e=document),$(e).on("dragenter",function(e){return t(e,o)}),$(e).on("dragover",function(e){return t(e,a)}),$(e).on("drop",function(e){return t(e,s)}),$(e).on("mouseleave",u)},window.Shopify.PageDropZone={EVENTS:e,initialize:n}}.call(this);var Rt=e(function(e,t){"use strict";function n(e){return Boolean((0,_.get)(window.Shopify,"shop.betaFlags["+e+"]",!1)||(0,_.get)(window.ThemeEditor,"betaFlags["+e+"]",!1))}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,Shopify.betaFlags=null!=t["default"]?t["default"]:t});e(function(e,t){"use strict";function n(e){var t=e.toLowerCase();return t=t.replace(/'|"|\(|\)|\[|\]/g,""),t=(t=(0,c["default"])("utf8_handles")?t.replace(/[\s\x21-\x2f\x3a-\x40\x7b-\x7f^`\\[\]]+/g,"-"):t.replace(/\W+/g,"-")).replace(/^-+|-+$/g,"")}function r(e,t,n){return 1===e?t:null==n?t+"s":n}function i(e,t,n){return e+" "+r(e,t,n)}function o(e){return e.charAt(0).toUpperCase()+e.substring(1)}function a(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1];return e.replace(/-|_/g," ").split(" ").map(function(e,t){return n&&0!==t?e:o(e)}).join(" ")}function s(e){return e.split("_").map(function(e){return o(e)}).join("")}function u(e,t){return e.length>t?e.substring(0,t).trim()+"...":e}function l(e){return e.split("_").join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.handleize=n,t.pluralize=r,t.pluralizeWithCount=i,t.titleize=a,t.classify=s,t.truncate=u,t.humanize=l;var c=se(Rt);Shopify.Inflection=null!=t["default"]?t["default"]:t}),e(function(){"use strict";function e(e){var t=r(e.target),n="focusin"===e.type;(0,i["default"])(t).toggleClass("next-label--is-focused",n)}function r(e){return document.querySelector("label[for='"+e.id+"']")}var i=se($);(0,i["default"])(document).on("focus blur",".ui-text-area",e)});(function(){var o,s,r,i,a,u,e,l,c,d,t,f,h,p,m,g,v,y=[].slice;o={TOGGLER_FOR:"data-accordion-toggler-for",MOBILE_ONLY:"data-accordion-mobile-only",EXPANDED:"data-accordion-expanded",DISABLED:"data-accordion-disabled",EXPANDED_LABEL:"data-accordion-expanded-label",COLLAPSED_LABEL:"data-accordion-collapsed-label"},i={ACTIVATING:(s={BASE:"ui-accordion",PANEL:"ui-accordion__panel",TOGGLER:"ui-accordion__toggler",EXPANDED:"ui-accordion--is-expanded"}).BASE+":activating",ACTIVATED:s.BASE+":activated",DEACTIVATED:s.BASE+":deactivated",DEACTIVATING:s.BASE+":deactivating"},r=300,(a=function(e){var t,n,r,i;return r=h(e),i=v(e),("true"===e.getAttribute(o.MOBILE_ONLY)&&Shopify.Breakpoints.DESKTOP.matches||!i||!r)&&e.setAttribute(o.DISABLED,!0),"true"===e.getAttribute(o.DISABLED)?(null!=r&&(r.style.display="block"),void((n=e.querySelector("."+s.TOGGLER))?n.style.display="none":i&&(i.style.display="none"))):("true"===e.getAttribute(o.EXPANDED)&&(e.classList.add(s.EXPANDED),r.style.display="block"),m(e,i),u(e,r,i),i.getAttribute(o.TOGGLER_FOR)||i.setAttribute(o.TOGGLER_FOR,""+e.id),t={toggle:function(){return g(e)},expand:function(){return d(e)},collapse:function(){return c(e)},isExpanded:function(){return f(e)}},$(e).data(s.BASE,t),t)})["for"]=function(e){if(e.classList.contains(s.BASE))return $(e).data(s.BASE)||a(e)},a.send=function(e){var t,n,r;return n=e,(t=2<=arguments.length?y.call(arguments,1):[]).length?null!=(r=p[n])?r.apply(null,t):void 0:p[n]},a.CLASSES=s,a.ATTRS=o,a.EVENTS=i,Shopify.UIAccordion=a,l=1,d=function(e){var t,n;if(!f(e))return t=h(e),n=v(e),e.classList.add(s.EXPANDED),$(e).trigger(i.ACTIVATING),$(t).slideDown(r,function(){return $(e).trigger(i.ACTIVATED)}),t.setAttribute("aria-hidden","false"),n.setAttribute("aria-expanded","true"),m(e,n)},c=function(e){var t,n;if(f(e))return t=h(e),n=v(e),e.classList.remove(s.EXPANDED),$(e).trigger(i.DEACTIVATING),$(t).slideUp(r,function(){return $(e).trigger(i.DEACTIVATED)}),t.setAttribute("aria-hidden","true"),n.setAttribute("aria-expanded","false"),m(e,n)},g=function(e){return f(e)?c(e):d(e)},e=function(e){var t,n;if(("A"!==e.target.nodeName||e.target.href===document.location.href)&&(n=e.currentTarget.getAttribute(o.TOGGLER_FOR),(t=document.getElementById(n))&&t.classList.contains(s.BASE)&&"true"!==t.getAttribute(o.DISABLED)))return e.preventDefault(),g(t)},p={a11yAccordions:u=function(e,t,n){var r,i,o,a;return i=l++,r=e.id||s.BASE+"--"+i,o=t.id||s.PANEL+"--"+i,a=n.id||s.TOGGLER+"--"+i,$(e).attr({id:r}),$(t).attr({id:o,"aria-hidden":""+(0===t.offsetHeight)}),$(n).attr({id:a,"aria-expanded":""+(0!==t.offsetHeight),"aria-controls":o})},togglerFor:v=function(e){var t;return(t=e.querySelector("."+s.TOGGLER))?t.children[0]:document.querySelector("["+o.TOGGLER_FOR+"='"+e.id+"']")},panelFor:h=function(e){return e.querySelector("."+s.PANEL)},setTogglerLabel:m=function(e,t){var n,r;if(r=e.getAttribute(o.EXPANDED_LABEL),n=e.getAttribute(o.COLLAPSED_LABEL),r&&n)return t.innerHTML=f(e)?r:n},expand:d,collapse:c,toggle:g,accordionClick:e,isExpanded:f=function(e){return e.classList.contains(s.EXPANDED)}},t=function(){var e,t,n,r,i;for(i=[],t=0,n=(r=document.getElementsByClassName(s.BASE)).length;t<n;t++)e=r[t],i.push(a(e));return i},$(document).on("ready page:load",t).on("click","[data-accordion-toggler-for]",e)}).call(this);var Nt=e(function(e,t){
"use strict";function l(e){return 0===e.size?Promise.reject(new Error(p)):e.size>=o?Promise.reject(new Error(h)):Promise.resolve()}function c(e){return!e.type||e.type.match(u)?Promise.resolve():Promise.reject(new Error(g))}function i(r){return new Promise(function(e,t){var n=new Image;return n.onerror=function(){return t(new Error(g))},n.onload=function(){return n.height*n.width>=s?t(new Error(m)):e(n)},n.src=r,n.src})}function d(r){return new Promise(function(t,n){var e=new FileReader;return e.onerror=function(){return n(new Error(g))},e.onload=function(e){return r.type.match(f)?i(e.target.result).then(t)["catch"](n):t()},e.readAsDataURL(r)})}function n(e,t){function n(){return s.processingTime=Date.now()-a,setTimeout(function(){return window.trekkie&&window.trekkie.track("image-upload",s)},1e4)}function r(e){if(e)return s=Object.assign(s,{height:e.height,width:e.width,resolution:e.height*e.height}),e}var i=1<arguments.length&&t!==undefined?arguments[1]:{};if(!e)return Promise.reject(new Error(g));var o=[],a=Date.now(),s={fileSize:e.size,fileType:e.type};if(i.skipFileSizeValidation||o.push(l(e)),i.skipFileTypeValidation||o.push(c(e)),!i.skipImageLoadValidation){var u=d(e);u.then(r),o.push(u)}return Promise.all(o)["catch"](function(e){return n(),Promise.reject(e)}).then(function(e){return n(),Promise.resolve(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.validateImage=n;var r=20,o=1024*r*1024,a=20,s=a*Math.pow(2,20),u=/image|psd|photoshop|bmp/i,f=/jpg|jpeg|png|gif|svg|ico/i,h=t.FILE_TOO_LARGE_ERROR="Image file is too large. Resize it or choose a file less than "+r+" megabytes.",p=t.FILE_TOO_SMALL_ERROR="Image file is too small. Make sure the image isn't corrupt.",m=t.RESOLUTION_ERROR="The pixel limit is "+a+" megapixels. Resize your image and upload it again.",g=t.INVALID_ERROR="Image file is invalid. Make sure the format is valid (jpeg/png/svg/psd/gif) and the image isn't corrupt.";Shopify.ImageValidator=null!=t["default"]?t["default"]:t});(function(){Shopify.DismissibleElement=function(){function e(e,t,n){this.handle=t,this.options=null!=n?n:{},this.$node=$(e).closest("[data-dismissible-wrapper]"),this.$node.length||(this.$node=$(e)),this.session=Shopify.VeryShortSession.findOrInit(this.handle+":dismissible",{dismissed:!1}),this.session.dismissed?this.$node.addClass("hide"):this.$node.addClass("ui-dismissible--transitionable")}return e.prototype.dismiss=function(){return this.options.permanent?this._dismissPermanently():this._dismissForSession()},e.prototype._dismissPermanently=function(){return $.post("/admin/dismissible_element.json",{_method:"delete",handle:this.handle}),this._hide()},e.prototype._dismissForSession=function(){return this.session.dismissed=!0,this._hide()},e.prototype._hide=function(){var e,t;return this.$node.one("transitionend webkitTransitionEnd",(e=this,function(){return e.$node.remove()})).css({maxHeight:this.$node.height()}).get().offsetHeight,_.defer((t=this,function(){return t.$node.addClass("ui-dismissible--is-closed")}))},e}()}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={},n={findOrInit:function i(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};return r[e]||(r[e]=n)}};t["default"]=n,Shopify.VeryShortSession=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(e){var t=window.open("");return r.ajax({url:r.routes.theme_preview(e).json,method:"POST",dataType:"json"}).done(function(e){t.location.href=e.preview_url})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n;var r=window.Shopify;r.redirectToPreview=null!=t["default"]?t["default"]:t});(function(){var l;l=["home_date_range","homeSidebarDate","homeSidebarChannel"],window.SafeLocalStorage={get:function(e,t){var n;if(2!==arguments.length)throw"SafeLocalStorage developer error: You must supply a 2nd argument, a fallback/default value, to SafeLocalStorage.get()";try{n=localStorage.getItem(e);try{return"undefined"===(n=JSON.parse(n))?t:null!=n?n:t}catch(r){return r,"undefined"===n?t:null!=n?n:t}}catch(r){return r,t}},set:function(e,t){try{return localStorage.setItem(e,JSON.stringify(t))}catch(n){}},"delete":function(e){try{return localStorage.removeItem(e)}catch(t){}},clear:function(){try{return localStorage.clear()}catch(e){}},clearUnsafeItems:function(){var e,t,n,r,i,o,a,s;try{for(s={},e=0,r=l.length;e<r;e++)n=l[e],null!==(a=this.get(n,null))&&(s[n]=a);for(o=this.clear(),t=0,i=l.length;t<i;t++)null!==(a=s[n=l[t]])&&this.set(n,a);return o}catch(u){}}}}).call(this);e(function(){"use strict";window.ThemeEditor=Object.assign(window.ThemeEditor||{},{Settings:{},Utils:{}})}),e(function(e,t){"use strict";function n(){return s["default"].get(u,function(){return!1})}function r(){n()?(i(),l.info("Theme Editor API event logger is ENABLED - to disable call `ThemeEditorAPI.disableLogs()`. `ThemeEditorAPI.help()` for help.")):(o(),l.info("Theme Editor API event logger is DISABLED - to enable call `ThemeEditorAPI.enableLogs()`. `ThemeEditorAPI.help()` for help."))}function i(){s["default"].set(u,!0),l.info("Theme Editor API event logging is ENABLED.")}function o(){s["default"].set(u,!1),l.info("Theme Editor API event logging is DISABLED.")}function a(){l.info("ThemeEditorAPI methods:"),l.table({enableLogs:{Description:"Turn on Theme Editor API event logging",Example:"ThemeEditorAPI.enableLogs()"},disableLogs:{Description:"Turn off Theme Editor API event logging",Example:"ThemeEditorAPI.disableLogs()"},help:{Description:"Print this help message",Example:"ThemeEditorAPI.help()"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.initialize=r,t.enableLogs=i,t.disableLogs=o,t.help=a;var s=se(window.SafeLocalStorage),u="APILogsEnabled",l={info:function c(e){try{console.info(e)}finally{}},table:function d(e){try{console.table(e)}catch(t){this.info(e)}}};window.ThemeEditorAPI=null!=t["default"]?t["default"]:t});(function(){var n;n=function(e){return _.zipObject(e,_.times(e.length,function(){return!0}))},this.Messenger=function(){function e(e,t){null==e&&(e=[]),this._context=null!=t?t:window,this._allowedKeys=n(e),this._handleUnload(this._context)}var a;return a={},e.prototype._handleUnload=function(n){var e;return e=function(){var e,t;for(e in a)t=a[e],a[e]=t.filter(function(e){return e.context!==n}),a[e].length||delete a[e]},n.addEventListener("unload",e,!0)},e.prototype.on=function(e,t){return this.assertValidKey(e),null==a[e]&&(a[e]=[]),t.context=this._context,a[e].push(t)},e.prototype.once=function(t,n){var r,i;return r=function(e){return i.off(t,r),n(e)},(i=this).on(t,r)},e.prototype.off=function(e,t){var n,r,i,o;if(a[e])for(r=n=0,i=(o=a[e]).length;n<i;r=++n)if(t===o[r])return a[e].splice(r,1)},e.prototype.notify=function(e,t){var n,r,i;if(e)for(this.assertValidKey(e),n=0,r=(i=(a[e]||[]).slice()).length;n<r;n++)(0,i[n])(t)},e.prototype.assertValidKey=function(e){if(!Boolean(this._allowedKeys[e]))return Bugsnag.notify("InvalidMessengerKey","Invalid key '"+e+"'. Ensure valid keys are predefined",{key:e,allowedKeys:Object.keys(this._allowedKeys).join(", ")},"info")},e.prototype._testAPI=function(){return{getSubscribers:function(){return a},reset:function(){return a={}}}},e}()}).call(this),function(){var t,i,s=[].slice;t=window.Bugsnag||window.parent.Bugsnag,i=function(e){return _.zipObject(e,_.times(e.length,function(){return!0}))},this.State=function(){function e(e,t){null==e&&(e=[]),this._context=null!=t?t:window,this._allowedKeys=i(e),this._handleUnload(this._context)}var a,n,r;return n=[],a={},r={},e.prototype._handleUnload=function(n){var e;return e=function(){var e,t;for(e in a)t=a[e],a[e]=t.filter(function(e){return e.context!==n}),a[e].length||delete a[e]},n.addEventListener("unload",e,!0)},e.prototype.subscribe=function(e,t){return this.assertValidKey(e),null==a[e]&&(a[e]=[]),t.context=this._context,a[e].push(t)},e.prototype.unsubscribe=function(e,t){var n,r,i,o;if(a[e])for(r=n=0,i=(o=a[e]).length;n<i;r=++n)if(t===o[r])return a[e].splice(r,1)},e.prototype.get=function(e){return this.assertValidKey(e),r[e]},e.prototype.set=function(){var e,t,n,r,i,o,a;if((i=1<=arguments.length?s.call(arguments,0):[]).length){for(1===i.length?n=this._setProperties(i[0]):(t=i[0],a=i[1],n=this._setProperty(t,a)?[t]:[]),e=0,r=n.length;e<r;e++)o=n[e],this._publish(o);return!!n.length}},e.prototype._setProperties=function(e){var t,n,r;for(t in n=[],e)r=e[t],this._setProperty(t,r)&&n.push(t);return n},e.prototype._setProperty=function(e,t){var n;if(this.assertValidKey(e),this._isPublishing(e))throw this._publishingError(e);return(n=!_.isEqual(r[e],t))&&(r[e]=t),n},e.prototype._testAPI=function(){return{setProperty:function(e,t){return r[e]=t},setState:function(e){return r=e},getState:function(){return r},getCallbacks:function(){return a},getPublishing:function(){return n},isPublishing:this._isPublishing,reset:function(){return r={},a={},n=[]}}},e.prototype._isPublishing=function(e){return _.includes(n,e)},e.prototype._publishingError=function(e){return new Error("Cannot mutate the same key "+e+" within nested 'set' calls")},e.prototype.assertValidKey=function(e){if(!Boolean(this._allowedKeys[e]))return t.notify("InvalidStateKey","Invalid key '"+e+"'. Ensure valid keys are predefined",{key:e,allowedKeys:Object.keys(this._allowedKeys).join(", ")},"info")},e.prototype._publish=function(e){var t,n,r,i;for(n=0,r=(i=(a[e]||[]).slice()).length;n<r;n++)t=i[n],this._invoke(e,t)},e.prototype._invoke=function(e,t){n.push(e);try{return t.call(this._context,r[e])}finally{n.pop()}},e}()}.call(this);var Dt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.ALLOWED_MESSENGER_KEYS=["setState","globalColorUpdate","colorUpdate","liveColorUpdate","liveSettingUpdated","previewLoaded","previewUnloading","previewNavigated","stylesheetContent","requestStylesheets","createSection","renderSection","renderedSection","reorderedSection","refreshSection","deleteSection","deleteBlock","flashMessage","userAction","resetFocus","resetPreviewFocus","insertSection","sectionCreated","cancelSectionCreate","insertBlock","reorderBlock","setPreviewLocation","reloadPreview","stylesheetReceived","openPanelFromUrl"],r=t.ALLOWED_STATE_KEYS=["viewportSize","loading","saving","publishing","dirty","outlinedSection","hasSections","togglingSectionDisabled","brokenMarkupDetected","resource","pageInfo","template","selection","sections","sectionReordering","pendingSection","currentSetting","contentForIndex","activeLiveSettings","sectionGeneralSettings","unsupportedTemplate","currentColors","recentlySelectedColors","refreshing"];window.ALLOWED_MESSENGER_KEYS=n,window.ALLOWED_STATE_KEYS=r}),Lt=e(function(e,t){"use strict";function n(e){requestAnimationFrame(function(){requestAnimationFrame(e)})}Object.defineProperty(t,"__esModule",{value:!0}),t.toClassName=undefined,t.requestNextAnimationFrame=n;t.toClassName=(0,rt.flow)(rt.camelCase,rt.upperFirst);window.ThemeEditor.Utils=null!=t["default"]?t["default"]:t});(function(){this.SassResponseParser={PREFIX:"Error: ",STORE_KEY:"HiddenSassErrors",parse:function(e){var t,n,r,i;return 0===e.indexOf(SassResponseParser.PREFIX)&&(n=r=JSON.parse(e.substring(SassResponseParser.PREFIX.length)),i=n.theme_id,n.file,t=SafeLocalStorage.get(SassResponseParser.STORE_KEY,[]),!_.find(t,function(e){var t,n;return n=e[0],t=e[1],i===n&&t})&&r)}}}).call(this),function(){var l=function(e,t){return function(){return e.apply(t,arguments)}};ThemeEditor.Block=function(){function e(e,t,n,r){var i,o,a,s,u;for(this.id=e,this.section=t,this.saved=null==r||r,this.initialize=l(this.initialize,this),this.key=this.section.key+".block."+this.id,this.keypath=this.key+".",this.settingsById={},i=0,o=(a=n.settings).length;i<o;i++)u=a[i],(s=$.extend({},u)).block=this,s.section=this.section,this.settingsById[s.id]=new(ThemeEditor.Settings[ThemeEditor.Utils.toClassName(s.type)])(s,this);this.name=n.name,this.icon=n.icon,this.type=n.type,this.typeSetting=new ThemeEditor.Settings.Hidden(n.type_setting,this),this.panel=this.typeSetting.panel,this.$element=$("[data-block-id='"+this.id+"']"),this.bubbleEvent("change",this.section)}return _.extend(e.prototype,EventMixin),e.prototype.initialize=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.initialize());return n},e.prototype.asFormData=function(){var e,t,n,r;for(t in(e=[]).push(this.typeSetting.asFormData()),n=this.settingsById)r=n[t],e.push(r.asFormData());return e},e.prototype.isDirty=function(){var e,t;if(!this.saved)return!0;if(this.typeSetting.isDirty())return!0;for(e in t=this.settingsById)if(t[e].isDirty())return!0;return!1},e.prototype.resetDirty=function(){var e,t;for(e in this.saved=!0,t=this.settingsById)t[e].resetDirty()},e.prototype.activate=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.activate());return n},e.prototype.deactivate=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.deactivate());return n},e.prototype.teardown=function(){var e,t;for(e in t=this.settingsById)t[e].teardown()},e.prototype.abort=function(){var e,t;for(e in t=this.settingsById)t[e].abort()},e}()}.call(this),function(){var o=function(e,t){return function(){return e.apply(t,arguments)}};ThemeEditor.Blocks=function(){function e(e,t,n){var r,i;for(r in this.section=e,null==t&&(t={}),this.blockOrderSetting=n,this.onDeleteBlock=o(this.onDeleteBlock,this),this["delete"]=o(this["delete"],this),this.byId={},this.typeCount={},messenger.on("deleteBlock",this.onDeleteBlock),this.bubbleEvent("create",this.section),this.bubbleEvent("delete",this.section),t)i=t[r],this.instantiateBlock(r,i)}return _.extend(e.prototype,EventMixin),e.prototype.instantiateBlock=function(e,t,n){var r;return null==n&&(n=!0),r=new ThemeEditor.Block(e,this.section,t,n),this.byId[e]=r,this.increaseTypeCounter(r.type),r},e.prototype.create=function(e,t){var n;return n=this.instantiateBlock(e,t,!1),this.trigger("create",n,this.blockOrderSetting.count()),this.blockOrderSetting.push(e,{block:n}),n},e.prototype.insert=function(e,t){return this.byId[t.id]=t,this.increaseTypeCounter(t.type),this.trigger("create",t,e),this.blockOrderSetting.insert(e,t.id,{block:t}),t},e.prototype["delete"]=function(e){var t,n;return n=this.blockOrderSetting.indexOf(e),t=this.byId[e],delete this.byId[e],this.blockOrderSetting["delete"](e,{block:t}),this.decreaseTypeCounter(t.type),t.teardown(),this.trigger("delete",t,n)},e.prototype.onDeleteBlock=function(e){if(this.byId[e])return this["delete"](e)},e.prototype.first=function(){var e,t;for(e in t=this.byId)return t[e]},e.prototype.count=function(){return Object.keys(this.byId).length},e.prototype.increaseTypeCounter=function(e){return null==this.typeCount[e]&&(this.typeCount[e]=0),this.typeCount[e]++},e.prototype.decreaseTypeCounter=function(e){if(this.typeCount[e]--,0===this.typeCount[e])return delete this.typeCount[e]},e.prototype.countByType=function(e){return this.typeCount[e]||0},e.prototype.asFormData=function(){var e,t,n,r;for(n in t=[],r=this.byId)e=r[n],t.push.apply(t,e.asFormData());return this.blockOrderSetting&&t.push(this.blockOrderSetting.asFormData()),t},e.prototype.isDirty=function(){var e,t,n;for(e in t=this.byId)if(t[e].isDirty())return!0;return!(null==(n=this.blockOrderSetting)||!n.isDirty())},e.prototype.resetDirty=function(){var e,t,n;for(e in t=this.byId)t[e].resetDirty();null!=(n=this.blockOrderSetting)&&n.resetDirty()},e.prototype.teardown=function(){var e,t,n;for(e in t=this.byId)t[e].teardown();null!=(n=this.blockOrderSetting)&&n.teardown()},e.prototype.abort=function(){var e,t,n;for(e in t=this.byId)t[e].abort();null!=(n=this.blockOrderSetting)&&n.abort()},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}},n=[].slice;ThemeEditor.DirtyTracker=function(){function e(e){var t,n,r;for(this.settingsContainers=null!=e?e:[],this.onSettingChanged=i(this.onSettingChanged,this),t=0,n=(r=this.settingsContainers).length;t<n;t++)r[t].on("change",this.onSettingChanged)}return _.extend(e.prototype,EventMixin),e.prototype.isDirty=function(){var e,t,n;for(e=0,t=(n=this.settingsContainers).length;e<t;e++)if(n[e].isDirty())return!0;return!1},e.prototype.reset=function(){var e,t,n;for(e=0,t=(n=this.settingsContainers).length;e<t;e++)n[e].resetDirty();return state.set("dirty",!1)},e.prototype.onSettingChanged=function(e,t){if((null!=t?t:{}).previewOnly||state.set("dirty",("function"==typeof e.isDirty?e.isDirty():void 0)||this.isDirty()),!this.frozen)return this.trigger.apply(this,["change"].concat(n.call(arguments)))},e.prototype.restoreSavedValues=function(){return this._freeze((o=this,function(){var e,t,n,r,i;for(i=[],t=0,n=(r=o.settingsContainers).length;t<n;t++)(e=r[t].restoreSavedValues()).length&&i.push.apply(i,e);return i}));var o},e.prototype._freeze=function(e){var t;return this.frozen=!0,t=e(),this.frozen=!1,t},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};ThemeEditor.GeneralSettings=function(){function e(e){var t,n,r;for(null==e&&(e=[]),this.applyValues=i(this.applyValues,this),this.keypath="setting.",this.settingsById||(this.settingsById={}),this.panels||(this.panels={}),this.orderedSettingIds||(this.orderedSettingIds=[]),t=0,n=e.length;t<n;t++)r=e[t],this.add(r);this.activatedPanels={}}return _.extend(e.prototype,EventMixin),e.prototype.add=function(e){var t,n;return e=new(ThemeEditor.Settings[ThemeEditor.Utils.toClassName(e.type)])(e,this),this.settingsById[e.id]=e,((t=this.panels)[n=e.panel]||(t[n]=[])).push(e),this.orderedSettingIds.push(e.id)},e.prototype.applyValues=function(t){var n,e,r;return e={type:"themeStyle",changes:function(){var e;for(n in e=[],t)r=t[n],null!=this.settingsById[n]&&(this.settingsById[n].setValue(r,{"transient":!0}),e.push(this.settingsById[n]));return e}.call(this),owner:this,hasChanged:function(){return!0}},this.trigger("change",e,{previewOnly:!0}),e},e.prototype.confirmChanges=function(e){return this.trigger("change",e)},e.prototype.panel=function(e){return this.panels[e]||[]},e.prototype.activate=function(e){var t,n,r,i,o,a;if(r=e.panelName,!this.activatedPanels[r]){for(this.activatedPanels[r]=!0,o=[],t=0,n=(i=this.panel(r)).length;t<n;t++)a=i[t],o.push(a.activate());return o}},e.prototype.deactivate=function(e){var t,n,r,i,o,a;if(r=e.panelName,this.activatedPanels[r]){for(delete this.activatedPanels[r],o=[],t=0,n=(i=this.panel(r)).length;t<n;t++)a=i[t],o.push(a.deactivate());return o}},e.prototype.find=function(e){return this.settingsById[e]},e.prototype.overridesData=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.dirty()).length;e<t;e++)i=n[e],r.push(i.asFormData());return r},e.prototype.saveData=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.asFormData());return n},e.prototype.dirty=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)(r=t[e]).isDirty()&&n.push(r);return n},e.prototype.isDirty=function(){var e,t;for(e in t=this.settingsById)if(t[e].isDirty())return!0;return!1},e.prototype.abort=function(){var e,t;for(e in t=this.settingsById)t[e].abort()},e.prototype.teardown=function(){var e,t;for(e in t=this.settingsById)t[e].teardown()},e.prototype.resetDirty=function(){var e,t;for(e in t=this.settingsById)t[e].resetDirty()},e.prototype.restoreSavedValues=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)(r=t[e]).restoreSavedValue()&&n.push(r);return n},e}()}.call(this),function(){var a=function(e,t){return function(){return e.apply(t,arguments)}},s=[].slice;ThemeEditor.Overrides=function(){function e(e,t){var n,r,i,o;for(this.settingsContainers=null!=e?e:[],this.previewLocation=t.previewLocation,this.abort=a(this.abort,this),this._onDeleteSection=a(this._onDeleteSection,this),this.onError=a(this.onError,this),this.handleResponse=a(this.handleResponse,this),this.saveAndReloadCss=a(this.saveAndReloadCss,this),this.saveAndRenderSection=a(this.saveAndRenderSection,this),this.save=a(this.save,this),this.xhrRequests={},messenger.on("deleteSection",this._onDeleteSection),n=0,r=(o=["save","saveAndRenderSection","saveAndReloadCss"]).length;n<r;n++)this[i=o[n]]=_.wrap(this[i],function(e){var t,n;if(n=e,t=2<=arguments.length?s.call(arguments,1):[],!state.get("saving"))return n.apply(null,t)})}return e.prototype.data=function(){var e,t,n,r,i;for(r=[],e=0,t=(n=this.settingsContainers).length;e<t;e++)i=n[e],r.push.apply(r,i.overridesData());return 0===r.length?[{name:"settings",value:""}]:r},e.prototype.save=function(t){return null==t&&(t=function(){}),this._dedupe("save",(n=this,function(){var e;return e=Shopify.ajax({method:"PUT",url:Shopify.routes.theme_editor_override(THEME_ID).json,data:n.data()}),n.handleResponse(e,t)}));var n},e.prototype.saveAndRenderSection=function(i,o){var t,n,r;return(t=this.data()).push({name:"_method",value:"GET"}),t.push.apply(t,i.asQueryParam()),n=function(e){var t,n,r;return t=(r=JSON.parse(e)).html,n=r.json,o({section:i,html:t,json:n})},this._dedupe("save_"+i.id,(r=this,function(){var e;return e=Shopify.ajax({method:"POST",url:r.previewLocation().href,dataType:"html",data:t}),r.handleResponse(e,n)}))},e.prototype.saveAndReloadCss=function(e){var t,n,r,i,o,a;for((n=this.data()).push({name:"_method",value:"GET"}),r=0,i=e.length;r<i;r++)o=e[r],n.push({name:"paths[]",value:o});return o=Shopify.routes.editor_stylesheets(THEME_ID).json,t=function(e){var t,n;for(o in t=[],e)n=e[o],t.push(messenger.notify("stylesheetReceived",{url:o,value:n}));return t},this._dedupe("save_css_"+e.join(":"),(a=this,function(){var e;return e=Shopify.ajax({method:"POST",url:o,data:n}),a.handleResponse(e,t)}))},e.prototype.handleResponse=function(e,n){return e.done(n).fail((r=this,function(e,t){return e.getResponseHeader("X-Design-Mode-404")?n(e.responseJSON||e.responseText):r.onError(e,t)}));var r},e.prototype.onError=function(e){var t;return t=422===e.status?JSON.parse(e.responseText).errors.join(". ")+".":"Error communicating with server",messenger.notify("flashMessage",{type:"error",message:t})},e.prototype._onDeleteSection=function(e){var t,n;return null!=(n=this.xhrRequests["save_"+e])&&null!=(t=n.xhr)?t.abort():void 0},e.prototype._dedupe=function(t,n){var e,r;return null!=this.xhrRequests[t]&&(clearTimeout(this.xhrRequests[t].timeoutId),"pending"===(null!=(e=this.xhrRequests[t].xhr)?e.state():void 0)&&this.xhrRequests[t].xhr.abort()),this.xhrRequests[t]=this.xhrRequests[t]||{},this.xhrRequests[t].timeoutId=setTimeout((r=this,function(){var e;return r.xhrRequests[t].xhr=n(),null!=(e=r.xhrRequests[t].xhr)?e.always(function(){return delete r.xhrRequests[t]}):void 0}),0)},e.prototype.abort=function(){var e,t,n,r,i;for(e in r=[],t=this.xhrRequests)i=t[e],clearTimeout(i.timeoutId),null!=(n=i.xhr)&&n.abort(),r.push(delete this.xhrRequests[e]);return r},e}()}.call(this),function(){var f=function(e,t){return function(){return e.apply(t,arguments)}};ThemeEditor.Section=function(){function e(e,t,n){var r,i,o,a,s,u,l,c,d;for(this.id=e,a=null!=n?n:{},this.saved=null==(s=a.saved)||s,this.missing=null!=(u=a.missing)&&u,this.html=a.html,this.json=a.json,this.initialize=f(this.initialize,this),this.key="section."+this.id,this.keypath=this.key+".",this.settingsById={},i=0,o=(l=t.settings).length;i<o;i++)d=l[i],c=$.extend({},d),r=ThemeEditor.Utils.toClassName(c.type),this.settingsById[c.id]=new ThemeEditor.Settings[r](c,this);this.name=t.name,this.icon=t.icon,this.typeSetting=new ThemeEditor.Settings.Hidden(t.type_setting,this),this.disabledSetting=new ThemeEditor.Settings.SectionDisabled(t.disabled_setting,this),t.block_order_setting&&(t.block_order_setting.value=JSON.parse(t.block_order_setting.value),t.block_order_setting.type="blockOrder",this.blockOrderSetting=new ThemeEditor.Settings.Array(t.block_order_setting,this)),this.blocks=new ThemeEditor.Blocks(this,t.blocks,this.blockOrderSetting),this.panel=this.typeSetting.panel,this.maxBlocks=t.max_blocks,this.acceptsBlocks=t.accepts_blocks,this.$element=$("[data-panel-id='"+this.id+"']")}return _.extend(e.prototype,EventMixin),e.prototype.initialize=function(){var e,t,n,r,i,o,a;for(n in i=this.settingsById)i[n].initialize();for(this.disabledSetting.initialize(),a=[],t=0,r=(o=this.blocks).length;t<r;t++)e=o[t],a.push(e.initialize());return a},e.prototype.setData=function(e,t){return this.html=e,this.json=t},e.prototype.getData=function(){return{html:this.html,json:this.json}},e.prototype.hasData=function(){return Boolean(this.html&&this.json)},e.prototype.isDisabled=function(){return this.disabledSetting.value},e.prototype.toggleDisabled=function(){return this.disabledSetting.setValue(!this.isDisabled())},e.prototype.asQueryParam=function(){return[{name:"section_id",value:this.id}]},e.prototype.activate=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.activate());return n},e.prototype.deactivate=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)r=t[e],n.push(r.deactivate());return n},e.prototype.asFormData=function(){var e,t,n,r;for(t in e=[],n=this.settingsById)r=n[t],e.push(r.asFormData());return e.push(this.typeSetting.asFormData()),e.push(this.disabledSetting.asFormData()),e.push.apply(e,this.blocks.asFormData()),e},e.prototype.canAddBlock=function(){return!!this.acceptsBlocks&&(null==this.maxBlocks||this.blocks.count()<this.maxBlocks)},e.prototype.hasBlocks=function(){return 0!==this.blocks.count()},e.prototype.teardown=function(){var e,t;for(e in t=this.settingsById)t[e].teardown();this.disabledSetting.teardown(),this.blocks.teardown()},e.prototype.abort=function(){var e,t;for(e in t=this.settingsById)t[e].abort();this.disabledSetting.abort(),this.blocks.abort()},e.prototype.isDirty=function(){var e,t;if(!this.saved)return!0;for(e in t=this.settingsById)if(t[e].isDirty())return!0;return!!this.typeSetting.isDirty()||(!!this.disabledSetting.isDirty()||!!this.blocks.isDirty())},e.prototype.resetDirty=function(e,t){var n,r;for(n in this.saved=null==e||e,this.missing=null!=t&&t,r=this.settingsById)r[n].resetDirty();this.disabledSetting.resetDirty(),this.blocks.resetDirty()},e.prototype.restoreSavedValues=function(){var e,t,n,r;for(e in n=[],t=this.settingsById)(r=t[e]).restoreSavedValue()&&n.push(r);return n},e}()}.call(this),function(){var i=function(e,t){return function(){return e.apply(t,arguments)}};ThemeEditor.Sections=function(){function e(e,t){var n,r;for(n in null==e&&(e={}),this.contentForIndex=t,this.onDeleteSection=i(this.onDeleteSection,this),this["delete"]=i(this["delete"],this),this.byId={},messenger.on("deleteSection",this.onDeleteSection),this.contentForIndex.bubbleEvent("change",this),e)r=e[n],this.instantiateSection(n,r)}return _.extend(e.prototype,EventMixin),e.SECTION_LIMIT=25,e.prototype.instantiateSection=function(e,t,n){var r,i,o,a,s,u,l,c;return l=null==(s=(a=null!=n?n:{}).saved)||s,o=null!=(u=a.missing)&&u,r=a.html,i=a.json,c=new ThemeEditor.Section(e,t,{saved:l,missing:o,html:r,json:i}),(this.byId[e]=c).bubbleEvent("change",this),c.bubbleEvent("delete",this),c.bubbleEvent("create",this),c},e.prototype.create=function(e,t,n){var r,i,o,a,s,u;return s=(a=null!=n?n:{}).saved,o=a.missing,r=a.html,i=a.json,u=this.instantiateSection(e,t,{saved:s,missing:o,html:r,json:i}),o||this.contentForIndex.push(e,{section:u}),this.trigger("create",u,o?void 0:this.contentForIndex.count()),u},e.prototype.insert=function(e,t){return this.byId[t.id]=t,this.contentForIndex.insert(e,t.id,{section:t}),this.trigger("create",t,e),t},e.prototype["delete"]=function(e){var t,n;return t=this.contentForIndex.indexOf(e),n=this.byId[e],delete this.byId[e],this.contentForIndex["delete"](e,{section:n}),n.teardown(),this.trigger("delete",n,t)},e.prototype.onDeleteSection=function(e){if(this.byId[e])return this["delete"](e)},e.prototype.overridesData=function(){var e,t,n,r;for(t in e=[],n=this.byId)((r=n[t]).isDirty()||r.missing)&&e.push.apply(e,r.asFormData());return this.contentForIndex.isDirty()&&e.push(this.contentForIndex.overridesData()),e},e.prototype.saveData=function(){var e,t,n,r;for(t in e=[],n=this.byId)r=n[t],e.push.apply(e,r.asFormData());return e.push(this.contentForIndex.asFormData()),e},e.prototype.canCreateSection=function(){return this.contentForIndex.count()<e.SECTION_LIMIT},e.prototype.isDirty=function(){var e,t;for(e in t=this.byId)if(t[e].isDirty())return!0;return this.contentForIndex.isDirty()},e.prototype.resetDirty=function(){var e,t;for(e in t=this.byId)t[e].resetDirty();this.contentForIndex.resetDirty()},e.prototype.count=function(){return Object.keys(this.byId).length},e.prototype.teardown=function(){var e,t;for(e in t=this.byId)t[e].teardown();this.contentForIndex.teardown()},e.prototype.abort=function(){var e,t;for(e in t=this.byId)t[e].abort();this.contentForIndex.abort()},e.prototype.restoreSavedValues=function(){var e,t,n,r;for(e in n=[],t=this.byId)(r=t[e].restoreSavedValues()).length&&n.push.apply(n,r);return n},e}()}.call(this),function(){ThemeEditor.ContentForIndex=function(){function e(e){this.value=e,this.id="content_for_index",this.type="contentForIndex",this.resetDirty()}return _.extend(e.prototype,EventMixin),e.prototype.includes=function(e){return-1!==this.indexOf(e)},e.prototype.indexOf=function(e){return this.value?this.value.indexOf(e):-1},e.prototype.count=function(){return this.value?this.value.length:0},e.prototype.push=function(e,t){var n;return n=(null!=t?t:{}).section,this.insert(this.value.length,e,{section:n})},e.prototype.insert=function(e,t,n){var r,i;return r=(null!=n?n:{}).section,(i=this.value.slice(0)).splice(e,0,t),this.setValue(i,{section:r})},e.prototype["delete"]=function(e,t){var n,r,i;return r=(null!=t?t:{}).section,n=(i=this.value.slice(0)).indexOf(e),i.splice(n,1),this.setValue(i,{section:r})},e.prototype.swap=function(e,t){var n;return(n=this.value.slice(0)).splice(e,0,n.splice(t,1)[0]),this.value=n,messenger.notify("reorderedSection",{newIndex:e,oldIndex:t,center:!0,animate:!1})},e.prototype.resetDirty=function(){return this.savedValue=this.valueWas=this.value,this._isDirty=!1},e.prototype.isDirty=function(){return this._isDirty},e.prototype._savedValue=function(){return this.savedValue},e.prototype.getCurrentValue=function(){return this.value},e.prototype.getPreviousValue=function(){return this.valueWas},e.prototype.hasChanged=function(){return!_.isEqual(this.value,this.valueWas)},e.prototype.checkDirty=function(){return!_.isEqual(this.value,this.savedValue)},e.prototype.wasAdded=function(){return this.value.length>this.valueWas.length},e.prototype.wasRemoved=function(){return this.value.length<this.valueWas.length},e.prototype.wasReordered=function(){return!this.wasAdded()&&!this.wasRemoved()},e.prototype.commitValue=function(){return this._changeValue(this.value)},e.prototype.setValue=function(e,t){var n,r,i;return i=(n=null!=t?t:{})["transient"],r=n.section,this._changeValue(e,{"transient":i,section:r})},e.prototype._changeValue=function(e,t){var n,r,i;return i=(n=null!=t?t:{})["transient"],r=n.section,this.value=e,this._isDirty=this.checkDirty(),!(!i&&!this.hasChanged())&&(ChangesTracking.trackChanges(this,{"transient":i,section:r}),this.trigger("change",this,{"transient":i}),i||(this.valueWas=this.value),!0)},e.prototype.asFormData=function(){return{name:"settings["+this.id+"]",value:JSON.stringify(this.value)}},e.prototype.overridesData=function(){return this.isDirty()?this.asFormData():[]},e.prototype.teardown=function(){},e.prototype.abort=function(){},e}()}.call(this),function(){var t,n,e,c,i,r,o,a,s,u,l,d,f,h,p,m;n=/^\/\*!settings=(\[[^\]]+\])\*\//m,t=/^\/\*!filtered_color_settings=(\[[^\]]+\])\*\//m,u={},r={},o={},i=function(e){var t,n,r,i;for(r=[],t=0,n=e.length;t<n;t++)i=e[t],r.push(u[i]=!0);return r},f=function(e){return h(e,n,r),h(e,t,o)},h=function(e,t,n){var r,i,o,a,s,u;if(o=e.value.match(t)){for(a=[],r=0,i=(u=JSON.parse(o[1])).length;r<i;r++)null==n[s=u[r]]&&(n[s]={}),a.push(n[s][e.url]=!0);return a}},d=function(e){var t,n,r;for(n in t=[],e)0<(r=e[n]).length&&t.push(i(r));return t},l=function(e){if(e)return p()},p=function(){return u={},r={},o={}},s=function(){return messenger.on("stylesheetContent",f),state.subscribe("sectionGeneralSettings",d),state.subscribe("loading",l)},c=function(e){var t;return u[e]?{reloadPage:!0}:(t=r[e])?{reloadCss:Object.keys(t)}:{reloadPage:!0}},m=function(e){var t,n,r,i,o,a,s,u,l;for(u=[],n=0,i=e.length;n<i;n++)if(l=e[n],(t=c(l)).reloadCss)for(r=0,o=(s=t.reloadCss).length;r<o;r++)a=s[r],-1===u.indexOf(a)&&u.push(a);else if(t.reloadPage)return{reloadPage:!0};return u.length?{reloadCss:u}:{}},a=function(e){var t;return 0<(t=_.keys(o[e])).length?t:null},e={settings:function(){return{nonCssSettings:u,cssFilesByActiveSetting:r,cssFilesByFilteredColorSetting:o}},reset:function(){return p()}},ThemeEditor.ActiveSettings={addJsSettings:i,addHtmlSettings:i,initialize:s,settingsChangeAction:m,cssFilesForFilteredColorSetting:a,actionForSetting:c,_testAPI:e}
}.call(this),function(){window.ThemeEditor.AbstractAction=function(){function e(){if(this.constructor===ThemeEditor.AbstractAction)throw new Error("ThemeEditor.AbstractAction is an abstract class")}return e.prototype.undo=function(){},e.prototype.redo=function(){},e.prototype.reset=function(){},e}()}.call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.SettingAction=function(e){function t(e){this.setting=e,this.previousValue=this.setting.valueWas,this.newValue=this.setting.value}return n(t,e),t.prototype.undo=function(e){return this.setting.setValue(this.previousValue),e()},t.prototype.redo=function(e){return this.setting.setValue(this.newValue),e()},t}(ThemeEditor.AbstractAction)}.call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.AbstractBlockAction=function(e){function t(e,t){this.block=e,this.index=t,this.id=this.block.id}return n(t,e),t.prototype._delete=function(e){return messenger.notify("deleteBlock",e)},t.prototype._create=function(e,t){return messenger.notify("insertBlock",{block:e,index:t})},t}(ThemeEditor.AbstractAction),ThemeEditor.CreateBlockAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.undo=function(e){return this._delete(this.id),e()},t.prototype.redo=function(e){return this._create(this.block,this.index),e()},t}(ThemeEditor.AbstractBlockAction),ThemeEditor.DeleteBlockAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.undo=function(e){return this._create(this.block,this.index),e()},t.prototype.redo=function(e){return this._delete(this.id),e()},t}(ThemeEditor.AbstractBlockAction)}.call(this),function(){var a,n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.AbstractSectionAction=function(e){function t(e,t,n){this.section=e,this.position=t,this.options=null!=n?n:{},this.id=this.section.id}return n(t,e),t.prototype._delete=function(e){return messenger.notify("deleteSection",e)},t.prototype._create=function(e){var t,n,r,i;return i=e.section,r=e.position,i.id,t=i.html,n=i.json,messenger.notify("insertSection",{section:i,position:r}),a({section:i,position:r,html:t,json:n})},t.prototype.reset=function(){return this.section.resetDirty(!1,!0)},t}(ThemeEditor.AbstractAction),ThemeEditor.CreateSectionAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.undo=function(e){return this._delete(this.id),e()},t.prototype.redo=function(e){return this._create({section:this.section,position:this.position}),e()},t}(ThemeEditor.AbstractSectionAction),ThemeEditor.DeleteSectionAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.undo=function(i){return this.section.hasData()?(this._create({section:this.section,position:this.position}),i()):(messenger.notify("insertSection",{section:this.section,position:this.position}),this.options.requestSectionHTML(this.section,(o=this,function(e){var t,n,r;return r=e.section,t=e.html,n=e.json,a({section:r,html:t,json:n,position:o.position}),i()})));var o},t.prototype.redo=function(e){return this._delete(this.id),e()},t}(ThemeEditor.AbstractSectionAction),a=function(e){var t,n,r,i;return i=e.section,t=e.html,n=e.json,r=e.position,state.set("pendingSection",{id:i.id,html:t,json:n,position:r}),messenger.notify("createSection",i),state.set("pendingSection",null)}}.call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function n(e){le(this,n);var t=de(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.setting=e,t.previousValue=e.valueWas,t.newValue=t.setting.value,t}return ce(n,e),ue(n,[{key:"undo",value:function t(e){state.set("togglingSectionDisabled",!0),this.setting.setValue(this.previousValue),e()}},{key:"redo",value:function r(e){state.set("togglingSectionDisabled",!0),this.setting.setValue(this.newValue),e()}}]),n}(se(window.ThemeEditor.AbstractAction)["default"]);t["default"]=n,ThemeEditor.SectionDisabledAction=null!=t["default"]?t["default"]:t});(function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.AbstractReorderAction=function(e){function t(e){var t;this.setting=e,this.oldValue=this.setting.valueWas,this.newValue=this.setting.value,t=this._calculateReorderChange(this.oldValue,this.newValue),this.oldIndex=t.oldIndex,this.newIndex=t.newIndex}return n(t,e),t.prototype.undo=function(e){return this.setting.setValue(this.oldValue),this._reorder(this.setting,{oldIndex:this.newIndex,newIndex:this.oldIndex}),e()},t.prototype.redo=function(e){return this.setting.setValue(this.newValue),this._reorder(this.setting,{oldIndex:this.oldIndex,newIndex:this.newIndex}),e()},t.prototype._reorder=function(e,t){t.oldIndex,t.newIndex},t.prototype._calculateReorderChange=function(e,r){var t,n,i,o,a,s;return s=function(e,t,n){return t!==r[n]&&e.push(n),e},(t=_.reduce(e,s,[])).length<2?null:(a=i=_.head(t),o=n=_.last(t),r[i]===e[n]&&(a=n,o=i),{oldIndex:a,newIndex:o})},t}(ThemeEditor.AbstractAction),ThemeEditor.ReorderSectionAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype._reorder=function(e,t){var n,r;return r=t.oldIndex,n=t.newIndex,messenger.notify("reorderedSection",{oldIndex:r,newIndex:n,center:!0,animate:!1,updateSections:!0})},t}(ThemeEditor.AbstractReorderAction),ThemeEditor.ReorderBlockAction=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype._reorder=function(e,t){var n,r;return r=t.oldIndex,n=t.newIndex,messenger.notify("reorderBlock",{sectionId:e.owner.id,oldIndex:r,newIndex:n})},t}(ThemeEditor.AbstractReorderAction)}).call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.ThemeStyleAction=function(e){function t(e){var t,n,r,i,o;for(this.applyValues=e.owner.applyValues,this.previousValues={},this.newValues={},n=0,i=(o=e.changes).length;n<i;n++)r=(t=o[n]).id,this.previousValues[r]=t.valueWas,this.newValues[r]=t.value}return n(t,e),t.prototype.undo=function(e){return this.applyValues(this.previousValues),e()},t.prototype.redo=function(e){return this.applyValues(this.newValues),e()},t}(ThemeEditor.AbstractAction)}.call(this),function(){var s,u=function(e,t){return function(){return e.apply(t,arguments)}};s=50,ThemeEditor.UndoTracker=function(){function e(e,t,n){var r,i,o,a;for(this.settingsContainers=null!=e?e:[],this.requestSectionHTML=t,this.stackLimit=null!=n?n:s,this._onDelete=u(this._onDelete,this),this._onCreate=u(this._onCreate,this),this._onSettingChanged=u(this._onSettingChanged,this),this.undoStack=[],this.redoStack=[],this.isApplyingChange=!1,r=0,i=(o=this.settingsContainers).length;r<i;r++)(a=o[r]).on("change",this._onSettingChanged),a.on("delete",this._onDelete),a.on("create",this._onCreate)}return e.prototype._onSettingChanged=function(e,t){var n,r,i,o;if(o=(i=null!=t?t:{})["transient"],r=i.previewOnly,!(this.isApplyingChange||o||r)&&e.hasChanged()){switch(n=null,e.type){case"themeStyle":n=new ThemeEditor.ThemeStyleAction(e);break;case"contentForIndex":if(!e.wasReordered())return;n=new ThemeEditor.ReorderSectionAction(e);break;case"blockOrder":if(!e.wasReordered())return;n=new ThemeEditor.ReorderBlockAction(e);break;case"sectionDisabled":n=new ThemeEditor.SectionDisabledAction(e);break;default:n=new ThemeEditor.SettingAction(e)}return this._addUndo(n)}},e.prototype._onCreate=function(e,t){var n;if(!this.isApplyingChange){switch(e.constructor){case ThemeEditor.Section:n=new ThemeEditor.CreateSectionAction(e,t);break;case ThemeEditor.Block:n=new ThemeEditor.CreateBlockAction(e,t)}return this._addUndo(n)}},e.prototype._onDelete=function(e,t){var n;if(!this.isApplyingChange){switch(e.constructor){case ThemeEditor.Section:n=new ThemeEditor.DeleteSectionAction(e,t,{requestSectionHTML:this.requestSectionHTML});break;case ThemeEditor.Block:n=new ThemeEditor.DeleteBlockAction(e,t)}return this._addUndo(n)}},e.prototype._addUndo=function(e,t){return null==t&&(t=!0),t&&(this.redoStack.length=0),this.undoStack.push(e),this.stackLimit&&this.undoStack.length>this.stackLimit&&this.undoStack.shift(),Twine.refresh(),this.undoStack},e.prototype._addRedo=function(e){return this.redoStack.push(e),Twine.refresh()},e.prototype.hasUndo=function(){return 0<this.undoStack.length},e.prototype.hasRedo=function(){return 0<this.redoStack.length},e.prototype.undo=function(){var e,t;this.isApplyingChange||(e=this.undoStack.pop())&&(this.isApplyingChange=!0,e.undo((t=this,function(){return t._addRedo(e),t.isApplyingChange=!1,Twine.refresh()})))},e.prototype.redo=function(){var e,t;this.isApplyingChange||(e=this.redoStack.pop())&&(this.isApplyingChange=!0,e.redo((t=this,function(){return t._addUndo(e,!1),t.isApplyingChange=!1,Twine.refresh()})))},e.prototype.reset=function(){var e,t,n,r,i,o,a,s;for(t=0,r=(o=this.undoStack).length;t<r;t++)(e=o[t]).reset();for(s=[],n=0,i=(a=this.redoStack).length;n<i;n++)e=a[n],s.push(e.reset());return s},e.prototype.freeze=function(e){return this.isApplyingChange=!0,e(),this.isApplyingChange=!1},e}()}.call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var m=7,g=28,v=300,y=["rgba(0,0,0,0)",""],n=function(){function r(e,t){var n=this;le(this,r),this.generalSettings=e,this.sections=t,this.onGeneralSettingsChangedDebounced=(0,rt.debounce)(this.onGeneralSettingsChanged.bind(this),v,{trailing:!0}),this.onSectionChangedDebounced=(0,rt.debounce)(this.onSectionChanged.bind(this),v,{trailing:!0}),e.on("change",function(e){n.onGeneralSettingsChangedDebounced(M({},e),e.hasChanged())}),t.on("change",function(e){n.onSectionChangedDebounced(M({},e),e.hasChanged())}),state.set("currentColors",this.getCurrentColors()),state.set("recentlySelectedColors",[])}return ue(r,[{key:"onGeneralSettingsChanged",value:function i(e,t){if(!e||"color"===e.type){var n=this.getCurrentColors();state.set("recentlySelectedColors",this.getUpdatedRecentlySelectedColors(e,t)),state.set("currentColors",n)}}},{key:"onSectionChanged",value:function o(e,t){if(e){var n=this.getCurrentColors();switch(e.type){case"contentForIndex":case"blockOrder":this.colorSetsAreEqual(n,state.get("currentColors"))&&state.set("currentColors",n);break;case"color":state.set("recentlySelectedColors",this.getUpdatedRecentlySelectedColors(e,t)),state.set("currentColors",n)}}}},{key:"getUpdatedRecentlySelectedColors",value:function a(e,t){var n=state.get("recentlySelectedColors");if(!t||this.isBlacklisted(e.value))return n;if(this.colorExistsIn(e.value,n))return n;var r=[e.value].concat(B(n));return r.length>m?r.slice(0,m):r}},{key:"getCurrentColors",value:function s(){var e=this.generalSettings.settingsById,t=(0,rt.values)(e),n=this.getColorValuesFromSettings(t),r=this.sections.byId,i=this.getSectionAndBlockSettings(r),o=this.getColorValuesFromSettings(i),a=this.removeDuplicateColors([].concat(B(n),B(o)));return this.removeBlacklisted(a).slice(0,g)}},{key:"getSectionAndBlockSettings",value:function t(e){var n=this;return(0,rt.values)(e).reduce(function(t,e){return e.hasBlocks()&&n.getBlockSettings(e.blocks.byId).forEach(function(e){t.push(e)}),[].concat(B(t),B((0,rt.values)(e.settingsById)))},[])}},{key:"getBlockSettings",value:function n(e){return(0,rt.values)(e).reduce(function(e,t){return[].concat(B(e),B((0,rt.values)(t.settingsById)))},[])}},{key:"getColorValuesFromSettings",value:function u(e){return e.filter(function(e){return e&&"color"===e.type}).map(function(e){return e.value})}},{key:"isBlacklisted",value:function l(e){return-1!==y.indexOf(e)}},{key:"removeBlacklisted",value:function c(e){var t=this;return e.filter(function(e){return!t.isBlacklisted(e)})}},{key:"removeDuplicateColors",value:function d(e){var t=[],n=!0,r=!1,i=undefined;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.colorExistsIn(s,t)||t.push(s)}}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}return t}},{key:"colorSetsAreEqual",value:function f(e,t){var n=this;if(e.length!==t.length)return!0;var r=e.find(function(e){return n.colorExistsIn(e,t)});return Boolean(r)}},{key:"colorExistsIn",value:function h(e,t){var n=this,r=4===e.length?this.normalizeShortenedHex(e):e,i=t.find(function(e){return(4===e.length?n.normalizeShortenedHex(e):e)===r});return Boolean(i)}},{key:"normalizeShortenedHex",value:function p(e){return"#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]}}]),r}();t["default"]=n,ThemeEditor.ColorTracker=null!=t["default"]?t["default"]:t});var Mt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var E=se(ot),n=m(ct),k=window.jQuery,x=window.ThemeEditor,r=function(){function h(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:{},r=n.id,i=n.panel,o=n.type,a=n.display_name,s=n.value,u=n.label,l=n.input_name,c=n.section,d=n.block,f=1<arguments.length&&t!==undefined?arguments[1]:{};if(le(this,h),this.constructor===h)throw new Error("Base is an abstract class");this.teardown=this.teardown.bind(this),this.isDirty=this.isDirty.bind(this),this.owner=f,this.id=r,this.panel=i,this.type=o,this.display_name=a,this.value=s,this.label=u,this.input_name=l,this.section=c,this.block=d,this.owner instanceof x.Section&&(this.section=this.owner),this.owner instanceof x.Block&&(this.block=this.owner),this.valueWas=this.value,this.key=""+(this.owner.keypath||"")+this.id,this.bindElements(),"function"==typeof this.initialize&&this.initialize(),this.resetDirty()}return ue(h,[{key:"bindElements",value:function t(){var n=this,e='[name="'+this.input_name+'"]';"checkbox"===this.type&&(e+="[type=checkbox]"),this.$element=k(e),this.$element.each(function(e,t){t.setting=n}),this.$container=this.$element.closest("[data-setting-container]")}},{key:"resetDirty",value:function e(){this.savedValue=this.valueWas=this.value,this._isDirty=!1}},{key:"restoreSavedValue",value:function n(){return!!this.isDirty()&&(this.setValue(this.savedValue),!0)}},{key:"setValue",value:function a(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=n["transient"],i=n.previewOnly,o=n.block;this._setElementValue(e),this._changeValue(e,{"transient":r,previewOnly:i,block:o})}},{key:"asFormData",value:function r(){return{name:this.input_name,value:this.getCurrentValue()}}},{key:"isLive",value:function i(){return-1!==(window.state&&window.state.get("activeLiveSettings")||[]).indexOf(this.key)}},{key:"bindToTwine",value:function o(e){return E["default"].childContext(e)}},{key:"activate",value:function s(){}},{key:"deactivate",value:function u(){}},{key:"abort",value:function l(){}},{key:"teardown",value:function c(){this.deactivate(),this.abort()}},{key:"moveContainer",value:function d(e){this.$placeholderElement||(this.$placeholderElement=k("<div></div>")),this.$container.after(this.$placeholderElement),e.append(this.$container)}},{key:"putContainerBackInOriginalPlace",value:function f(){this.$placeholderElement.after(this.$container)}},{key:"checkDirty",value:function p(){return this.getCurrentValue()!==this._savedValue()}},{key:"hasChanged",value:function m(){return!(0,rt.isEqual)(this.value,this.valueWas)}},{key:"isDirty",value:function g(){return this._isDirty}},{key:"getCurrentValue",value:function v(){return this.value}},{key:"getPreviousValue",value:function y(){return this.valueWas}},{key:"_changeValue",value:function b(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=n["transient"],i=n.previewOnly,o=n.block;return this.value=e,this._isDirty=this.checkDirty(),!!(r||i||this.hasChanged())&&(this.trigger("change",this),this.owner.trigger("change",this,{"transient":r,previewOnly:i}),(0,Bt.trackChanges)(this,{"transient":r,previewOnly:i,block:o}),this._afterChangeValue(this.value),r||i||(this.valueWas=this.value),!0)}},{key:"_savedValue",value:function _(){return this.savedValue}},{key:"_getElementValue",value:function S(){throw new Error("NotImplementedError")}},{key:"_setElementValue",value:function w(){throw new Error("NotImplementedError")}},{key:"_afterChangeValue",value:function C(){}}]),h}();r.DELAYED_UPDATE_TIME=1e3,t["default"]=r,(0,rt.assignIn)(r.prototype,n),x.Settings.Base=null!=t["default"]?t["default"]:t}),Bt=e(function(e,t){"use strict";function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=n.previewOnly,i=n["transient"],o=n.section,a=n.block;if(!i){var s=M({},u(e),d(e,{previewOnly:r}),l(e,{section:o,block:a}));window.analytics.track("theme_editor_changes",s)}}function u(e){return{themeId:window.THEME_ID,key:e instanceof r["default"]?e.key:e.id,page:window.state.get("pageInfo")?window.state.get("pageInfo").page:null,viewport:window.state.get("viewportSize")}}function a(e){return e.wasRemoved()?"removed":e.wasAdded()?"added":"reordered"}function l(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{},r=n.section,i=n.block;if("blockOrder"!==e.type&&"contentForIndex"!==e.type)return{};var o={value:e.value,valueWas:e.valueWas,changeType:a(e)};return r&&(o.sectionData=JSON.stringify(s(r))),i&&(o.blockData=JSON.stringify(c(i))),o}function s(t){var n={sectionId:t.id,sectionType:t.typeSetting.value,disabled:t.disabledSetting.value,settings:{}};return Object.keys(t.settingsById).forEach(function(e){n.settings[e]=t.settingsById[e].getCurrentValue()}),n.blocks=[],Object.keys(t.blocks.byId).forEach(function(e){n.blocks.push(c(t.blocks.byId[e]))}),n}function c(t){var n={blockId:t.id,blockType:t.typeSetting.value,sectionId:t.section.id,settings:{}};return Object.keys(t.settingsById).forEach(function(e){n.settings[e]=t.settingsById[e].getCurrentValue()}),n}function d(e,t){var n=(1<arguments.length&&t!==undefined?arguments[1]:{}).previewOnly;if("blockOrder"===e.type||"contentForIndex"===e.type)return{};var r={type:e.type,blockType:e.block?e.block.typeSetting.value:null,sectionType:e.section?e.section.typeSetting.value:null,value:e.getCurrentValue(),valueWas:e.getPreviousValue()};return n&&(r.preview=!0),r}Object.defineProperty(t,"__esModule",{value:!0}),t.trackChanges=n;var r=se(Mt);window.ChangesTracking=null!=t["default"]?t["default"]:t});(function(){}).call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.Settings.Array=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype._getElementValue=function(){return JSON.parse(this.$element.val())},t.prototype._setElementValue=function(e){return this.$element.val(JSON.stringify(e))},t.prototype._savedValue=function(){return JSON.stringify(this.savedValue)},t.prototype.getCurrentValue=function(){return JSON.stringify(this.value)},t.prototype.getPreviousValue=function(){return JSON.stringify(this.valueWas)},t.prototype.wasAdded=function(){return this.value.length>this.valueWas.length},t.prototype.wasRemoved=function(){return this.value.length<this.valueWas.length},t.prototype.wasReordered=function(){return!this.wasAdded()&&!this.wasRemoved()},t.prototype.asFormData=function(){return{name:this.input_name,value:JSON.stringify(this.value)}},t.prototype.includes=function(e){return-1!==this.indexOf(e)},t.prototype.indexOf=function(e){return this.value.indexOf(e)},t.prototype.count=function(){return this.value.length},t.prototype.push=function(e,t){var n;return n=(null!=t?t:{}).block,this.insert(this.value.length,e,{block:n})},t.prototype.insert=function(e,t,n){var r,i;return r=(null!=n?n:{}).block,(i=this.value.slice(0)).splice(e,0,t),this.setValue(i,{block:r})},t.prototype["delete"]=function(e,t){var n,r,i;return n=(null!=t?t:{}).block,r=(i=this.value.slice(0)).indexOf(e),i.splice(r,1),this.setValue(i,{block:n})},t}(ThemeEditor.Settings.Base)}.call(this);var Ft=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Mt),T={RESOURCE_SETTING:"#resource-setting-template"},O=(0,rt.memoize)(function(e){return{RESOURCE_LABEL:'[data-label="label-'+e+'"]',RESOURCE_SETTING_WRAPPER:'[data-resource-setting-id="resource-setting__'+e+'"]',RESOURCE_SETTING_CHANGE:'[data-resource-setting-id="resource-setting__'+e+'--change"]',RESOURCE_SETTING_EDIT:'[data-resource-setting-id="resource-setting__'+e+'--edit"]',RESOURCE_SETTING_REMOVE:'[data-resource-setting-id="resource-setting__'+e+'--remove"]'}}),r=function(e){function o(){var e;le(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=de(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));if(i.constructor===o)throw new Error("ResourcePicker is an abstract class");return i}return ce(o,e),ue(o,[{key:"initialize",value:function t(){this.value=this.value||{handle:this.$element?this.$element.val():"",title:this.$resourceValue?this.$resourceValue.text().trim():""}}},{key:"activate",value:function n(){var e=this;this._replaceResourceSetting(this.value),(0,rt.defer)(function(){e.containerComponent=e.bindToTwine(e.$container[0])})}},{key:"getCurrentValue",value:function r(){return this.value?this.value.handle:null}},{key:"getPreviousValue",value:function i(){return this.valueWas?this.valueWas.handle:null}},{key:"title",value:function a(){return this.value&&this.value.handle&&this.value.title?this.value.title:null}},{key:"thumbnail",value:function s(){return this.value?this.value.image:null}},{key:"onPreview",value:function u(e){this.setValue(e,{previewOnly:!0})}},{key:"onSelect",value:function l(e){this.valueWas.handle!==e.handle&&this.setValue(e)}},{key:"onResetValue",value:function c(){this.value!==this.valueWas&&this.setValue(this.valueWas,{previewOnly:!0})}},{key:"_getResourceLabel",value:function d(){return $(this.SELECTORS.RESOURCE_LABEL).html()}},{key:"_afterChangeValue",value:function f(){this._replaceResourceSetting(this.value)}},{key:"_savedValue",value:function h(){return this.savedValue?this.savedValue.handle:null}},{key:"_replaceResourceSetting",value:function p(e){var t=this._resourceSettingTemplate(e);$(this.SELECTORS.RESOURCE_SETTING_WRAPPER).html(t),this._listenToSettingButtons()}},{key:"_listenToSettingButtons",value:function m(){this.$openPanelButton=$(this.SELECTORS.RESOURCE_SETTING_CHANGE),this.$editResourceButton=$(this.SELECTORS.RESOURCE_SETTING_EDIT),this.$removeResourceButton=$(this.SELECTORS.RESOURCE_SETTING_REMOVE),this.$openPanelButton.on("click",this._openPanel.bind(this)),this.$editResourceButton.on("click",this._editSelectedResource.bind(this)),this.$removeResourceButton.on("click",this._removeSelectedResource.bind(this))}},{key:"_editSelectedResource",value:function g(e){function t(){document.hidden||(messenger.notify("reloadPreview"),setTimeout(function(){r.closed&&$(document).off("visibilitychange",t)},200))}var n=$(e.currentTarget).attr("data-resource-href"),r=window.open(n);"undefined"!=typeof document.hidden&&$(document).on("visibilitychange",t)}},{key:"_removeSelectedResource",value:function v(){this.onSelect({handle:"",title:"None"})}},{key:"_resultsFromResponse",value:function y(e){return e[this.type+"s"]}},{key:"_openPanel",value:function b(){this.containerComponent.action("openSidebarOverlay",this.panelTemplate,{onPreview:this.onPreview.bind(this),onSelect:this.onSelect.bind(this),onResetValue:this.onResetValue.bind(this),resourceType:this.type,resourceBaseUrl:this.resourceBaseUrl,extractResultsFromResponse:this._resultsFromResponse.bind(this),displayName:this.display_name,selectedResource:this.value,defaultSearchParams:this.defaultSearchParams,showThumbnailImage:this.showThumbnailImage})}},{key:"_setElementValue",value:function _(e){e&&this.$element.val(e.handle)}},{key:"_resourceSettingTemplate",value:function S(e){return this.resourceSettingTemplate({id:e.id,imagePath:e.image,displayName:this.display_name,title:e.title,label:this._getResourceLabel(),inputName:this.input_name,resourceBaseUrl:this.resourceBaseUrl,showThumbnailImage:this.showThumbnailImage})}},{key:"resourceBaseUrl",get:function w(){return"/admin/"+this.type+"s"}},{key:"panelTemplate",get:function C(){return"resource_picker_panel"}},{key:"resourceSettingTemplate",get:function E(){return(0,rt.template)($(T.RESOURCE_SETTING).html())}},{key:"SELECTORS",get:function k(){return O(this.input_name)}},{key:"showThumbnailImage",get:function x(){return!0}}]),o}(n["default"]);t["default"]=r,ThemeEditor.Settings.ResourcePicker=null!=t["default"]?t["default"]:t}),jt=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function a(){var e,t,n;le(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n=de(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i)))).defaultSearchParams={published_status:"published"},de(n,t)}return ce(a,e),a}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.Article=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"showThumbnailImage",get:function n(){return!1}}]),t}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.Blog=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.$element.on("change",this._onElementChanged.bind(this))}},{key:"_getElementValue",value:function r(){return this.$element.prop("checked")}},{key:"_setElementValue",value:function i(e){this.$element.prop("checked",Boolean(e))}},{key:"_onElementChanged",value:function o(){this._changeValue(this._getElementValue())}}]),t}(se(Mt)["default"]);t["default"]=n,ThemeEditor.Settings.Checkbox=null!=t["default"]?t["default"]:t})),$t=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function a(){var e,t,n;le(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n=de(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i)))).defaultSearchParams={published_status:"online_store:visible"},de(n,t)}return ce(a,e),a}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.Collection=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=14,c="#color-picker-palette-template",d={currentColors:"currently_used_colors",recentlySelectedColors:"recently_selected_colors"},f=void 0,n=function(){function o(e,t){var n=t.label,r=t.renderOnUpdate,i=r===undefined||r;le(this,o),this.id=e,this.selector="#palette-"+this.id,this.label=n,this.renderOnUpdate=i,this.colors=state.get(e)||[],this.drawerActive=this.colors.length>l,this.drawerOpen=!1,this.onColorsUpdate=this.onColorsUpdate.bind(this)}return ue(o,[{key:"attachToSpectrum",value:function r(e){var t=e.onClick,n=e.$parent;f||(f=(0,rt.template)($(c).html())),this.$parent=n,this.onClick=t,this.$parent.append(f(this.getTemplatePayload())),this.renderOnUpdate&&state.subscribe(this.id,this.onColorsUpdate),this.colors=state.get(this.id),this.render()}},{key:"detachFromSpectrum",value:function e(){$(this.selector).remove(),this.$parent=null,this.onClick=null,this.renderOnUpdate&&state.unsubscribe(this.id,this.onColorsUpdate)}},{key:"onColorsUpdate",value:function t(e){this.colors=e,this.render()}},{key:"toggleDrawerOpen",value:function n(){this.drawerActive&&(this.drawerOpen=!this.drawerOpen,this.render())}},{key:"render",value:function i(){this.colors.length>l&&(this.drawerActive=!0);var e=$(this.selector),t=f(this.getTemplatePayload());e[0].insertAdjacentHTML("beforebegin",t),e.remove(),this.rebind()}},{key:"rebind",value:function a(){var e=$(this.selector);Twine.bind(e[0],this),Twine.refresh()}},{key:"getTemplatePayload",value:function s(){return{id:this.id,label:this.getTranslatedPaletteLabel(this.id),colors:this.colors,drawerThreshold:l,drawerOpen:this.drawerOpen,drawerActive:this.drawerActive}}},{key:"getTranslatedPaletteLabel",value:function u(e){return Shopify.translatedStrings.color_picker[d[e]]}}]),o}();t["default"]=n,window.ThemeEditor.Palette=null!=t["default"]?t["default"]:t})),Ut=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Mt),R=se($t),N="rgba(0,0,0,0)",D=".sp-input-container",L=".sp-input-container .sp-input",M=".sp-container",B=void 0,F=void 0,r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.initSpectrum=this.initSpectrum.bind(this),this._pickerOpened=this._pickerOpened.bind(this),this._pickerClosed=this._pickerClosed.bind(this),this._onLabelClick=this._onLabelClick.bind(this),this._onSpectrumChange=this._onSpectrumChange.bind(this),this._onSpectrumMove=this._onSpectrumMove.bind(this),this._onInputFocus=this._onInputFocus.bind(this),this._onInputBlur=this._onInputBlur.bind(this),this._onInputPaste=this._onInputPaste.bind(this),this._setTransparent=this._setTransparent.bind(this),this._unSetTransparent=this._unSetTransparent.bind(this),this.value=this.value.toLowerCase(),this.canBeEmptyString=!this.value,this.value===N?(this.$element.val(""),this._setTransparent()):this._unSetTransparent(),this._spectrumInitialized=!1,this.$container.find(".sp-replacer").on("click",this._onLabelClick),(this.$element[0].labels?$(this.$element[0].labels[0]):$("label[for='"+this.$element[0].id+"']")).on("click",this._onLabelClick)}},{key:"initSpectrum",value:function r(){if(!this._spectrumInitialized){this.$container.find(".sp-replacer").remove(),this.$element.spectrum({move:this._onSpectrumMove,change:this._onSpectrumChange,beforeShow:this._pickerSelected,show:this._pickerOpened,hide:this._pickerClosed,allowEmpty:!0,clickoutFiresChange:!0,showInitial:!0,showInput:!0,preferredFormat:"hex",appendTo:"parent"}),this.value===N&&this.$element.val(N);var e=this.$element.spectrum("container").find(".sp-input");e.on("focus",this._onInputFocus),e.on("paste",this._onInputPaste),this.$element.spectrum("container").find(".sp-clear").on("click",this._setTransparent),this._onSpectrumChangeDebounced=(0,rt.debounce)(this._onSpectrumChange,this.section?200:500),this._initTransparentButton(),this.ensureFocusCaptured(),this._spectrumInitialized=!0}}},{key:"ensureFocusCaptured",value:function i(){var e=$(M);e.attr("tabIndex","0"),e.focus(function(e){return e.stopPropagation()})}},{key:"spectrum",value:function o(){var e;return this._spectrumInitialized||this.initSpectrum(),(e=this.$element).spectrum.apply(e,arguments)}},{key:"activate",value:function a(){requestIdleCallback(this.initSpectrum)}},{key:"closePicker",value:function s(){this.spectrum("hide")}},{key:"checkDirty",value:function u(){return!window.tinycolor.equals(this.getCurrentValue(),this._savedValue())}},{key:"hasChanged",value:function l(){return!window.tinycolor.equals(this.getCurrentValue(),this.getPreviousValue())}},{key:"teardown",value:function c(){this.spectrum("destroy")}},{key:"_getElementValue",value:function d(){return this.spectrum("get")}},{key:"_setElementValue",value:function f(e){this._unSetTransparent();var t=this._isTransparent(e)?"":e;this.spectrum("set",t),this.$element.val(this._spectrumColorToString(this.spectrum("get")))}},{key:"_updatePreview",value:function h(e){var t=0<arguments.length&&e!==undefined?arguments[0]:this.value;state.get("currentSetting")===this&&(this.section||this.block?(messenger.notify("colorUpdate",this),messenger.notify("liveColorUpdate",{key:this.key,value:t,setting:this})):messenger.notify("globalColorUpdate",{key:this.key,value:t}),this._changeValue(t,{"transient":!0}))}},{key:"_spectrumColorToString",value:function p(e){return e?this._isTransparent(e)?N:e.toHexString().toLowerCase():this.canBeEmptyString?"":N}},{key:"_isTransparent",value:function m(e){return(e.toRgbString?e.toRgbString():e).replace(/\s/g,"")===N}},{
key:"_pickerClosed",value:function g(){var e=this._spectrumColorToString(this.spectrum("get"));this._updatePreview(e),state.set("currentSetting",null),this._changeValue(e),this._detachPalettes()}},{key:"_pickerOpened",value:function v(){var e=this._spectrumColorToString(this.spectrum("get"));this._updateTextInputPreviewColor(e),state.set("currentSetting",this),this._attachPalettes()}},{key:"_onLabelClick",value:function y(e){this.spectrum("toggle"),e.preventDefault(),e.stopPropagation()}},{key:"_onSpectrumChange",value:function b(e){null!==e&&this._unSetTransparent();var t=this._spectrumColorToString(e);this.$element.val(t),this._updatePreview(t),this._updateTextInputPreviewColor(e)}},{key:"_onSpectrumMove",value:function _(e){this._unSetTransparent(),this._onSpectrumChangeDebounced(e),this._updatePreview(this._spectrumColorToString(e)),this._updateTextInputPreviewColor(e)}},{key:"_updateTextInputPreviewColor",value:function S(e){this.$container.find(D).css("background",e)}},{key:"_onInputFocus",value:function w(){this.spectrum("show")}},{key:"_onInputBlur",value:function C(){this.spectrum("hide")}},{key:"_onInputPaste",value:function E(e){e.preventDefault();var t=e.originalEvent.clipboardData.getData("text");this._setElementValue(t.replace(/\s/g,""))}},{key:"_setTransparent",value:function k(){this.transparent||(this.transparent=!0,this.$container.find(D).addClass("sp-input-container--transparent"),this.$container.find(L).attr("placeholder",Shopify.translatedStrings.color_picker.no_color_state),this.$container.find(".ui-button").addClass("disabled"))}},{key:"_unSetTransparent",value:function x(){this.transparent&&(this.transparent=!1,this.$container.find(D).removeClass("sp-input-container--transparent"),this.$container.find(L).attr("placeholder",""),this.$container.find(".ui-button").removeClass("disabled"))}},{key:"_initTransparentButton",value:function T(){var e='<svg class="sp-clear-icon"><use xlink:href="#no-color"/></svg>',t='<span class="sp-clear-label">'+Shopify.translatedStrings.color_picker.no_color_state+"</span>";this.$element.spectrum("container").find(".sp-clear").addClass("ui-button").append(""+e+t)}},{key:"_detachPalettes",value:function O(){F.detachFromSpectrum(),B.detachFromSpectrum()}},{key:"_attachPalettes",value:function A(){B||this._initPalettes(),B.attachToSpectrum({onClick:this._onPaletteItemClick.bind(this),$parent:this.$element.spectrum("container")}),F.attachToSpectrum({onClick:this._onPaletteItemClick.bind(this),$parent:this.$element.spectrum("container")})}},{key:"_onPaletteItemClick",value:function P(e){this._unSetTransparent(),this.$element.spectrum("set",e),this._onSpectrumChange(this.$element.spectrum("get"))}},{key:"_initPalettes",value:function I(){F=new R["default"]("currentColors",{label:"Currently used ",labelPath:"currently_used_colors",renderOnUpdate:!1}),B=new R["default"]("recentlySelectedColors",{label:"Recently selected",labelPath:"recently_selected_colors",renderOnUpdate:!0})}}]),t}(n["default"]);t["default"]=r,ThemeEditor.Settings.Color=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(r){return new Promise(function(e,t){if(Boolean(document.head.querySelectorAll("link[href*='"+r+"']").length))e(!1);else{var n=document.createElement("link");n.setAttribute("href",r),n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet"),n.setAttribute("media","preload"),window.FontFace?(n.onload=function(){return i(n,e)},n.onerror=function(){return o(t)}):i(n,e),document.head.appendChild(n)}})}function i(e,t){e.setAttribute("media","all"),t(!0)}function o(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:"Failed to load stylesheet.";e(new Error(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.load=n})),Ht=e(function(e,t){"use strict";function n(e){return/i[\d]{1,1}$/.test(e)?"italic":/o[\d]{1,1}$/.test(e)?"oblique":"normal"}function r(e){var t=100*String(e).substr(1);return 0<t?t:"normal"}function i(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:"",r=(0,rt.compact)(n.split(",").map(function(e){return e.trim()}));return[e].concat(B(r)).map(function(e){return null===e.match(/[^A-Za-z0-9-]/)?e:'"'+e+'"'}).join(", ")}function o(e){if(d(e))return"system-font";var t=e.font_variation_description||""+e.style[0]+e.weight/100;return"webfont--"+e.family.replace(/\s|\.|_/g,"").toLowerCase()+"-"+t}function a(e,t){var n=!(1<arguments.length&&t!==undefined)||arguments[1];return 0===e.length?null:"/admin/fonts/css?"+(n?"preview=true&":"")+"handles="+e.map(function(e){return e.handle}).join("|")}function s(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{};return t.handle||t.default_variant_handle?{handle:t.handle||t.default_variant_handle,title:t.name}:{}}function u(e){var t=0<arguments.length&&e!==undefined?arguments[0]:{},n=void 0;return n=t.default_variant_handle?l(t):t,M({},n,{variants:t.variants})}function l(t){return t.variants.find(function(e){return e.handle===t.default_variant_handle})}function c(e){return e.replace(/_[n|i|o]\d$/,"")}function d(e){return"system"===e.provider}Object.defineProperty(t,"__esModule",{value:!0}),t.getFontStyle=n,t.getFontWeight=r,t.formatFontStack=i,t.formattedClass=o,t.formatFontQuery=a,t.formatAsResource=s,t.formatFontWithVariants=u,t.getDefaultVariant=l,t.stripHandleFvd=c,t.isSystemFont=d}),Vt=e(function(c){!function(){function i(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function n(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",n),e())})}function _(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function S(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function w(e,t){function n(){var e=r;o(e)&&e.a.parentNode&&t(e.g)}var r=e;i(e.b,n),i(e.c,n),o(e)}function e(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function r(){if(null===t)if(a()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);t=!!e&&parseInt(e[1],10)<603}else t=!1;return t}function a(){return null===l&&(l=!!document.fonts),l}function s(){if(null===u){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(t){}u=""!==e.style.font}return u}function C(e,t){return[e.style,e.weight,s()?e.stretch:"","100px",t].join(" ")}var E=null,t=null,u=null,l=null;e.prototype.load=function(e,t){var m=this,g=e||"BESbswy",v=0,y=t||3e3,b=(new Date).getTime();return new Promise(function(h,p){if(a()&&!r()){var e=new Promise(function(t,e){function n(){(new Date).getTime()-b>=y?e():document.fonts.load(C(m,'"'+m.family+'"'),g).then(function(e){1<=e.length?t():setTimeout(n,25)},function(){e()})}n()}),t=new Promise(function(e,t){v=setTimeout(t,y)});Promise.race([t,e]).then(function(){clearTimeout(v),h(m)},function(){p(m)})}else n(function(){function t(){var e;(e=-1!=a&&-1!=s||-1!=a&&-1!=u||-1!=s&&-1!=u)&&((e=a!=s&&a!=u&&s!=u)||(null===E&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),E=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)),e=E&&(a==l&&s==l&&u==l||a==c&&s==c&&u==c||a==d&&s==d&&u==d)),e=!e),e&&(f.parentNode&&f.parentNode.removeChild(f),clearTimeout(v),h(m))}function n(){if((new Date).getTime()-b>=y)f.parentNode&&f.parentNode.removeChild(f),p(m);else{var e=document.hidden;!0!==e&&void 0!==e||(a=r.a.offsetWidth,s=i.a.offsetWidth,u=o.a.offsetWidth,t()),v=setTimeout(n,50)}}var r=new _(g),i=new _(g),o=new _(g),a=-1,s=-1,u=-1,l=-1,c=-1,d=-1,f=document.createElement("div");f.dir="ltr",S(r,C(m,"sans-serif")),S(i,C(m,"serif")),S(o,C(m,"monospace")),f.appendChild(r.a),f.appendChild(i.a),f.appendChild(o.a),document.body.appendChild(f),l=r.a.offsetWidth,c=i.a.offsetWidth,d=o.a.offsetWidth,n(),w(r,function(e){a=e,t()}),S(r,C(m,'"'+m.family+'",sans-serif')),w(i,function(e){s=e,t()}),S(i,C(m,'"'+m.family+'",serif')),w(o,function(e){u=e,t()}),S(o,C(m,'"'+m.family+'",monospace'))})})},c.exports=e}()}),Wt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Vt);t["default"]=n["default"]}),zt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedInstance=t.WebFontLoader=undefined;var a=m(Ut),s=se(Wt),n=t.WebFontLoader=function(){function e(){le(this,e),this._observedFonts=new Map,this._shouldFontLoad=this._shouldFontLoad.bind(this)}return ue(e,[{key:"load",value:function n(e){var t=e.filter(this._shouldFontLoad);return t.length?a.load((0,Ht.formatFontQuery)(t)):Promise.resolve(!1)}},{key:"observe",value:function r(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:e.family;return(0,Ht.isSystemFont)(e)?Promise.resolve(!1):this._hasObserved(e)?this._observedFonts.get(e.handle).load(n):this._attachObserver(e).load(n)}},{key:"_shouldFontLoad",value:function t(e){return!(0,Ht.isSystemFont)(e)&&!this._hasObserved(e)}},{key:"_attachObserver",value:function i(e){var t=new s["default"](e.family,{style:(0,Ht.getFontStyle)(e.font_variation_description),weight:(0,Ht.getFontWeight)(e.font_variation_description)});return this._observedFonts.set(e.handle,t),t}},{key:"_hasObserved",value:function o(e){return this._observedFonts.has(e.handle)}}]),e}();t.sharedInstance=new n}),qt=e(function(e,t){"use strict";function r(n){return new Promise(function(e,t){return n.done(e).fail(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.sharedInstance=t.FontRepository=undefined;var i=se(ft),n=t.FontRepository=function(){function e(){le(this,e),this._cachedResponses=new Map,this._storeResponse=this._storeResponse.bind(this)}return ue(e,[{key:"fetch",value:function t(e){return this._cachedResponses.has(e)?Promise.resolve(this._cachedResponses.get(e)):r((0,i["default"])({url:"/admin/fonts/"+e,dataType:"json"}).done(this._storeResponse))}},{key:"_storeResponse",value:function n(e){var t=e.font;this._cachedResponses.set(t.font_with_variants.handle,{font:t})}}]),e}();t.sharedInstance=new n;window.FontRepository=null!=t["default"]?t["default"]:t}),Gt=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Ft),g={RESOURCE_SETTING:"#font-setting-template"},v={getFontStyle:Ht.getFontStyle,getFontWeight:Ht.getFontWeight,formatFontStack:Ht.formatFontStack,formattedClass:Ht.formattedClass},r=function(e){function o(){var e;le(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=de(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i.failedLoadRetryCount=0,i._handleFailedSettingLoad=i._handleFailedSettingLoad.bind(i),i._replaceResourceSetting=i._replaceResourceSetting.bind(i),i._renderSettingWithFont=i._renderSettingWithFont.bind(i),i._handleRejection=i._handleRejection.bind(i),i}return ce(o,e),ue(o,[{key:"_replaceResourceSetting",value:function r(e){var t=this,n=e.handle;this._renderSettingSkeleton(),qt.sharedInstance.fetch(n).then(this._renderSettingWithFont)["catch"](function(){return t._handleFailedSettingLoad(e)})}},{key:"_renderSettingWithFont",value:function i(e){var t=this,n=e.font.font_with_variants;Promise.all([zt.sharedInstance.load([n]),zt.sharedInstance.observe(n)]).then(function(){return t._renderSetting(n)},function(e){return t._handleRejection(e,n)})["catch"](function(e){throw e})}},{key:"_handleRejection",value:function a(e,t){var n=this,r=5e3;e.load(null,r).then(function(){return n._renderSetting(t)},function(){return n._renderSetting(t)})["catch"](function(e){throw e})}},{key:"_renderLimitedSetting",value:function s(e){var t=e.handle,n=e.title;this._renderSetting({handle:t,title:n})}},{key:"_renderSettingSkeleton",value:function t(){this._renderSetting(null)}},{key:"_renderSetting",value:function n(e){$(this.SELECTORS.RESOURCE_SETTING_WRAPPER).html(this._resourceSettingTemplate(e)),this._listenToSettingButtons()}},{key:"_handleFailedSettingLoad",value:function u(e){var t=2;this.failedLoadRetryCount<=t?(this._replaceResourceSetting(e),this.failedLoadRetryCount+=1):this._renderLimitedSetting(e)}},{key:"_listenToSettingButtons",value:function l(){$(this.SELECTORS.RESOURCE_SETTING_WRAPPER).on("click",this.SELECTORS.RESOURCE_SETTING_CHANGE,this._openPanel.bind(this))}},{key:"_resourceSettingTemplate",value:function c(e){return this.resourceSettingTemplate({label:this.label,displayName:this.display_name,inputName:this.input_name,font:e})}},{key:"_resultsFromResponse",value:function d(e){return e.font_families}},{key:"showThumbnailImage",get:function f(){return!1}},{key:"resourceBaseUrl",get:function h(){return"/admin/fonts/families"}},{key:"panelTemplate",get:function p(){return"font_picker_panel"}},{key:"resourceSettingTemplate",get:function m(){return(0,rt.template)($(g.RESOURCE_SETTING).html(),{imports:v})}}]),o}(n["default"]);t["default"]=r,ThemeEditor.Settings.FontPicker=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{};if(-1===e.indexOf("<")&&-1===e.indexOf(">"))return e;(o=o||i()).body.innerHTML=e;var r=o.body.innerHTML;return!1===n.escapeEntities&&(r=r.replace("&amp;","&").replace("&gt;",">").replace("&lt;","<")),r}function i(){var e=document.createElement("iframe");return e.style.display="none",e.src="about:blank",e.sandbox="allow-same-origin",document.body.appendChild(e),e.contentDocument}Object.defineProperty(t,"__esModule",{value:!0}),t.fixUnclosedTags=n;var o=null})),Yt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=se(Mt),f=null,n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.$element.on("input",this._onElementChanged.bind(this)),this.$element.on("change blur",this._onElementBlur.bind(this))}},{key:"_getElementValue",value:function r(){return this.$element.val()}},{key:"_getSanitizedValue",value:function i(){var e=this._getElementValue(),t=(0,Gt.fixUnclosedTags)(e,{escapeEntities:!1});return(0,rt.isEmpty)(Shopify.sections)?e:t}},{key:"_setElementValue",value:function o(e){this.$element.val(e)}},{key:"_commitLiveValue",value:function a(){this._changeValue(this._getElementValue(),{"transient":!0})}},{key:"_commitSanitizedValue",value:function s(e){this._changeValue(e||this._getSanitizedValue())}},{key:"_onElementBlur",value:function u(){clearTimeout(f);var e=this._getSanitizedValue();this._setElementValue(e),this._commitSanitizedValue(e)}},{key:"_isFocused",value:function l(){return document.activeElement===this.$element[0]}},{key:"_onElementChanged",value:function c(){var e=this._getElementValue();if(this._isFocused()&&this.isLive()&&e){if(this.lastLiveValue===e)return;this.lastLiveValue=e,messenger.notify("liveSettingUpdated",{key:this.key,value:e}),this._commitLiveValue()}else clearTimeout(f),f=setTimeout(this._commitSanitizedValue.bind(this),d["default"].DELAYED_UPDATE_TIME);this._commitLiveValue()}}]),t}(d["default"]);t["default"]=n,ThemeEditor.Settings.Text=null!=t["default"]?t["default"]:t}),Xt=(e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),t}(se(Yt)["default"]);t["default"]=n,ThemeEditor.Settings.Hidden=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"isLive",value:function n(){return!1}},{key:"_getSanitizedValue",value:function r(){return(0,Gt.fixUnclosedTags)(this._getElementValue(),{escapeEntities:!0})}}]),t}(se(Yt)["default"]);t["default"]=n,ThemeEditor.Settings.Html=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";function n(e,t,n){return t.then(function(){return r(e,n)})}function r(r,e){var t=(1<arguments.length&&e!==undefined?arguments[1]:{}).responseVariant,i=t===undefined?"master":t;return new Promise(function(e,t){var n=new FormData;n.append("image[response_variant]",i),n.append("image[attachment]",r),Shopify.ajax({method:"POST",url:a.admin_images().json,formData:n}).done(e).fail(o(e,t))})}function o(e,r){return function(e){var t=void 0;try{t=JSON.parse(e.responseText).errors.join(". ")}catch(n){t=i}r(new Error(t))}}Object.defineProperty(t,"__esModule",{value:!0}),t.upload=n;var a=m(lt),i="Image upload failed. Check your internet connection and try again.";Shopify.ShopImageUploader=null!=t["default"]?t["default"]:t}));e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Mt),j=se(window.Shopify.PageDropZone),U=m(lt),H=".js-image-picker-select-library",V=".js-image-picker-add-button",W=".js-image-picker-explore-stock-images",z=".js-image-picker-remove-button",q=".js-image-picker-preview",G=".js-image-picker-placeholder",Y=".js-image-picker-drop-indicator",X=".js-image-picker-drop-preview-indicator",K=".js-image-picker-menu-options",J=".js-image-picker-indicator",Q="#template__image-picker--loading",Z="#template__image-picker--drop-indicator",ee="#template__image-picker--drop-preview-indicator",te=".js-image-picker-preview-image",ne=".js-image-picker-edit-image",re="image-picker--hidden",ie="preview",oe="placeholder",ae="#image_picker_overlay",r=function(e){function n(){return le(this,n),de(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ce(n,e),ue(n,[{key:"initialize",value:function t(){var e=this;this._showDragPreview=this._showDragPreview.bind(this),this._hideDragPreview=this._hideDragPreview.bind(this),this.onPreviewImage=this.onPreviewImage.bind(this),this.$preview=this.$container.find(q),this.$placeholder=this.$container.find(G),this.$previewImage=this.$container.find(te),this.$menuOptions=this.$container.find(K),this.$selectLibrary=this.$container.find(H),this.$indicatorElement=this.$container.find(J),n.loadingTemplate||(n.loadingTemplate=$(Q).html()),n.dropTemplate||(n.dropTemplate=$(Z).html()),n.dropPreviewTemplate||(n.dropPreviewTemplate=$(ee).html()),this.$selectLibrary.toggle(0===Shopify.shopImagesCount),this.$container.on("change","input[type=file]",this._onInputChanged.bind(this)).on("click",V,this._openImagePicker.bind(this)).on("click",W,this._openImagePickerWithFreeImagesTabActive.bind(this)).on("click",ne,this._onEditClicked.bind(this)).on("click",z,this._onRemoveClicked.bind(this)).on("drop",this._onDrop.bind(this)).on("dragover",G,this._showDragOver.bind(this)).on("dragover",q,this._showDragOver.bind(this)).on("dragover",X,this._showDragOver.bind(this)).on("dragleave",Y,this._hideDragOver.bind(this)),Shopify.rootDispatcher.register(j["default"].EVENTS.DRAG_ENTER,this._showDragPreview),Shopify.rootDispatcher.register(j["default"].EVENTS.DRAG_LEAVE,this._hideDragPreview),Shopify.rootDispatcher.register(j["default"].EVENTS.DROP,this._hideDragPreview),this.currentView=this.value?ie:oe,(0,rt.defer)(function(){e.containerComponent=e.bindToTwine(e.$element[0])})}},{key:"activate",value:function r(){this.visible=!0,this.setSrcImage()}},{key:"deactivate",value:function i(){this.visible=!1}},{key:"teardown",value:function o(){this.deactivate(),this.abort(),Shopify.rootDispatcher.remove(j["default"].EVENTS.DRAG_ENTER,this._showDragPreview),Shopify.rootDispatcher.remove(j["default"].EVENTS.DRAG_LEAVE,this._hideDragPreview),Shopify.rootDispatcher.remove(j["default"].EVENTS.DROP,this._hideDragPreview)}},{key:"onSelect",value:function a(e){this._changePreviewAltText(e.alt),this._showPreview(e.cdn_url),this.setValue(e)}},{key:"onPreviewImage",value:function s(e){e?(this._showPreview(e.cdn_url),this.setValue(e,{previewOnly:!0})):this.resetValue()}},{key:"onResetValue",value:function u(){this.resetValue()}},{key:"resetValue",value:function l(){this.setValue(this.valueWas,{previewOnly:!0})}},{key:"onAltChanged",value:function c(e){this._changePreviewAltText(e),this.value.alt=e,this.owner.trigger("change",this);var t={image:{alt:e}};this.request=Shopify.ajax({method:"PUT",url:U.admin_image(this.value.id).html,data:t}),this.request.fail(function(e){var t=void 0;try{t=JSON.parse(e.responseText).errors.image.join(". ")}catch(n){t="Error: Could not update image. Check your internet connection and try again."}messenger.notify("flashMessage",{type:"error",message:t})})}},{key:"thumbnail",value:function d(){return this.value?this.value.cdn_url:null}},{key:"abort",value:function f(){this.uploadPromise&&this.uploadPromise.abort(),this.request&&this.request.abort()}},{key:"getCurrentValue",value:function h(){return this.value?this.value.shopify_url:null}},{key:"getPreviousValue",value:function p(){return this.valueWas?this.valueWas.shopify_url:null}},{key:"setSrcImage",value:function m(){var e=this.$previewImage.find("img"),t=e.attr("data-src");t&&e.attr("src",t).removeAttr("data-src")}},{key:"upload",value:function g(e){var t=this,n=(0,Nt.validateImage)(e).then(function(e){return t._showLoading(e[2].src)})["catch"](this._onValidationError);return(0,Xt.upload)(e,n).then(this._onUploadSuccess.bind(this))["catch"](this._onUploadError.bind(this))}},{key:"_changePreviewAltText",value:function v(e){this.$previewImage.find("img").attr("alt",e)}},{key:"_showDragPreview",value:function y(){this.visible&&(this._resetViews(),this.$indicatorElement.html(n.dropPreviewTemplate))}},{key:"_hideDragPreview",value:function b(){this.visible&&(this.dragging=!1,this._resetViews(this.currentView))}},{key:"_resetViews",value:function _(e){for(var t=[this.$preview,this.$placeholder],n=0;n<t.length;n++){t[n].addClass(re)}this.$indicatorElement.empty(),e===oe?this.$placeholder.removeClass(re):e===ie&&(this.$menuOptions.removeClass(re),this.$preview.removeClass(re))}},{key:"_showDragOver",value:function S(e){this._isFileDragEvent(e)&&(this.dragging||(this.dragging=!0,this._resetViews(),this.$indicatorElement.html(n.dropTemplate)))}},{key:"_hideDragOver",value:function w(){this.dragging=!1,this._resetViews(),this.$indicatorElement.html(n.dropPreviewTemplate)}},{key:"_showPreview",value:function C(e){var t=this;this.currentView=ie;var n=new Image;n.src=e,n.onload=function(){t.$previewImage.find("img").attr("src",e)},this._resetViews(),this.$preview.removeClass(re),this.$menuOptions.removeClass(re)}},{key:"_showPlaceholder",value:function E(){this.currentView=oe,this._resetViews(),this.$placeholder.removeClass(re),this.$menuOptions.addClass(re)}},{key:"_showLoading",value:function k(e){this._resetViews();var t=this.$indicatorElement.html(n.loadingTemplate);e&&t.find("img").attr("src",e),this.$menuOptions.addClass(re)}},{key:"_onDrop",value:function x(e){this.dragging=!1;var t=e.originalEvent.dataTransfer.files[0];t&&(window.analytics.track("image-picker-upload-drop"),this.upload(t))}},{key:"_onInputChanged",value:function T(e){var t=Shopify.UIPopover["for"](e.currentTarget);t&&t.deactivate();var n=this._getFile(e.target);n&&(e.target.value=null,this.upload(n))}},{key:"_getFile",value:function O(e){return e.files[0]}},{key:"_onValidationError",value:function A(e){messenger.notify("flashMessage",{type:"error",message:e.message}),window.analytics.track("image-picker-upload-error",{message:e.message})}},{key:"_onUploadSuccess",value:function P(e){0===Shopify.shopImagesCount&&$(H).toggle(!0),Shopify.shopImagesCount++,this.onSelect(e),window.analytics.track("image-picker-upload-success",{url:e.cdn_url})}},{key:"_onUploadError",value:function I(e){this._resetViews(this.currentView),messenger.notify("flashMessage",{type:"error",message:e.message}),window.analytics.track("image-picker-upload-error",{message:e.message})}},{key:"_openImagePicker",value:function R(){return this.containerComponent.action("openSidebarOverlay","image_picker_overlay",{onSelect:this.onSelect.bind(this),onPreviewImage:this.onPreviewImage.bind(this),onResetValue:this.onResetValue.bind(this)}),null}},{key:"_openImagePickerWithFreeImagesTabActive",value:function N(){return $(ae).find(".next-tab").get(1).click(),this._openImagePicker()}},{key:"_onEditClicked",value:function D(e){var t=Shopify.UIPopover["for"](e.currentTarget);return t&&t.deactivate(),this.containerComponent.action("openModal","edit_image_modal",{imageAlt:this.value.alt,imageUrl:this.value.cdn_url,onAltChanged:this.onAltChanged.bind(this)}),!1}},{key:"_isFileDragEvent",value:function L(e){var t=e.originalEvent.dataTransfer;if(!t)return!1;var n=t.types[0];return!!n&&-1!==n.toLowerCase().indexOf("file")}},{key:"_onRemoveClicked",value:function M(){this._showPlaceholder(),this.setValue()}},{key:"_savedValue",value:function B(){return this.savedValue?this.savedValue.shopify_url:null}},{key:"_setElementValue",value:function F(e){e?(this.$element.val(e.shopify_url),this._showPreview(e.cdn_url)):(this.$element.val(""),this._showPlaceholder())}}]),n}(n["default"]);t["default"]=r,ThemeEditor.Settings.ImagePicker=null!=t["default"]?t["default"]:t});(function(){var n,r,i,o,a,s,e,u,l,c=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty;a="img[data-image-preview]",r="div[data-image-file-picker]",n="div[data-image-actions]",u="button[data-role=replace-image]",s=1024*(e=20)*1024,i="Image file is too large. Resize it or choose a file less than "+e+" megabytes.",o="Image file is too small. Make sure the image isn't corrupt.",l="Error communicating with server",ThemeEditor.Settings.Image=function(e){function t(){return this._onReplaceClicked=c(this._onReplaceClicked,this),this._onUploadError=c(this._onUploadError,this),this._onUploadSuccess=c(this._onUploadSuccess,this),this._onInputChanged=c(this._onInputChanged,this),this._updateHiddenInput=c(this._updateHiddenInput,this),t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.initialize=function(){var e,t;return this.on("reset",this._updateHiddenInput),this.$preview=this.$container.find(a),this.$actions=this.$container.find(n),this.$picker=this.$container.find(r),(e=this.$preview.attr("data-src"))&&(this.value={handle:"",url:e}),this.$container.on("click",a,this._onReplaceClicked).on("click",u,this._onReplaceClicked),this.$element.on("change",this._onInputChanged),this.$hiddenInput=$("<input type='hidden' name='"+this.input_name+"'>").hide(),_.defer((t=this,function(){return t._changePreviewVisibility(Boolean(t.value)),t.containerComponent=t.bindToTwine(t.$element[0])}))},t.prototype.activate=function(){return this.setSrcImage()},t.prototype.setSrcImage=function(){var e;if(e=this.$preview.attr("data-src"))return this.$preview.attr("src",this._smallImageSource(e)).removeAttr("data-src")},t.prototype._getElementValue=function(){var e;return null!=(e=this.$element[0].files)?e[0]:void 0},t.prototype._setElementValue=function(e){return this.$element.val(""),this._changeValue(e),this._afterChangeValue()},t.prototype.getCurrentValue=function(){var e;return null!=(e=this.value)?e.handle:void 0},t.prototype._savedValue=function(){var e;return null!=(e=this.savedValue)?e.handle:void 0},t.prototype.getPreviousValue=function(){var e;return null!=(e=this.valueWas)?e.handle:void 0},t.prototype._afterChangeValue=function(){return this._updateHiddenInput(),this._updatePreviewSrc(),this._changePreviewVisibility(Boolean(this.value))},t.prototype._updateHiddenInput=function(){return this.isDirty()&&this.value?this.$hiddenInput.attr("value",this.getCurrentValue()).insertAfter(this.$element):this.$hiddenInput.removeAttr("value").remove()},t.prototype._updatePreviewSrc=function(){return this.value?this.$preview.attr("src",this._smallImageSource(this.value.url)):this.$preview.removeAttr("src")},t.prototype._changePreviewVisibility=function(e){return e?(this.$picker.hide(),this.$preview.show(),this.$actions.show()):(this.$preview.hide(),this.$actions.hide(),this.$picker.show())},t.prototype._smallImageSource=function(e){var t;if(e)return-1===(t=e.split("."))[t.length-1].indexOf("/")&&(t[t.length-2]=t[t.length-2]+"_small"),t.join(".")},t.prototype._showFilePicker=function(){return this.$element.trigger("click")},t.prototype._onInputChanged=function(){var e,t,n,r;if(t=this._getElementValue()){if(0===t.size||t.size>=s)return this.$element.val(""),e=0===t.size?o:i,messenger.notify("flashMessage",{type:"error",message:e}),!1;(n=new FormData).append("setting",this.id),n.append("image",t),r=Shopify.ajax({method:"POST",url:"/admin/themes/"+THEME_ID+"/editor/create_image.json",formData:n}),this.containerComponent.action("openModal","upload_progress_modal",{uploadPromise:r}),r.done(this._onUploadSuccess).fail(this._onUploadError)}return!1},t.prototype._onUploadSuccess=function(e){return this.$element.val(""),this._changeValue({handle:e.key,url:e.url})},t.prototype._onUploadError=function(e){var t;if(this.$element.val(""),e)return t=function(){switch(e.status){case 422:return JSON.parse(e.responseText).errors.join(". ");case 413:return i;default:return l}}(),messenger.notify("flashMessage",{type:"error",message:t})},t.prototype._onReplaceClicked=function(){return this._showFilePicker(),!1},t}(ThemeEditor.Settings.Base)}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"_resultsFromResponse",value:function n(e){return e.menus}},{key:"showThumbnailImage",get:function r(){return!1}},{key:"resourceBaseUrl",get:function i(){return"/admin/menus"}}]),t}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.LinkList=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),t}(se(Yt)["default"]);t["default"]=n,ThemeEditor.Settings.Number=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function a(){var e,t,n;le(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n=de(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i)))).defaultSearchParams={published_status:"published"},de(n,t)}return ce(a,e),ue(a,[{key:"showThumbnailImage",get:function t(){return!1}}]),a}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.Page=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function a(){var e,t,n;le(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n=de(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i)))).defaultSearchParams={published_status:"online_store:visible"},de(n,t)}return ce(a,e),a}(se(Ft)["default"]);t["default"]=n,ThemeEditor.Settings.Product=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.$element.on("change",
this._onElementChanged.bind(this))}},{key:"_getElementValue",value:function r(){return $('input[name="'+this.input_name+'"]:checked').val()}},{key:"_setElementValue",value:function i(e){$('input[name="'+this.input_name+'"][value="'+e+'"]').prop("checked",!0)}},{key:"_onElementChanged",value:function o(){this._changeValue(this._getElementValue())}}]),t}(se(Mt)["default"]);t["default"]=n,ThemeEditor.Settings.Radio=null!=t["default"]?t["default"]:t}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(Mt),c=".theme-setting--range__label-value",d=500,r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.$element.on("change input",(0,rt.debounce)(this._onElementChanged.bind(this),d)),this.$element.on("change input",this._updateLabel.bind(this)),this.$label=this.$container.find(c),this._updateLabel()}},{key:"getCurrentValue",value:function r(){return parseFloat(this.value,10)}},{key:"_getElementValue",value:function i(){return parseFloat(this.$element.val(),10)}},{key:"_setElementValue",value:function o(e){this.$element.val(e)}},{key:"_onElementChanged",value:function a(){this._changeValue(this._getElementValue())}},{key:"_afterChangeValue",value:function s(){this._updateLabel()}},{key:"_updateLabel",value:function u(){this.$label.text(this._formatLabel(this._getElementValue()))}},{key:"_formatLabel",value:function l(e){var t=this.$element.attr("step");return t&&t%1!=0?e.toFixed(1):e}}]),t}(n["default"]);t["default"]=r,ThemeEditor.Settings.Range=null!=t["default"]?t["default"]:t});(function(){var o,a,s,u,l,c,d,f=function(e,t){return function(){return e.apply(t,arguments)}},h=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;u="#richtext-editor__markup",s="[data-richtext-editor]",l="[data-richtext-sandbox]",c="[data-richtext-toolbar]",d=/(<[^>]+>)/gi,a=/(data-[^=]+=".*?")|(data-[^=]+='.*?')|(data-\w+)/g,o=/\s*<!--[\s\S]*?-->\s*/gm,ThemeEditor.Settings.Richtext=function(e){function t(){return this._afterChangeValue=f(this._afterChangeValue,this),this._updateButtonState=f(this._updateButtonState,this),this._enableButtons=f(this._enableButtons,this),this._onEditorChanged=f(this._onEditorChanged,this),this._onEditorBlur=f(this._onEditorBlur,this),this._onEditorFocus=f(this._onEditorFocus,this),this._onLabelClick=f(this._onLabelClick,this),this._commitCurrentValue=f(this._commitCurrentValue,this),this._destroyEditor=f(this._destroyEditor,this),this._editorSetup=f(this._editorSetup,this),this._editorTheme=f(this._editorTheme,this),this.initEditor=f(this.initEditor,this),t.__super__.constructor.apply(this,arguments)}var n,i,r;return h(t,e),t.DELAYED_ACTIVATION_TIME=n=350,t.DELAYED_DEACTIVATION_TIME=i=200,r=null,t.prototype.initialize=function(){var e;return this.$container.find("label[for='"+this.$element.attr("id")+"']").on("click",this._onLabelClick),(e=this.constructor).containerMarkup||(e.containerMarkup=$(u).html()),this.toggleCommands={}},t.prototype.activate=function(){return this.urlPicker=new window.RTEUrlPicker(this.$container),this.destroyEditorTimeoutId?(clearTimeout(this.destroyEditorTimeoutId),this.destroyEditorTimeoutId=null):this.activatingTimeout=setTimeout(this.initEditor,n)},t.prototype.deactivate=function(){var e,t,n,r;if(this.activatingTimeout)return clearTimeout(this.activatingTimeout);for(e in t=this.toggleCommands)t[e].off();return this.toggleCommands={},null!=(n=this.throttledUpdateButtonState)&&n.cancel(),this.destroyEditorTimeoutId=setTimeout(this._destroyEditor,i),null!=(r=this.urlPicker)&&r.teardown(),this.urlPicker=null},t.prototype.initEditor=function(){return this.activatingTimeout=null,this.$element.after(this.constructor.containerMarkup),this.$editorSandbox=this.$container.find(l),this.$editorContainer=this.$container.find(s),this.$editorToolbar=this.$container.find(c),tinymce.init({inline:!0,hidden_input:!1,target:this.$editorSandbox[0],content_style:this.constructor.contentStyle,plugins:"paste",browser_spellcheck:!0,elementpath:!1,statusbar:!1,toolbar:!1,visual:!1,schema:"html5",element_format:"html",forced_root_block:"p",relative_urls:!1,valid_elements:"p,-strong/b,-em,-i,-u,br,-span[!style],!span,a[href|title]",valid_styles:{"*":"text-decoration"},paste_webkit_styles:"text-decoration",allow_conditional_comments:!1,fix_list_elements:!0,keep_styles:!1,formats:{underline:{inline:"span",styles:{textDecoration:"underline"},exact:!0},ghostLink:{inline:"a"}},theme:this._editorTheme,setup:this._editorSetup,paste_preprocess:this._pastePreprocess}),this.urlPicker.initialize(this.editor)},t.prototype._editorTheme=function(){var r;return this.$editorSandbox.html(this.value),this.$editorToolbar.find("[data-rte-command]").get().forEach((r=this,function(e){var t,n;if(t=$(e),n=t.attr("data-rte-command"),(r.toggleCommands[n]=t).on("mousedown touchdown",function(e){return e.preventDefault(),r.editor.focus()}),"link"!==n)return t.on("click",function(){return r.editor.formatter.toggle(n),r._onEditorChanged()})})),{editorContainer:this.$editorContainer[0],iframeContainer:document.createElement("iframe")}},t.prototype._editorSetup=function(e){return this.editor=e,this.editor.on("change keyup",this._onEditorChanged),this.editor.on("focus",this._onEditorFocus),this.editor.on("blur",this._onEditorBlur),this.editor.on("BeforeAddUndo",function(){return!1}),this.throttledUpdateButtonState=_.throttle(this._updateButtonState,200,{leading:!0}),this.editor.on("selectionchange",this.throttledUpdateButtonState),this.editor.once("focus",this._enableButtons)},t.prototype._destroyEditor=function(){var e,t;return null!=(e=this.editor)&&e.destroy(),(this.editor=null)!=(t=this.$editorContainer)&&t.remove(),this.destroyEditorTimeoutId=null},t.prototype._pastePreprocess=function(e,t){var n;return null!=(n=t.content.match(d))&&n.forEach(function(e){return t.content=t.content.replace(e,e.replace(a,""))}),t.content=t.content.replace(o,""),t.content},t.prototype._getEditorContent=function(){return this.editor.getContent()},t.prototype._setEditorContent=function(e){return this.editor.setContent(e)},t.prototype._getElementValue=function(){return this.$element.val()},t.prototype._setElementValue=function(e){return this.$element.val(e)},t.prototype._commitCurrentValue=function(e){return this._changeValue(this._getElementValue(),e)},t.prototype._onLabelClick=function(){return this.editor.focus()},t.prototype._onEditorFocus=function(){return this.$editorSandbox.addClass("is-focused")},t.prototype._onEditorBlur=function(){var e;if(null==(e=this.urlPicker)||!e.picking)return this.$editorSandbox.removeClass("is-focused"),clearTimeout(r),this._commitCurrentValue()},t.prototype._isFocused=function(){return this.editor&&this.$editorSandbox.hasClass("is-focused")},t.prototype._onEditorChanged=function(){var e,t;if(null==(e=this.urlPicker)||!e.picking){if(t=this._getEditorContent(),this._setElementValue(t),this._isFocused()&&this.isLive()&&t){if(this.lastLiveValue===t)return;this.lastLiveValue=t,messenger.notify("liveSettingUpdated",{key:this.key,value:t})}else clearTimeout(r),r=setTimeout(this._commitCurrentValue,ThemeEditor.Settings.Base.DELAYED_UPDATE_TIME);return this._commitCurrentValue({"transient":!0})}},t.prototype._enableButtons=function(){return this.$editorToolbar.find("[data-rte-command]").prop("disabled",!1)},t.prototype._updateButtonState=function(){var e,t,n,r,i;for(t in i=[],r=this.toggleCommands){e=r[t];try{n=this.editor.queryCommandState(t)}catch(o){n=!1}i.push(e.toggleClass("rte-command-active",n).attr("aria-pressed",n))}return i},t.prototype._afterChangeValue=function(){if(this.editor&&this.value!==this._getEditorContent())return this._setEditorContent(this._getElementValue())},t}(ThemeEditor.Settings.Base)}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function r(e,t){le(this,r);var n=de(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,t));return n.type="sectionDisabled",n}return ce(r,e),r}(se(jt)["default"]);t["default"]=n,ThemeEditor.Settings.SectionDisabled=null!=t["default"]?t["default"]:t});(function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.Settings.Select=function(e){function t(){return this._onElementChanged=n(this._onElementChanged,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(){return this.$element.on("change",this._onElementChanged)},t.prototype.title=function(){var e;if(null!=(e=this.$element[0].options[this.$element[0].selectedIndex])?e.value:void 0)return e.text},t.prototype._getElementValue=function(){return this.$element.val()},t.prototype._setElementValue=function(e){return this.$element.val(e)},t.prototype._onElementChanged=function(){return this._changeValue(this._getElementValue())},t}(ThemeEditor.Settings.Base),ThemeEditor.Settings.Font=ThemeEditor.Settings.Select,ThemeEditor.Settings.Snippet=ThemeEditor.Settings.Select,ThemeEditor.Settings.Layout=ThemeEditor.Settings.Select}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),t}(se(Yt)["default"]);t["default"]=n,ThemeEditor.Settings.Textarea=null!=t["default"]?t["default"]:t});(function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.Settings.Url=function(e){function t(){return this.valueChanged=n(this.valueChanged,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.initialize=function(){return this.$hiddenField=this.$container.find(".js-url-browser-output"),this.$popover=this.$container.find("."+Shopify.UIPopover.CLASSES.CONTAINER),this.$fakeSelectedItemField=this.$container.find(".js-selected-item"),this._updateSelectedState(this.value),this.$hiddenField.on("change",this.valueChanged)},t.prototype.valueChanged=function(){var e;return e=JSON.parse(this.$hiddenField.val())||{},this.setValue(e)},t.prototype.getCurrentValue=function(){var e;return null!=(e=this.value)?e.url:void 0},t.prototype._savedValue=function(){var e;return null!=(e=this.savedValue)?e.url:void 0},t.prototype.getPreviousValue=function(){var e;return null!=(e=this.valueWas)?e.url:void 0},t.prototype._setElementValue=function(e){return this.$element.val(null!=e?e.url:void 0),this._updateSelectedState(e)},t.prototype._updateSelectedState=function(e){if(this.$fakeSelectedItemField.find(".js-selected-text").text(e.title||e.url).attr("title",e.title||e.url),this.$popover.toggleClass("hide",!!e.url),this.$fakeSelectedItemField.toggleClass("hide",!e.url),e.type)return this.$fakeSelectedItemField.find("[data-icon-type]").addClass("hide"),this.$fakeSelectedItemField.find("[data-icon-type='"+e.type+"' ]").removeClass("hide")},t}(ThemeEditor.Settings.Base)}).call(this),function(){var l=function(e,t){return function(){return e.apply(t,arguments)}},c=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;ThemeEditor.Settings.VideoUrl=function(e){function t(){return this._onInput=l(this._onInput,this),this._onOembedError=l(this._onOembedError,this),this._onOembedSuccess=l(this._onOembedSuccess,this),this._determineVideoProvider=l(this._determineVideoProvider,this),this._retrieveOembedThumbnail=l(this._retrieveOembedThumbnail,this),this._afterChangeValue=l(this._afterChangeValue,this),this._clearOembedThumbnail=l(this._clearOembedThumbnail,this),this._commitCurrentValue=l(this._commitCurrentValue,this),t.__super__.constructor.apply(this,arguments)}var n,r,i,o,a,s,u;return c(t,e),n="next-input-wrapper--is-error",r=".inline-error",i=".next-input-wrapper",s=".theme-setting--video-url__preview",a="theme-setting--video-url__input",u="theme-setting--video-url__preview-error",o={youtube:{name:"YouTube"},vimeo:{name:"Vimeo"}},t.prototype.initialize=function(){var e;return this.$element.on("blur change",this._commitCurrentValue),this.$element.on("paste cut",(e=this,function(){return _.defer(e._commitCurrentValue)})),this.$element.on("input",this._onInput),this.$errorNode=this.$element.siblings(r),this.$inputContainer=this.$container.find(i),this.$videoUrlPreview=this.$container.find(s),this.debounceOembedThumbnail=_.debounce(this._retrieveOembedThumbnail,500,{leading:!1,trailing:!0}),this.videoUrlPreviewError=""},t.prototype.activate=function(){return this._retrieveOembedThumbnail()},t.prototype._getElementValue=function(){return this.$element.val().trim()},t.prototype._setElementValue=function(e){return this.$element.val(e)},t.prototype._commitCurrentValue=function(){return this._changeValue(this._getElementValue())},t.prototype._clearOembedThumbnail=function(){return this.$videoUrlPreview.html("").hide(),this.$element.removeClass(a)},t.prototype.getCurrentValue=function(){return this._validate(this.value)?this.value:""},t.prototype.checkDirty=function(){return!_.isEqual(this.value,this.savedValue)},t.prototype._afterChangeValue=function(){return this._validate()?(this._clearError(),this.debounceOembedThumbnail()):(this._showError("This link is invalid. Try pasting a complete "+this._acceptedVideoNames().join("/")+" link"),this._clearOembedThumbnail())},t.prototype._retrieveOembedThumbnail=function(){var e,t;return t=this._getElementValue(),(e=this._determineVideoProvider())?Shopify.ajax({method:"GET",url:"/admin/themes/"+THEME_ID+"/editor/video_url_thumbnail",data:{provider:e,url:t},dataType:"html"}).done(this._onOembedSuccess).fail(this._onOembedError):this._clearOembedThumbnail()},t.prototype._determineVideoProvider=function(){var t;return t=this._getElementValue(),this._acceptedVideoTypes().find(function(e){return Shopify.videoUrlSiteMatchers[e].regexps.some(function(e){return e.test(t)})})},t.prototype._onOembedSuccess=function(e){return this._clearOembedThumbnail(),this.videoUrlPreviewError="",this.$videoUrlPreview.html($.parseHTML(e)).show(),this.$element.addClass(a)},t.prototype._onOembedError=function(e){var t,n;if(n=this._determineVideoProvider(),t=404===e.status?"This link is invalid. Try pasting a complete "+o[n].name+" link":422===e.status?"This link is invalid. Try pasting a complete "+this._acceptedVideoNames().join("/")+" link":"Can't connect to "+o[n].name+". Try again later",this.videoUrlPreviewError!==t)return this._clearOembedThumbnail(),this.videoUrlPreviewError=t,this._showOembedError(t)},t.prototype._onInput=function(){var e;return e="",this._validate()&&(this._clearError(),e=this._getElementValue(),this.debounceOembedThumbnail()),this._changeValue(e,{"transient":!0})},t.prototype._showOembedError=function(e){var t;return t="<div class='"+u+"'>"+e+"</div>",this.$videoUrlPreview.html(t).show(),this.$element.addClass(a)},t.prototype._showError=function(e){return this.$errorNode.text(e),this.$inputContainer.addClass(n)},t.prototype._clearError=function(){return this.$inputContainer.removeClass(n)},t.prototype._validate=function(t){return null==t&&(t=this._getElementValue()),!t.trim()||this._acceptedVideoTypes().some(function(e){return Shopify.videoUrlSiteMatchers[e].regexps.some(function(e){return e.test(t)})})},t.prototype._acceptedVideoTypes=function(){return null!=this.acceptedVideoTypes?this.acceptedVideoTypes:this.acceptedVideoTypes=JSON.parse(this.$element.attr("data-accepts"))},t.prototype._acceptedVideoNames=function(){return null!=this.acceptedVideoNames?this.acceptedVideoNames:this.acceptedVideoNames=this._acceptedVideoTypes().map(function(e){return Shopify.videoUrlSiteMatchers[e].prettyName})},t}(ThemeEditor.Settings.Base)}.call(this),function(){var s=[].slice;window.UI.Component=function(){function e(e,t){var n;this.element=e,this._parentComponent=t,this.$element=$(this.element),this.editor=null!=(n=this._parentComponent)?n.editor:void 0,this._init()}return e.prototype.actions={},e.prototype.stateEvents={},e.prototype.messengerEvents={},e.prototype._init=function(){return this._eventCache={},this.init(),this.initState(),this.initMessenger()},e.prototype.initState=function(){var e,t,n,r;for(t in this._eventCache.state={},r=[],n=this.stateEvents)e=n[t],this._eventCache.state[t]=this.bindFunction(e),r.push(state.subscribe(t,this._eventCache.state[t]));return r},e.prototype.initMessenger=function(){var e,t,n,r;for(t in this._eventCache.messenger={},r=[],n=this.messengerEvents)e=n[t],this._eventCache.messenger[t]=this.bindFunction(e),r.push(messenger.on(t,this._eventCache.messenger[t]));return r},e.prototype.init=function(){},e.prototype._teardown=function(){return this.teardownState(),this.teardownMessenger(),this.teardown()},e.prototype.teardown=function(){},e.prototype.teardownState=function(){var e,t,n;for(e in n=[],t=this.stateEvents)t[e],n.push(state.unsubscribe(e,this._eventCache.state[e]));return n},e.prototype.teardownMessenger=function(){var e,t,n;for(e in n=[],t=this.messengerEvents)t[e],n.push(messenger.off(e,this._eventCache.messenger[e]));return n},e.prototype.bindFunction=function(e){return"string"==typeof e?this[e].bind(this):e.bind(this)},e.prototype.render=function(e){var t,n,r,i,o,a,s;for(n=0,i=(a=this.element.children).length;n<i;n++)t=a[n],Twine.unbind(t);for(this.$element.html(e),r=0,o=(s=this.element.children).length;r<o;r++)t=s[r],Twine.bind(t)},e.prototype.refresh=function(){return Twine.refreshImmediately()},e.prototype.destroy=function(){return Twine.unbind(this.element),this.$element.remove()},e.prototype.action=function(e){var t,n,r,i,o,a;t=e,n=2<=arguments.length?s.call(arguments,1):[],(r=null!=(i=this.actions)?i[t]:void 0)&&("string"==typeof r&&(r=this[r]),r.apply(this,n)),(null!=(o=this._parentComponent)?o.action:void 0)&&(a=this._parentComponent.action).call.apply(a,[this._parentComponent,t].concat(s.call(n)))},e}()}.call(this),function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r="te-panel--is-visible",n="te-panel--is-active",window.UI.AbstractPanel=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.open=function(){var e;if(!this.isOpen)return this.isOpen=!0,this.$element.addClass(r),this.element.offsetWidth,this.$element.addClass(n),this.$element.one(Shopify.Events.transitionEnd(),(e=this,function(){if("fullscreen"!==state.get("viewportSize"))return e.$lastFocus=$(document.activeElement),e.$element.focus()})),"function"==typeof this.afterOpen?this.afterOpen.apply(this,arguments):void 0},t.prototype.close=function(){var t;if(this.isOpen)return this.isOpen=!1,this.$element.removeClass(n),"function"==typeof this.afterClose&&this.afterClose(),this.$element.one(Shopify.Events.transitionEnd(),(t=this,function(){var e;return t.$element.find("[data-scrollable]").scrollTop(0),t.$element.removeClass(r),null!=(e=t.$lastFocus)?e.focus():void 0}))},t}(UI.Component)}.call(this);var Kt=e(function(e,t){"use strict";function n(e){var t=e;-1===e.indexOf("//")&&"/"!==e[0]&&(t="/"+e);var n=document.createElement("a");return n.href=t,new URL(n.href)}function r(e){return e.pathname.substring(1).split("/")}function i(e){var t=e.password?":"+e.password:"";return[e.username?""+e.username+t+"@":"",e.host].join("")}function o(e){if(!e)return{};var t=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!t)return{};var n=t.split("&"),r={},i=void 0,o=void 0,a=void 0,s=!0,u=!1,l=undefined;try{for(var c,d=n[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){i=c.value.split("="),o=decodeURIComponent(i.shift().replace(/\+/g,"%20")),a=i.length?decodeURIComponent(i.join("=").replace(/\+/g,"%20")):null,"undefined"==typeof r[o]?r[o]=a:(h(r[o])||(r[o]=[r[o]]),r[o].push(a))}}catch(f){u=!0,l=f}finally{try{!s&&d["return"]&&d["return"]()}finally{if(u)throw l}}return r}function a(l){var c="";return Object.keys(l).forEach(function(e){if(h(l[e])){var t={},n=!0,r=!1,i=undefined;try{for(var o,a=l[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;void 0!==s&&"undefined"==typeof t[String(s)]&&(c+="&"+d(e,s),t[String(s)]=!0)}}catch(u){r=!0,i=u}finally{try{!n&&a["return"]&&a["return"]()}finally{if(r)throw i}}}else"undefined"!=typeof l[e]&&(c+="&"+d(e,l[e]))}),c.substring(1)}function s(e,t){var n=o(e.search);return Object.keys(t).forEach(function(e){"undefined"==typeof n[e]?n[e]=t[e]:(h(n[e])||(n[e]=[n[e]]),n[e].push(t[e]))}),e.search=a(n),e}function u(e,t){var n=o(e.search);return Object.keys(t).forEach(function(e){n[e]=t[e]}),e.search=a(n),e}function l(e){var t=n(e);return t.protocol+"//"+i(t)}function c(e){return encodeURIComponent(String(e)).replace(/%20/g,"+")}function d(e,t){return c(e)+(null===t?"":"="+c(t))}function h(e){return"[object Array]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getURL=n,t.getSegments=r,t.authority=i,t.parseSearchString=o,t.buildSearchString=a,t.addQuery=s,t.setQuery=u,t.origin=l,Shopify.UrlMangler=null!=t["default"]?t["default"]:t}),Jt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(window.UI.AbstractPanel),r={},o=null,i=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"init",value:function n(){this.id=this.$element.attr("id"),t.add(this.id,this),this.afterInit()}},{key:"close",value:function r(){F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"close",this).call(this),o=null}},{key:"open",value:function i(e){F(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"open",this).call(this,e),o=this}}]),t}(n["default"]);(t["default"]=i).add=function(e,t){r[e]=t},i.remove=function(e){r[e]&&delete r[e]},i.open=function(e,t){var n=r[e];n&&n.open(t)},i.close=function(){o&&o.close()},i.isVisible=function(){return!!o&&o.isOpen},UI.OverlayPanel=null!=t["default"]?t["default"]:t});e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var T=se(ot),O=se(ft),n=se(Jt),A={WEBFONT_ACTIVE:"webfont--is-active",WEBFONT_INACTIVE:"webfont--is-inactive",RESULTS_LIST:"font-picker-list"},P={LIST:"#font-panel-list-template",LIST_ITEM:"#font-panel-list-item-template",CURRENTLY_SELECTED:"#font-panel-currently-selected"},I={formattedClass:Ht.formattedClass,getFontStyle:Ht.getFontStyle,getFontWeight:Ht.getFontWeight,formatFontStack:Ht.formatFontStack,getDefaultVariant:Ht.getDefaultVariant},R={LIST_WRAPPER:".resource-list__wrapper",LIST:".resource-list",LOADING_ICON:"#font-list__spinner",LOAD_MORE:"#resource-panel__load-more",CURRENTLY_SELECTED:"#resource-panel__currently-selected"},N=Object.freeze({selectedResource:null,resourceType:null,nextPage:1,searchQuery:"",endOfResources:!0,showFooter:!1,defaultSearchParams:Object.freeze({})}),D=500,L=30,r=function(e){function o(){var e;le(this,o);for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=de(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)));return i._showFont=i._showFont.bind(i),i}return ce(o,e),ue(o,[{key:"afterInit",value:function t(){this.state=N,this.lastRequest=null}},{key:"afterOpen",value:function d(e){var t=e.onPreview,n=e.onSelect,r=e.onResetValue,i=e.resourceType,o=e.resourceBaseUrl,a=e.extractResultsFromResponse,s=e.displayName,u=e.selectedResource,l=e.defaultSearchParams,c=e.showThumbnailImage;this.preview=t,this.confirmSelection=n,this.reset=r,this.state=M({},this.state,{resourceType:i,resourceBaseUrl:o,displayName:s,extractResultsFromResponse:a,selectedResource:u,defaultSearchParams:l,showThumbnailImage:c}),this.$resourceListWrapper=this.$element.find(R.LIST_WRAPPER),this.$currentlySelected=this.$element.find(R.CURRENTLY_SELECTED),this._memoizedTemplatize=(0,rt.memoize)(this._templatize.bind(this)),this.onSearchInput=(0,rt.debounce)(this._search.bind(this),D),this._setPanelTitle("Select "+s),this._fetchSelectedFont(),this._fetchFirstPage()}},{key:"afterClose",value:function n(){this.state=N,this.$resourceListWrapper.empty(),$(R.LOADING_ICON).show(),this._clearLastRequest(),this.reset()}},{key:"matchesSelectedFont",value:function i(e,t){var n=1<arguments.length&&t!==undefined&&arguments[1],r=String(this.state.selectedResource&&this.state.selectedResource.handle);return!0===n?r===e:(0,Ht.stripHandleFvd)(r)===(0,Ht.stripHandleFvd)(e)}},{key:"_loadFonts",value:function a(e,t){var n=this,r=(1<arguments.length&&t!==undefined?arguments[1]:{defaultVariantsOnly:!0}).defaultVariantsOnly,i=(0,rt.reject)(e,Ht.isSystemFont);return r&&(i=e.map(Ht.getDefaultVariant)),zt.sharedInstance.load(i).then(function(){return n._observeFonts(i)})["catch"](function(e){throw e})}},{key:"_observeFonts",value:function u(e){var t=!0,n=!1,r=undefined;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;zt.sharedInstance.observe(a).then(this._showFont,this._showFont)["catch"](function(e){throw e})}}catch(s){n=!0,r=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw r}}}},{key:"_showFont",value:function r(e){!1!==e&&(this.$resourceListWrapper.find("."+A.WEBFONT_INACTIVE+"."+(0,Ht.formattedClass)(e)).removeClass(A.WEBFONT_INACTIVE).addClass(A.WEBFONT_ACTIVE),this.$currentlySelected.find("."+A.WEBFONT_INACTIVE+"."+(0,Ht.formattedClass)(e)).removeClass(A.WEBFONT_INACTIVE).addClass(A.WEBFONT_ACTIVE))}},{key:"_setPanelTitle",value:function s(e){this.panelTitle=e,this._rebind()}},{key:"_setCurrentlySelected",value:function l(e){var t=this;if(e.handle||e.default_variant_handle){var n=(0,Ht.formatFontWithVariants)(e),r=this.currentlySelectedTemplate({font:n});this.$currentlySelected.html(r),this._loadFonts(n.variants,{defaultVariantsOnly:!1}),setTimeout(function(){return t._rebind()},0)}else this.$currentlySelected.empty(),this._rebind()}},{key:"_fetchFirstPage",value:function c(){var n=this;this._fetchNextPage(function(e){var t=n._memoizedTemplatize(e);n.$resourceListWrapper.html(t),n._rebind(),n._loadFonts(e)})}},{key:"_fetchSelectedFont",value:function f(){var n=this,e=this.state.selectedResource.handle;return qt.sharedInstance.fetch(e).then(function(e){var t=e.font;return n._setCurrentlySelected(t.font_with_variants)})["catch"](function(e){throw e})}},{key:"_loadMore",value:function h(){var n=this;this._fetchNextPage(function(e){if(e.length){var t=n._memoizedTemplatize(e,!1);n.$resourceListWrapper.find(R.LIST).append(t),n._loadFonts(e),n.state.endOfResources&&n._rebind()}},this)}},{key:"_search",value:function p(){var n=this,e=N.nextPage,t=N.endOfResources;(0,rt.merge)(this.state,{nextPage:e,endOfResources:t}),this.$resourceListWrapper.empty(),$(R.LOADING_ICON).show(),this._rebind(),this._fetchNextPage(function(e){var t=n._memoizedTemplatize(e);n.$resourceListWrapper.html(t),n._loadFonts(e),n._rebind()})}},{key:"_clearSearch",value:function m(){this.state.searchQuery="",this._search()}},{key:"_clearLastRequest",value:function g(){this.lastRequest&&this.lastRequest.abort(),$(R.LOAD_MORE).toggleClass("is-loading"),this.lastRequest=null}},{key:"_fetchNextPage",value:function v(n){var r=this,e=this._generatePageUrl();this._clearLastRequest(),this.lastRequest=this._fetchResources(e).done(function(e){var t=r.state.extractResultsFromResponse(e);r.state.endOfResources=t.length<L,r.state.nextPage++,n(t)}).fail(function(){var e=r.resourcePickerListTemplate({errorMessage:"Error retrieving results."});r.$resourceListWrapper.html(e),r.state.endOfResources=!0}).always(function(){r._clearLastRequest(),$(R.LOADING_ICON).hide(),r._rebind()}),this.state.searchQuery&&window.analytics.track(this.state.resourceType+"-search",{query:this.state.searchQuery})}},{key:"_fetchResources",value:function y(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:this.state.resourceBaseUrl+"/dropdown.json",r=1<arguments.length&&t!==undefined?arguments[1]:{},i=M({},this.state.defaultSearchParams,r),o="json";return(0,O["default"])({url:n,data:i,dataType:o})}},{key:"_generatePageUrl",value:function b(){var e=M({page:this.state.nextPage,limit:L},this.state.searchQuery?{query:this.state.searchQuery}:{});return this.state.resourceBaseUrl+"/dropdown.json?"+(0,Kt.buildSearchString)(e)}},{key:"_onSelection",value:function _(e){var t=(0,Ht.formatAsResource)(e);this.state.selectedResource=t,this.state.showFooter=!0,this.preview(t),this._setCurrentlySelected(e)}},{key:"_confirmSelection",value:function S(){this.confirmSelection(this.state.selectedResource),this.close()}},{key:"_templatize",value:function w(e,t){return!(1<arguments.length&&t!==undefined)||arguments[1]?this.resourcePickerListTemplate({resourceBaseUrl:this.state.resourceBaseUrl,displayName:this.state.displayName,errorMessage:null,list:e,resourceType:this.state.resourceType,showThumbnailImage:this.state.showThumbnailImage}):this.resourcePickerListItemTemplate({list:e,showThumbnailImage:this.state.showThumbnailImage})}},{key:"_rebind",value:function C(){for(var e=[].concat(B(this.element.children)),t=0;t<e.length;t++){var n=e[t];T["default"].bind(n)}T["default"].refresh()}},{key:"resourcePickerListTemplate",get:function E(){return(0,rt.template)($(P.LIST).html(),{imports:I})}},{key:"resourcePickerListItemTemplate",get:function k(){return(0,rt.template)($(P.LIST_ITEM).html(),{imports:I})}},{key:"currentlySelectedTemplate",get:function x(){return(0,rt.template)($(P.CURRENTLY_SELECTED).html(),{imports:M({},I,{formatFontWithVariants:Ht.formatFontWithVariants})})}}]),o}(n["default"]);(t["default"]=r).prototype.actions={closePanel:"close",preview:"_onSelection",select:"_confirmSelection",loadMore:"_loadMore"},T["default"].registerComponent("FontPickerPanel",r)});(function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.GeneralPanel=function(e){function t(){return this._onSelectionChange=n(this._onSelectionChange,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.stateEvents={selection:"_onSelectionChange"},t.prototype.init=function(){return this.panelId=this.element.id,this.settings=this.editor.generalSettings.panel(this.panelId)},t.prototype._onSelectionChange=function(e){return null==e&&(e={}),e.panelId===this.panelId?this.open():this.close()},t.prototype.afterOpen=function(){return this.editor.generalSettings.activate({panelName:this.panelId})},t.prototype.afterClose=function(){return this.editor.generalSettings.deactivate({panelName:this.panelId})},t.prototype.teardown=function(){return this.afterClose()},t}(UI.AbstractPanel)}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var d=se(ft),n=se(Jt),f=m(lt),r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"afterInit",value:function n(){this.selectedImage=null,this.isProcessing=!1,this.onImageSelectedCallback=this.onImageSelectedCallback.bind(this)}},{key:"afterOpen",value:function i(e){var t=e.onSelect,n=e.onPreviewImage,r=e.onResetValue;this.onSelectionConfirmedCallback=t,this.onPreviewImageCallback=n,this.onResetValueCallback=r,this.imageLibraryPicker.loadData(),this.stockImagePicker.loadData()}},{key:"afterClose",value:function r(){this.resetState()}},{key:"resetState",value:function o(){this.selectedImage=null,this.isProcessing=!1,this.onResetValueCallback(),this.imageLibraryPicker.resetState(),this.stockImagePicker.resetState(),this.$element.find(".next-tab")[0].click()}},{key:"onImageSelectedCallback",value:function a(e){(0,rt.isEqual)(this.selectedImage,e)||(this.selectedImage=e,this.imageLibraryPicker.setState({selectedImage:e}),this.stockImagePicker.setState({selectedImage:e}),this.onPreviewImageCallback(e))}},{key:"_onConfirmSelection",value:function s(){var t=this;return this.selectedImage&&"burst"===this.selectedImage.type?(this.isProcessing=!0,this._createBurstImage(this.selectedImage).then(function(e){return Shopify.shopImagesCount++,t.isProcessing=!1,t.selectedImage=e,t._confirmSelection(e),e})["catch"](function(){t.isProcessing=!1,Shopify.Flash.error(
"There was a problem selecting a stock image."),Twine.refresh()})):(this._confirmSelection(this.selectedImage),Promise.resolve())}},{key:"_confirmSelection",value:function u(e){this.onSelectionConfirmedCallback(e),this.close()}},{key:"_createBurstImage",value:function l(n){var i=this;return new Promise(function(e,r){var t=(0,d["default"])({method:"POST",url:f.create_from_burst_admin_images_path().json,data:{image:i._formatBurstImagedata(n)}});t.done(e),t.fail(function(e,t,n){return r(n)})})}},{key:"_formatBurstImagedata",value:function c(e){var t={burst_photo_id:e.id,burst_image:e.shopify_url,alt:e.alt,cityhash:e.variations.shopify.cityhash,size:e.variations.shopify.size_in_bytes};return this.stockImagePicker.state.selectedCategory?t.burst_category_id=this.stockImagePicker.state.selectedCategory.id:this.stockImagePicker.state.searchId&&(t.burst_search_id=this.stockImagePicker.state.searchId),t}}]),t}(n["default"]);(t["default"]=r).prototype.actions={confirmSelection:"_onConfirmSelection",closeImagePickerPanel:"close"},Twine.registerComponent("ImagePickerPanel",r)});(function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.PresetPicker=function(e){function t(){return this._onChangeSuccess=n(this._onChangeSuccess,this),this._onSelectionChange=n(this._onSelectionChange,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.stateEvents={selection:"_onSelectionChange"},t.prototype.actions={selectPreset:"_selectPreset",closePresetsPanel:"_closePresetsPanel",confirmPreset:"_confirmPreset"},t.prototype.init=function(){return this.panelId=this.element.id,this._reset()},t.prototype._reset=function(){var e,t;return null!=(e=this.xhrGetPreset)&&e.abort(),(this.xhrGetPreset=null)!=(t=this.xhrSetPreset)&&t.abort(),this.xhrSetPreset=null,this.selectedPresetName=null,this.selectedPresetSettingData=null,this.presetsLoaded=!1},t.prototype._onSelectionChange=function(e){return null==e&&(e={}),e.panelId===this.panelId?this.open():this.close()},t.prototype._onChangeSuccess=function(e){return this.presetsLoaded=!0,this.selectedPresetSettingData=this.editor.generalSettings.applyValues(e)},t.prototype._onChangeError=function(e,t){if("abort"!==t)return messenger.notify("flashMessage",{type:"error",message:"Error communicating with server"})},t.prototype._selectPreset=function(e){var t;if(this.selectedPresetName!==e)return null!=(t=this.xhrGetPreset)&&t.abort(),this.selectedPresetName=e,this.selectedPresetSettingData=null,this.presetsLoaded=!1,this.xhrGetPreset=Shopify.ajax({method:"GET",url:Shopify.routes.theme_editor_preset(THEME_ID).json,data:{id:e}}).done(this._onChangeSuccess).fail(this._onChangeError)},t.prototype._closePresetsPanel=function(e){return null==e&&(e={}),e.resetDirty?this.action("restoreSavedValues"):(this.editor.generalSettings.confirmChanges(this.selectedPresetSettingData),this.action("confirmPreset")),this._reset()},t.prototype._confirmPreset=function(){var e;return null!=(e=this.xhrSetPreset)&&e.abort(),this.xhrSetPreset=Shopify.ajax({method:"PUT",url:Shopify.routes.theme_editor_preset(THEME_ID).json,data:{id:this.selectedPresetName}}).fail(this._onChangeError)},t}(UI.AbstractPanel)}).call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var w=se(ft),n=se(Jt),C={LIST:"#resource-panel-list-template",LIST_ITEM:"#resource-panel-list-item-template",CURRENTLY_SELECTED:"#resource-picker-panel-currently-selected"},E={LIST_WRAPPER:".resource-list__wrapper",LIST:".resource-list",LOADING_ICON:"#resource-list__spinner",LOAD_MORE:"#resource-panel__load-more",CURRENTLY_SELECTED:"#resource-panel__currently-selected"},k={isProcessing:!1,showLoadingSpinner:!0,selectedResource:null,resourceType:null,nextPage:1,searchQuery:"",endOfResources:!0,showFooter:!1,defaultSearchParams:{}},x=500,T=15,r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"afterInit",value:function n(){this.state=k,this.lastRequest=null}},{key:"afterOpen",value:function d(e){var t=e.onPreview,n=e.onSelect,r=e.onResetValue,i=e.resourceType,o=e.resourceBaseUrl,a=e.extractResultsFromResponse,s=e.displayName,u=e.selectedResource,l=e.defaultSearchParams,c=e.showThumbnailImage;this.previewResource=t,this.confirmSelection=n,this.reset=r,this.state=M({},this.state,{resourceType:i,resourceBaseUrl:o,displayName:s,extractResultsFromResponse:a,selectedResource:u,defaultSearchParams:l,showThumbnailImage:c}),this.$resourceListWrapper=this.$element.find(E.LIST_WRAPPER),this.$currentlySelected=this.$element.find(E.CURRENTLY_SELECTED),this._memoizedTemplatize=(0,rt.memoize)(this._templatize).bind(this),this.onSearchInput=(0,rt.debounce)(this._search.bind(this),x),this._setCurrentlySelected(u),this._fetchFirstPage(),this.state.panelTitle="Select "+s,this.state.showLoadingSpinner=!0,this.state.isProcessing=!1}},{key:"afterClose",value:function r(){this.state=k,this.$resourceListWrapper.empty(),this._clearLastRequest(),this.state.showLoadingSpinner=!0,this.state.isProcessing=!1,this.reset()}},{key:"_setCurrentlySelected",value:function i(e){if(e.handle){var t=this.currentlySelectedTemplate({resource:e,showThumbnailImage:this.state.showThumbnailImage});this.$currentlySelected.html(t)}else this.$currentlySelected.empty()}},{key:"_fetchFirstPage",value:function o(){var n=this;this._fetchNextPage(function(e){var t=n._memoizedTemplatize(e);n.$resourceListWrapper.html(t),n._rebind()})}},{key:"_loadMore",value:function a(){var n=this;this._fetchNextPage(function(e){if(e.length){var t=n._memoizedTemplatize(e,!1);n.$resourceListWrapper.find(E.LIST).append(t),n._rebind(),n.state.endOfResources&&n.refresh()}},this)}},{key:"_search",value:function s(){var n=this,e=k.nextPage,t=k.endOfResources;(0,rt.merge)(this.state,{nextPage:e,endOfResources:t}),this.$resourceListWrapper.empty(),this.state.showLoadingSpinner=!0,this._fetchNextPage(function(e){var t=n._memoizedTemplatize(e);n.$resourceListWrapper.html(t),n._rebind()})}},{key:"_clearSearch",value:function u(){this.state.searchQuery="",this._search()}},{key:"_clearLastRequest",value:function l(){this.lastRequest&&this.lastRequest.abort(),this.lastRequest=null,this.refresh()}},{key:"_fetchNextPage",value:function c(n){var r=this,e=this._generatePageUrl();this._clearLastRequest(),this.state.isProcessing=!0,this.lastRequest=this._fetchResources(e).done(function(e){var t=r.state.extractResultsFromResponse(e);r.state.endOfResources=t.length<T,r.state.nextPage++,r.state.isProcessing=!1,r.state.showLoadingSpinner=!1,r.refresh(),n(t)}).fail(function(){var e=r._templatizeErrorMessage("Error retrieving results.");r.$resourceListWrapper.html(e),r.state.endOfResources=!0,r.state.isProcessing=!1,r.state.showLoadingSpinner=!1,r.refresh()}).always(function(){r._clearLastRequest()}),this.state.searchQuery&&window.analytics.track(this.state.resourceType+"-search",{query:this.state.searchQuery})}},{key:"_fetchResources",value:function f(e,t){var n=0<arguments.length&&e!==undefined?arguments[0]:this.state.resourceBaseUrl+"/dropdown.json",r=1<arguments.length&&t!==undefined?arguments[1]:{},i=M({},this.state.defaultSearchParams,r),o="json";return(0,w["default"])({url:n,data:i,dataType:o})}},{key:"_generatePageUrl",value:function h(){var e=M({page:this.state.nextPage,limit:T},this.state.searchQuery?{query:this.state.searchQuery}:{});return this.state.resourceBaseUrl+"/dropdown.json?"+(0,Kt.buildSearchString)(e)}},{key:"_onSelection",value:function p(e){this.state.selectedResource=e,this.state.showFooter=!0,this.previewResource(e),this._setCurrentlySelected(e)}},{key:"_confirmSelection",value:function m(){this.confirmSelection(this.state.selectedResource),this.close()}},{key:"_templatize",value:function g(e,t,n){var r=n;return!(1<arguments.length&&t!==undefined)||arguments[1]?this.resourcePickerListTemplate({resourceBaseUrl:this.state.resourceBaseUrl,displayName:this.state.displayName,errorMessage:r,list:e,resourceType:this.state.resourceType,showThumbnailImage:this.state.showThumbnailImage}):this.resourcePickerListItemTemplate({list:e,showThumbnailImage:this.state.showThumbnailImage})}},{key:"_templatizeErrorMessage",value:function v(e){return this._templatize({},!0,e)}},{key:"_rebind",value:function y(){for(var e=[].concat(B(this.element.children)),t=0;t<e.length;t++){var n=e[t];Twine.bind(n)}Twine.refresh()}},{key:"resourcePickerListTemplate",get:function b(){return(0,rt.template)($(C.LIST).html())}},{key:"resourcePickerListItemTemplate",get:function _(){return(0,rt.template)($(C.LIST_ITEM).html())}},{key:"currentlySelectedTemplate",get:function S(){return(0,rt.template)($(C.CURRENTLY_SELECTED).html())}}]),t}(n["default"]);(t["default"]=r).prototype.actions={closeResourcePickerPanel:"close",previewResource:"_onSelection",selectResource:"_confirmSelection",loadMore:"_loadMore"},Twine.registerComponent("ResourcePickerPanel",r)});(function(){var n,r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a=function(e,t){function n(){this.constructor=e}for(var r in t)s.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},s={}.hasOwnProperty;i="data-panel-id",n="data-accordion-id",r="data-general-settings",UI.SectionPanel=function(e){function t(){return this._onRenderSection=o(this._onRenderSection,this),this._onDeleteSection=o(this._onDeleteSection,this),this._onSelectionChange=o(this._onSelectionChange,this),t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.stateEvents={sectionGeneralSettings:"_onSectionGeneralSettingsChange",selection:"_onSelectionChange"},t.prototype.messengerEvents={deleteSection:"_onDeleteSection",renderSection:"_onRenderSection"},t.prototype.actions={toggleGeneralSettings:"_toggleGeneralSettings"},t.prototype.init=function(){return this.sectionId=this.$element.attr(i),this.accordionId=this.$element.attr(n),this.$generalSettingsContainer=this.$element.find("["+r+"]"),this.section=this.editor.sections.byId[this.sectionId],this.expandedGeneralSettings=!1,this.renderedGeneralSettings=[],this.activeGeneralSettings=[],this.generalSettingsAccordion=Shopify.UIAccordion["for"](document.getElementById(this.accordionId)),this._onSectionGeneralSettingsChange(state.get("sectionGeneralSettings")||{})},t.prototype.hasGeneralSettings=function(){return 0<this.activeGeneralSettings.length},t.prototype.afterOpen=function(){return this.section.activate()},t.prototype.afterClose=function(){return this._removeGeneralSettings(this.renderedGeneralSettings),this.renderedGeneralSettings=[],this.section.deactivate()},t.prototype._toggleGeneralSettings=function(){return this.expandedGeneralSettings=!this.expandedGeneralSettings,this.expandedGeneralSettings?this.generalSettingsAccordion.expand():this.generalSettingsAccordion.collapse()},t.prototype._onSectionGeneralSettingsChange=function(e){var t,n,r,i,o;for(this.activeGeneralSettings=[],t=0,n=(o=this.orderedGeneralSettings(e[this.sectionId])).length;t<n;t++)i=o[t],(r=this.editor.generalSettings.settingsById[i])&&this.activeGeneralSettings.push(r);if(this.isOpen)return this._renderGeneralSettings(),this.refresh()},t.prototype.orderedGeneralSettings=function(t){return null==t&&(t=[]),this.editor.generalSettings.orderedSettingIds.filter(function(e){return-1!==t.indexOf(e)})},t.prototype._onSelectionChange=function(e){return null==e&&(e={}),e.sectionId===this.sectionId?(this._renderGeneralSettings(),this.open()):this.close()},t.prototype._onDeleteSection=function(e){if(e===this.sectionId)return this._removeGeneralSettings(this.renderedGeneralSettings),this.renderedGeneralSettings=[],state.set("selection",null),this.destroy()},t.prototype._onRenderSection=function(e){if(e.id===this.sectionId)return this.refresh()},t.prototype._renderGeneralSettings=function(){var i;if(!(0<this.renderedGeneralSettings.length))return this._removeGeneralSettings(this.renderedGeneralSettings),this.renderedGeneralSettings=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.activeGeneralSettings).length;e<t;e++)(i=n[e]).moveContainer(this.$generalSettingsContainer),i.activate(),r.push(i);return r}.call(this)},t.prototype._removeGeneralSettings=function(e){var t,n,r,i;for(r=[],t=0,n=e.length;t<n;t++)(i=e[t]).putContainerBackInOriginalPlace(),r.push(i.deactivate());return r},t}(UI.AbstractPanel)}).call(this),function(){var n,r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=function(){return""+Date.now()},UI.SectionPicker=function(e){function t(){return this._onCreateMobileSection=r(this._onCreateMobileSection,this),this._renderNewSection=r(this._renderNewSection,this),this._onSectionsLoaded=r(this._onSectionsLoaded,this),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.stateEvents={selection:"_onSelectionChange"},t.prototype.messengerEvents={sectionCreated:"_onSectionCreated"},t.prototype.actions={selectNewSection:"_selectNewSection",createSection:"_onCreateSection",createMobileSection:"_onCreateMobileSection",resetSelection:"_resetSelection"},t.prototype.init=function(){var i;return this.reset(),this._newSections=function(){var e,t,n,r;for(r=[],e=0,t=(n=this._sectionElements()).length;e<t;e++)i=n[e],r.push(JSON.parse(i.getAttribute("data-new-section")));return r}.call(this)},t.prototype.reset=function(){return state.set("pendingSection",null),this.newSection={},this.renderedSections={},this.loadingSections=!1,this.pending=!1,this.xhr=null},t.prototype.afterOpen=function(){if(this.newSection.id=n(),this._shouldPrerender())return this._prerenderSections()},t.prototype.afterClose=function(){var e;return null!=(e=this.xhr)&&e.abort(),messenger.notify("cancelSectionCreate",this.newSection),this.reset()},t.prototype.hasSelectedSection=function(){return this.newSection.type&&this.newSection.preset},t.prototype.isLoadingSection=function(){return this.pending||this.loadingSections},t.prototype._onSelectionChange=function(e){return(null!=e?e.addingSection:void 0)?this.open():this.close()},t.prototype._prerenderSections=function(){return this._loadNewSections(this._newSections)},t.prototype._loadNewSections=function(e){var t,n,r,i,o,a;if(null!=e?e.length:void 0){for(null!=(a=this.xhr)&&a.abort(),this.loadingSections=!0,t=[{name:"_method",value:"GET"},{name:"new_section_id",value:this.newSection.id}],n=0,r=e.length;n<r;n++)i=e[n],t.push({name:"new_sections[][type]",value:i.type}),t.push({name:"new_sections[][preset]",value:i.preset});return o={url:this.editor.previewLocation().href,method:"POST",dataType:"html",data:t},this.xhr=Shopify.ajax(o).done(this._onSectionsLoaded)}},t.prototype._onSectionsLoaded=function(e){return _.merge(this.renderedSections,JSON.parse(e)),this.hasSelectedSection()&&this._renderNewSection(),this.loadingSections=!1,this.xhr=null,this.refresh()},t.prototype._renderNewSection=function(){var e,t,n,r,i,o,a,s;if(t=(i=this.newSection).id,s=i.type,r=i.preset,e=null!=(o=this.renderedSections[s])?o[r].html:void 0,n=null!=(a=this.renderedSections[s])?a[r].json:void 0,e&&n)return this.newSection.html=e,this.newSection.json=n,state.set("pendingSection",{id:t,html:e,json:n})},t.prototype._selectNewSection=function(e,t){var n,r;if(this.newSection.type!==e||this.newSection.preset!==t)return this.newSection.type=e,this.newSection.preset=t,(null!=(n=this.renderedSections[e])?n[t]:void 0)?(this.refresh(),this._renderNewSection()):(null!=(r=this.xhr)&&r.abort(),this._loadNewSections([this.newSection]))},t.prototype._onCreateSection=function(){var e,t,n,r,i,o;if(this.editor.canCreateSection())return this.pending=!0,t=(i=this.newSection).id,o=i.type,r=i.preset,e=i.html,n=i.json,messenger.notify("createSection",{id:t,type:o,preset:r,html:e,json:n}),this.refresh()},t.prototype._onCreateMobileSection=function(){return this._onCreateSection(),state.set("viewportSize","desktop")},t.prototype._resetSelection=function(){return state.set("pendingSection",null),this.newSection={id:this.newSection.id}},t.prototype._sectionElements=function(){return this.$element.find("li[data-new-section]")},t.prototype._shouldPrerender=function(){return this._sectionElements().length<ThemeEditor.Sections.SECTION_LIMIT},t.prototype._onSectionCreated=function(){return state.set("pendingSection",null)},t}(UI.AbstractPanel)}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.Modal=function(e){function t(){return this.hide=n(this.hide,this),this.show=n(this.show,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.modals={},t["for"]=function(e){return t.modals[e]},t.isVisible=Shopify.UIModal.isVisible,t.hide=Shopify.UIModal.hide,t.prototype.actions={},t.prototype.init=function(){return this.actions.hideModal="hide",this.id=this.$element.attr("id"),this.modal=this.editor[this.id],this.payload={},"function"==typeof(t.modals[this.id]=this).afterInit?this.afterInit():void 0},t.prototype.isVisible=function(){return this.modal.isVisible()},t.prototype.show=function(e){return this.payload=e,this.onShow(),this.isVisible()||(this.modal.show(),this.modal.onClose(this.onClose)),Twine.refreshImmediately()},t.prototype.hide=function(){if(this.isVisible())return this.modal.hide()},t.prototype.onClose=function(){},t.prototype.onShow=function(){},t}(UI.Component)}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.EditImageModal=function(e){function t(){return this.onShow=n(this.onShow,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.actions={editAltText:"onAltChanged"},t.prototype.afterInit=function(){return this.$img=this.modal.$modal.find("img")},t.prototype.onShow=function(){return this.$img.attr("src",this.payload.imageUrl)},t.prototype.onAltChanged=function(){var e,t;return t=this.payload.imageAlt,"function"==typeof(e=this.payload).onAltChanged&&e.onAltChanged(t),this.hide()},t}(UI.Modal)}.call(this),function(){var n=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.SassErrorModal=function(e){function t(){return this.onClose=n(this.onClose,this),t.__super__.constructor.apply(this,arguments)}return r(t,e),t.prototype.actions={acceptModal:"accept"},t.prototype.afterInit=function(){return this.hideError=!1},t.prototype.onClose=function(){var e,t;if(this.hideError)return t=SafeLocalStorage.get(SassResponseParser.STORE_KEY,[]),e=[this.payload.error.themeID,this.payload.error.file],t.push(e),SafeLocalStorage.set(SassResponseParser.STORE_KEY,t)},t.prototype.accept=function(){if(this.hide(),!this.payload.fromSetting)return window.open(this.payload.fileHref)},t}(UI.Modal)}.call(this),function(){var n,r=function(e,t){return function(){return e.apply(t,arguments)}},i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;n=".progress-level",UI.UploadProgressModal=function(e){function t(){return this._onProgressChange=r(this._onProgressChange,this),this.onClose=r(this.onClose,this),this.onShow=r(this.onShow,this),t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.afterInit=function(){return this.$progressBar=this.$element.find(n).width(0)},t.prototype.onShow=function(){return this.payload.uploadPromise.progress(this._onProgressChange).always(this.hide)},t.prototype.onClose=function(){return this.payload.uploadPromise.abort(),this._setProgress(0)},t.prototype._onProgressChange=function(e){var t;return e.lengthComputable?(t=0)<e.total&&(t=Math.round(100*e.loaded/e.total)):t=50,this._setProgress(t)},t.prototype._setProgress=function(e){return this.$progressBar.width(e+"%")},t}(UI.Modal)}.call(this),function(e){"use strict";function r(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function o(t){var e={next:function(){var e=t.shift();return{done:e===undefined,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function a(t){this.map={},t instanceof a?t.forEach(function(e,t){this.append(t,e)},this):Array.isArray(t)?t.forEach(function(e){this.append(e[0],e[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function t(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function s(n){return new Promise(function(e,t){n.onload=function(){e(n.result)},n.onerror=function(){t(n.error)}})}function n(e){var t=new FileReader,n=s(t);return t.readAsArrayBuffer(e),n}function u(e){var t=new FileReader,n=s(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e)if("string"==typeof e)this._bodyText=e;else if(v.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(v.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(v.arrayBuffer&&v.blob&&b(e))this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!_(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=c(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var e=t(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?t(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(n)}),this.text=function(){var e=t(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(e){var t=e.toUpperCase();return-1<S.indexOf(t)?t:e}function h(e,t){var n=(t=t||{}).body;if(e instanceof h){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new a(t.headers)),this.method=f(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(e){var i=new FormData;return e.trim().split("&").forEach(function(e){if(e){var t=e.split("="),n=t.shift().replace(/\+/g," "),r=t.join("=").replace(/\+/g," ");i.append(decodeURIComponent(n),decodeURIComponent(r))}}),i}function m(e){var i=new a;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),n=t.shift().trim();if(n){var r=t.join(":").trim();i.append(n,r)}}),i}function g(e,t){t||(t={}),this.type="default",this.status=t.status===undefined?200:t.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var v={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(hd){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(v.arrayBuffer)var y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(e){return e&&DataView.prototype.isPrototypeOf(e)},_=ArrayBuffer.isView||function(e){return e&&-1<y.indexOf(Object.prototype.toString.call(e))};a.prototype.append=function(e,t){e=r(e),t=i(t);var n=this.map[e];this.map[e]=n?n+","+t:t},a.prototype["delete"]=function(e){delete this.map[r(e)]},a.prototype.get=function(e){return e=r(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(r(e))},a.prototype.set=function(e,t){this.map[r(e)]=i(t)},a.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},a.prototype.keys=function(){var n=[];return this.forEach(function(e,t){n.push(t)}),o(n)},a.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},a.prototype.entries=function(){var n=[];return this.forEach(function(e,t){n.push([t,e])}),o(n)},v.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this,{body:this._bodyInit})},d.call(h.prototype),d.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];g.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=a,e.Request=h,e.Response=g,e.fetch=function(i,o){return new Promise(function(n,e){var t=new h(i,o),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:m(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new g(t,e))},r.onerror=function(){e(new TypeError("Network request failed"))},r.ontimeout=function(){e(new TypeError("Network request failed"))},r.open(t.method,t.url,!0),"include"===t.credentials?r.withCredentials=!0:"omit"===t.credentials&&(r.withCredentials=!1),"responseType"in r&&v.blob&&(r.responseType="blob"),t.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send("undefined"==typeof t._bodyInit?null:t._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this);var Qt=e(function(e,t){"use strict";function n(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:{height:"",width:"",scale:"",crop:!1},r=n.height,i=n.width,o=n.scale,a=n.crop,s="",u="",l=e.match(f);if(!l||!r&&!i)return e;var c=e.split(l[0]),d=l[0];return a&&(u="_crop_"+a),o&&1<o&&(s="@"+o+"x"),c[0]+"_"+r+"x"+i+u+s+d}function r(e){var t=e.url.replace(i,o),n=(0,rt.pick)(e.variations.shopify,["height","width"]);(0,rt.isEmpty)(n)||(t=t+"?"+$.param(n));return t}Object.defineProperty(t,"__esModule",{value:!0}),t.addSizeTransformations=n,t.convertToShopifyUrl=r;var f=/\.(jpe?g|gif|png)(\?v=\d+)?$/i,i=/http(s):\/\/burst.shopifycdn.com\/photos/i,o="shopify://burst_images"}),Zt=e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var b=se(ot),_="//cdn.shopify.com/s/assets/no-image.png",S=20,w="template__image-picker--image-grid--loading",C={selectedImage:null,isLoading:!1,isEmpty:!1},n=function(){function s(e,t,n){var r=n.onImageSelectedCallback,i=j(n,["onImageSelectedCallback"]);le(this,s),this.element=e,this.$element=$(e),this.templateId=this.$element.attr("data-template-id");var o=this.$element.attr("data-empty-template-id"),a=this.$element.attr("data-loading-template-id")||w;this.template=(0,rt.template)($("#"+this.templateId).html()),this.imageTemplate=(0,rt.template)($("#template__image-picker--image-grid-item").html()),this.emptyTemplate=o?(0,rt.template)($("#"+o).html()):null,this.loadingTemplate=(0,rt.template)($("#"+a).html()),this.onImageSelectedCallback=r,this.callbacks=i,this._fetchData=t||this._fetchData,this.state=M({},C),this.imageLimit=S,this.initialize()}return ue(s,[{key:"initialize",value:function e(){}},{key:"setState",value:function t(e){this.state=M({},this.state,e),this.onStateChanged(M({},this.state))}},{key:"onStateChanged",value:function n(){}},{key:"resetState",value:function r(){this.setState(M({},C)),this.element.parentNode.scrollTop=0}},{key:"loadData",value:function i(){var t=this;return this.setState({isLoading:!0}),this._renderLoadingState(this.imageLimit),this._fetchData.apply(this,arguments).then(function(e){return t.setState({isLoading:!1,isEmpty:0===e.data.length}),t._render(e),e})["catch"](function(e){return t.setState({isLoading:!1}),t._handleError("Error communicating with server"),Promise.reject(e)})}},{key:"loadMore",value:function o(e){var t=this;return this.setState({isLoading:!0}),fetch(e,{method:"get"}).then(function(e){return e.json()}).then(function(e){return t.setState({isLoading:!1}),t._appendResults(e),e})["catch"](function(e){return t.setState({isLoading:!1}),t._handleError("Error communicating with server"),e})}},{key:"isImageSelected",value:function a(e){return Boolean(this.state.selectedImage&&e===this.state.selectedImage.id)}},{key:"toggleImageSelection",value:function u(e){Boolean(this.state.selectedImage)&&(0,rt.isEqual)(this.state.selectedImage,e)?this.setState({selectedImage:null}):this.setState({selectedImage:e}),this.onImageSelectedCallback(this.state.selectedImage)}},{key:"onImageLoad",value:function l(e){$(e).closest(".image-picker-grid__item").removeClass("image-picker-grid__item--loading").addClass("image-picker-grid__item--loaded").attr("disabled",!1)}},{key:"onImageError",value:function c(e){$(e).off("load").attr("src",_).closest(".image-picker-grid__item").removeClass("image-picker-grid__item--loading").addClass("image-picker-grid__item--error").attr("disabled",!0)}},{key:"_fetchData",value:function d(){throw Error("_fetchData not implemented")}},{key:"_handleError",value:function f(e){if(!e)throw Error("_handleError not implemented");Shopify.Flash.error(e)}},{key:"_renderOptions",value:function h(e){return M({imageTemplate:this.imageTemplate,helpers:{transformImageURL:Qt.addSizeTransformations}},e)}},{key:"_renderLoadingState",value:function p(e){var t=this.loadingTemplate({imageCount:e});this._renderHTML(t)}},{key:"_render",value:function m(e){var t="";t=this.state.isEmpty&&this.emptyTemplate?this.emptyTemplate(this._renderOptions({result:e})):this.template(this._renderOptions({result:e})),this._renderHTML(t)}},{key:"_renderHTML",value:function g(e){this.$element.html(e),this._rebind()}},{key:"_appendResults",value:function v(e){var t=$(this.template(this._renderOptions({result:e}))),n=t.filter("#ImagePickerGrid").find(".image-picker-grid__item").unwrap(),r=t.filter("#ImagePickerLoadMore");b["default"].unbind(this.element.querySelector("#ImagePickerLoadMore")),this.$element.find("#ImagePickerGrid").append(n),this.$element.find("#ImagePickerLoadMore").replaceWith(r),this._rebind()}},{key:"_rebind",value:function y(){var e=!0,t=!1,n=undefined;try{for(var r,i=Array.from(this.element.children)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;b["default"].bind(o)}}catch(a){t=!0,n=a}finally{try{!e&&i["return"]&&i["return"]()}finally{if(t)throw n}}b["default"].refresh()}}]),s}()
;t["default"]=n,b["default"].register("ImagePicker",n)}),en=(e(function(e,t){"use strict";function E(e,t){var n=t.limit,r=j(t,["limit"]),i=null;if(e.length===n){var o=M({limit:n},r);i=R+"?"+$.param(o)}return{data:e.map(function(e){return M({},e,{url:e.cdn_url})}),metadata:{paging:{next:i}}}}Object.defineProperty(t,"__esModule",{value:!0});var k=se(ot),n=se(Zt),r=m(lt),x=se(window.Shopify.PageDropZone),T=se(ft),O="image-picker-grid",A="data-image-picker-add-button",P="data-image-picker-pending-image",I=268,R=r.admin_images().json,N=20,D={limit:N,order:"id desc",variant:"master"},L=1,i=function(e){function n(){return le(this,n),de(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ce(n,e),ue(n,[{key:"initialize",value:function t(){this.uploadImage=Xt.upload,this.imageLimit=N,this.isDragging=!1,this.isDraggingOver=!1,this.isUploading=!1,this.addButtonTemplate=(0,rt.template)($("#"+this.templateId+"-add-button").html()),Shopify.rootDispatcher.register(x["default"].EVENTS.DRAG_ENTER,this._showDragPreview.bind(this)),Shopify.rootDispatcher.register(x["default"].EVENTS.DRAG_LEAVE,this._hideDragPreview.bind(this)),Shopify.rootDispatcher.register(x["default"].EVENTS.DROP,this._hideDragPreview.bind(this))}},{key:"resetState",value:function r(){F(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"resetState",this).call(this),this.isDragging=!1,this.isDraggingOver=!1,L=1}},{key:"loadMore",value:function i(t){var o=this;return this.setState({isLoading:!0}),new Promise(function(r,i){var e=(0,T["default"])({url:t});e.done(function(e,t){var n=E(e,M({page:++L},D));o.setState({isLoading:!1}),o._appendResults(n),r(n,t)}),e.fail(function(e,t,n){o.setState({isLoading:!1}),o._handleError("Error communicating with server"),i(n)})})}},{key:"upload",value:function o(e){var t=this;this.isUploading=!0,Shopify.shopImagesCount++;var n=(0,Nt.validateImage)(e).then(function(e){return t._prependPendingImage(e[2])});return this.uploadImage(e,n).then(this._onUploadSuccess.bind(this))["catch"](this._onUploadFailure.bind(this))}},{key:"onChange",value:function a(e){var t=e.target.files[0];t&&this.upload(t)}},{key:"onDrop",value:function s(e){var t=e.originalEvent.dataTransfer.files[0];t&&(window.analytics.track("image-picker-upload-drop"),this.onDragLeave(e),this.upload(t))}},{key:"onDragOver",value:function u(e){var t=e.originalEvent,n=t.dataTransfer;if(n){var r=n.types[0];r&&-1!==r.toLowerCase().indexOf("file")&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")}}},{key:"onDragEnter",value:function l(){this.isDraggingOver=!0,k["default"].refresh()}},{key:"onDragLeave",value:function c(){this.isDraggingOver=!1,k["default"].refresh()}},{key:"_showDragPreview",value:function d(){this.isDragging=!0,k["default"].refresh()}},{key:"_hideDragPreview",value:function f(){this.isDragging=!1,k["default"].refresh()}},{key:"_onUploadSuccess",value:function h(e){e.url=e.cdn_url,this.isUploading=!1,this.state.isEmpty?(this.setState({isEmpty:!1}),this.loadData()):(this.$element.find("["+P+"]").remove(),this._prependImage(e)),this.toggleImageSelection(e),window.analytics.track("image-picker-upload-success")}},{key:"_onUploadFailure",value:function p(e){this._handleError(e.message),this.isUploading=!1,Shopify.shopImagesCount--,k["default"].refresh(),window.analytics.track("image-picker-upload-error",{message:e.message})}},{key:"_onValidationError",value:function m(e){this._onUploadFailure(e)}},{key:"_findPanelElement",value:function g(){return this.$element.find("."+O)}},{key:"_findAddButton",value:function v(){return this.$element.find("["+A+"]")}},{key:"_renderLoadingState",value:function y(){if(0===Shopify.shopImagesCount){var e=this.emptyTemplate();this._renderHTML(e)}else{var t=Shopify.shopImagesCount>this.imageLimit?this.imageLimit:Shopify.shopImagesCount;F(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_renderLoadingState",this).call(this,t),this._prependAddButton()}}},{key:"_render",value:function b(e){F(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"_render",this).call(this,e),this.state.isEmpty||this._prependAddButton()}},{key:"_prependAddButton",value:function _(){var e=this.addButtonTemplate(),t=this._findPanelElement(),n=$(e);t.prepend(n),k["default"].bind(t.first()[0]),k["default"].refresh()}},{key:"_prependImage",value:function S(e){var t=this.imageTemplate(this._renderOptions({image:e,pending:!1})),n=this._findAddButton();n.after(t),k["default"].bind(n.next()[0])}},{key:"_prependPendingImage",value:function w(e){var t="";(e.height<I||e.width<I)&&(t="background-size: auto");var n=this.imageTemplate(this._renderOptions({image:e,pending:!0,style:t}));this._findAddButton().after(n),k["default"].refresh()}},{key:"_fetchData",value:function C(){return new Promise(function(r,i){var e=(0,T["default"])({url:R,data:D});e.fail(function(e,t,n){return i(n)}),e.done(function(e,t){var n=E(e,M({page:++L},D));r(n,t)})})}}]),n}(n["default"]);t["default"]=i,k["default"].register("LibraryImagePicker",i)}),e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(ot),s=500,u=3,r=function(){function n(e,t){le(this,n),this.element=e,this.state={searchQuery:null},this.onSearchQueryChangedCallback=t,this.onSearchQueryChangedDebounced=(0,rt.debounce)(this.onSearchQueryChangedCallback,s)}return ue(n,[{key:"setState",value:function t(e){this.state=M({},this.state,e)}},{key:"resetState",value:function e(){this.setState({searchQuery:null})}},{key:"hasSearchQuery",value:function r(){return Boolean(this.state.searchQuery)}},{key:"onInput",value:function i(e){e.length<u||this.onSearchQueryChangedDebounced(e)}},{key:"onChange",value:function o(e){this.onSearchQueryChangedCallback(e)}},{key:"onClearSearch",value:function a(){this.setState({searchQuery:null}),this.onSearchQueryChangedCallback(this.state.searchQuery)}}]),n}();t["default"]=r,n["default"].register("StockImageSearch",r)}),e(function(e,t){"use strict";function n(e){var t=0<arguments.length&&e!==undefined?arguments[0]:l;return s(u+"/photos?"+a(t))}function r(e){var t=0<arguments.length&&e!==undefined?arguments[0]:l;return t.q?s(u+"/photos/search?"+a(t)):Promise.reject("No query specified for search")}function i(e){var t=a(0<arguments.length&&e!==undefined?arguments[0]:l);return s(u+"/categories?"+t)}function o(e,t){var n=1<arguments.length&&t!==undefined?arguments[1]:l;return s(u+"/categories/"+e+"/photos?"+a(n))}function a(e){if(!c.client_id)try{c.client_id=window.analytics.user().traits().uniqToken}catch(t){}return c.shop_id=window.Shopify.shopId,c.user_id=window.Shopify.currentUserId,$.param(M({},l,c,e))}function s(e){return fetch(e,{method:"get"}).then(function(e){return e.json()})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPhotos=n,t.searchPhotos=r,t.getCategories=i,t.getCategoryPhotos=o;var u="https://burst.shopify.com/api",l={limit:30,offset:0},c={}}));e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var v=se(ot),n=se(Zt),y={limit:20,offset:0},b={limit:30,offset:0},_="#StockImageCategoryHeader",S="#template__image-picker--stock-category-header",w=".image-picker__category-picker-and-search-container",C=".te-panel__search",E=8,r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"initialize",value:function n(){this.onImageSelectedCallback=this.onBurstImageSelected(this.onImageSelectedCallback),this.state=M({},this.state,{searchQuery:null,searchId:null,selectedCategory:null}),this.$search=$(C),this.onCategorySelectedCallback=this.onCategorySelectedCallback.bind(this),this.onSearchQueryChangedCallback=this.onSearchQueryChangedCallback.bind(this),this.onClearSearch=this.onClearSearch.bind(this),this.$categoryHeaderElement=this.$element.find(_),this.categoryHeaderTemplate=(0,rt.template)($(S).html()),this.dataLoaders={getCategoryPhotos:en.getCategoryPhotos,searchPhotos:en.searchPhotos,getCategories:en.getCategories},this.imageLimit=b.limit,$(w).on("scroll",(0,rt.throttle)(this.handleScroll.bind(this),50,{trailing:!0}))}},{key:"loadData",value:function r(){return this.stockImageCategoryPicker.loadData(y).then(function(){return(0,Lt.requestNextAnimationFrame)(function(){return $(".image-picker-list__category").addClass("image-picker-list__category--loaded")})})}},{key:"handleScroll",value:function i(e){e.target.scrollTop>E?this.$search.addClass("te-panel__search--scrolled"):this.$search.removeClass("te-panel__search--scrolled")}},{key:"resetState",value:function o(){this.setState({searchQuery:null,searchId:null}),this.stockImageSearch.resetState(),this.stockImageResultPicker.resetState(),this.stockImageCategoryPicker.resetState(),this.stockImageCategoryResultPicker.resetState(),this.clearSelectedCategory()}},{key:"onStateChanged",value:function a(e){var t=e.selectedImage;this.stockImageResultPicker.setState({selectedImage:t}),this.stockImageCategoryResultPicker.setState({selectedImage:t})}},{key:"onClearSearch",value:function s(){this.resetState()}},{key:"onCategorySelectedCallback",value:function u(e){(0,rt.isEqual)(this.state.selectedCategory,e)||(this.setState({selectedCategory:e}),this._renderCategoryHeader(e),this.stockImageCategoryResultPicker.loadData(e.handle,b))}},{key:"showCategoryPicker",value:function l(){return!(this.showCategoryResults()||this.showSearchResults())}},{key:"showSearchResults",value:function c(){return Boolean(this.state.searchQuery)}},{key:"showCategoryResults",value:function d(){return Boolean(this.state.selectedCategory)}},{key:"clearSelectedCategory",value:function f(){this.setState({selectedCategory:null})}},{key:"clearSelectedImage",value:function h(){this.onImageSelectedCallback(null)}},{key:"onBurstImageSelected",value:function p(t){return function(e){t(e?M({},e,{cdn_url:e.url,public_url:e.url,shopify_url:(0,Qt.convertToShopifyUrl)(e),type:"burst"}):null)}}},{key:"onSearchQueryChangedCallback",value:function m(e){var t=this;this.state.searchQuery!==e&&(this.state.searchQuery=e,v["default"].refresh(),e&&(this.stockImageResultPicker.loadData(M({q:e},b)).then(function(e){return t.setState({searchId:e.metadata.search_id}),e})["catch"](function(){}),window.analytics.track("image-picker-stock-search",{query:e})))}},{key:"_renderCategoryHeader",value:function g(e){var t=this.categoryHeaderTemplate({category:e});this.$categoryHeaderElement.html(t),v["default"].bind(this.$categoryHeaderElement[0])}}]),t}(n["default"]);t["default"]=r,v["default"].register("StockImagePicker",r)}),e(function(e,t){"use strict";function S(){$("script[data-block-panel-for]").each(function(e,t){var n=t.getAttribute("data-block-panel-for").split("/"),r=c(n,2),i=r[0],o=r[1];P[i]||(P[i]={}),P[i][o]={data:E["default"].template(t.getAttribute("data-block-panel-json")),panel:E["default"].template(t.innerHTML)}})}function w(){return""+Date.now()}Object.defineProperty(t,"__esModule",{value:!0});var C=se(ot),E=se(rt),n=se(window.UI.Component),k="data-section-id",x="data-block-id",T="theme-editor__sortable-mirror",O="theme-editor__sortable-source",A="theme-editor__sortable--is-dragging",P={};$(document).ready(function(){return E["default"].defer(S)});var r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"init",value:function n(){this.sectionId=this.$element.attr(k),this.section=this.editor.sections.byId[this.sectionId],this._toggleDraggable()}},{key:"sectionAcceptsBlocks",value:function r(){return this.section.acceptsBlocks}},{key:"canAddBlock",value:function i(){return this.section.canAddBlock()}},{key:"_initSortable",value:function o(){this.sortable=new window.Sortable(this.element,{delay:200,draggable:'[draggable-element="true"]',handle:"[draggable-handle]",plugins:[window.DraggablePlugins.SwapAnimation],classes:{mirror:T,"source:dragging":O,"container:dragging":A},mirror:{constrainDimensions:!0,xAxis:!1}}),this.sortable.on("sortable:start",this._onSortableStart.bind(this)).on("sortable:stop",this._onSortableStop.bind(this))}},{key:"_onSortableStart",value:function a(){var e=this.section.blocks.byId[state.get("selection").blockId];e&&e.deactivate()}},{key:"_onSortableStop",value:function s(){var e=this.sortable.getDraggableElementsForContainer(this.element).map(function(e){return e.getAttribute(x)});this.section.blockOrderSetting.setValue(e);var t=this.section.blocks.byId[state.get("selection").blockId];t&&t.activate()}},{key:"_toggleDraggable",value:function u(){var e=this.$element.find("["+x+"]");1<e.length?e.attr("draggable-element","true"):e.removeAttr("draggable-element")}},{key:"_onReorderBlock",value:function l(e){var t=e.sectionId,n=e.oldIndex,r=e.newIndex;if(t===this.sectionId){var i=this.$element.find("["+x+"]"),o=n<r?i[r].nextSibling:i[r];o.parentNode.insertBefore(i[n],o)}}},{key:"_onAddBlock",value:function c(e,t,n){var r=w(),i=P[this.section.typeSetting.value][e],o=JSON.parse(i.data({sectionId:this.sectionId,blockId:r}));o.id=r;var a=i.panel({sectionId:this.sectionId,blockId:r}),s=this._insertBlockHTML(a,n);this.section.blocks.create(r,o),C["default"].bind(s[0]),this._toggleDraggable(),this._selectBlock({blockId:r,addingBlock:!0}),messenger.once("renderedSection",function(){state.get("selection")&&state.set("selection",E["default"].omit(state.get("selection"),["addingBlock"]))})}},{key:"_insertBlock",value:function d(e){var t=e.block,n=e.index;if(t.section.id===this.sectionId){var r=this._insertBlockHTML(t.$element[0],n);this.section.blocks.insert(n,t),C["default"].bind(r[0]),t.initialize(),this._toggleDraggable(),this._selectBlock({blockId:t.id,addingBlock:!0}),messenger.once("renderedSection",function(){state.get("selection")&&state.set("selection",E["default"].omit(state.get("selection"),["addingBlock"]))})}}},{key:"_insertBlockHTML",value:function f(e,t){var n=this.$element.find("["+x+"]");return 0===n.length?this.$element.prepend(e).children().first():null!=t&&t!==n.length?n.eq(t).before(e).prev():n.last().after(e).next()}},{key:"_onSelectionChange",value:function h(e){this.sortable||e&&e.sectionId===this.sectionId&&this._initSortable()}},{key:"_onDeleteSection",value:function p(){this.sortable&&(this.sortable.destroy(),this.sortable=null)}},{key:"_selectBlock",value:function m(e){var t=e.blockId,n=e.addingBlock;state.set("selection",{sectionId:this.sectionId,blockId:t,addingBlock:n})}},{key:"_deselectBlock",value:function g(){state.set("selection",E["default"].omit(state.get("selection"),["blockId"]))}},{key:"_onDeleteBlock",value:function v(){this._toggleDraggable(),this._deselectBlock()}},{key:"_toggleBlock",value:function y(e){state.get("selection").blockId===e?this._deselectBlock():this._selectBlock({blockId:e})}},{key:"blockCount",get:function b(){return this.section.blocks.count()}}],[{key:"_testAPI",get:function _(){return{precompileTemplates:S}}}]),t}(n["default"]);(t["default"]=r).prototype.messengerEvents={insertBlock:"_insertBlock",reorderBlock:"_onReorderBlock",deleteBlock:"_onDeleteBlock",deleteSection:"_onDeleteSection"},r.prototype.stateEvents={selection:"_onSelectionChange"},r.prototype.actions={toggleBlock:"_toggleBlock",addBlock:"_onAddBlock"},C["default"].registerComponent("BlockList",r),UI.BlockList=null!=t["default"]?t["default"]:t});(function(){var n,r,i=function(e,t){function n(){this.constructor=e}for(var r in t)o.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},o={}.hasOwnProperty;r="data-block-id",n="data-accordion-id",UI.BlockCard=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return i(t,e),t.prototype.messengerEvents={deleteBlock:"_onDeleteBlock"},t.prototype.stateEvents={selection:"_onSelectionChange"},t.prototype.init=function(){return this.blockId=this.$element.attr(r),this.accordionId=this.$element.attr(n),this.section=this._parentComponent.section,this.block=this.section.blocks.byId[this.blockId]},t.prototype.blockCount=function(){return this._parentComponent.blockCount},t.prototype._onSelectionChange=function(e){var t;if(this.accordion||(this.accordion=Shopify.UIAccordion["for"](document.getElementById(this.accordionId))),(null!=e?e.blockId:void 0)===this.blockId){if(this.expanded)return;return this.expanded=!0,this.block.activate(),this.accordion.expand(),null!=(t=document.activeElement)&&"function"==typeof t.blur?t.blur():void 0}if(this.expanded)return this.expanded=!1,this.block.deactivate(),this.accordion.collapse()},t.prototype._onDeleteBlock=function(e){if(e===this.blockId)return this.destroy()},t}(UI.Component)}).call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.BlockPicker=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.actions={addBlock:"_addBlock"},t.prototype.init=function(){return this.section=this._parentComponent.section},t.prototype._addBlock=function(){return Shopify.UIPopover.deactivate()},t.prototype.canAddBlock=function(){return this.section.canAddBlock()},t.prototype.canAddBlockType=function(e,t){return!t||this.section.blocks.countByType(e)<t},t.prototype.generateBlockNameLabel=function(e,t,n){return this.canAddBlockType(t,n)?e:e+" ("+n+"/"+n+")"},t}(UI.Component)}.call(this),function(){var o=function(e,t){return function(){return e.apply(t,arguments)}};UI.NamesAndIcons=function(){function e(e,t){var n,r,i;for(n in this.sections=e,this.contentForIndex=t,this.onSettingChanged=o(this.onSettingChanged,this),this.onBlockDeleted=o(this.onBlockDeleted,this),this.onBlockCreated=o(this.onBlockCreated,this),this.onSectionDeleted=o(this.onSectionDeleted,this),this.onSectionCreated=o(this.onSectionCreated,this),this.sectionNames={},this.sectionIcons={},this.sectionDisabled={},this.blockNames={},this.blockIcons={},this.sections.on("create",this.onSectionCreated),this.sections.on("delete",this.onSectionDeleted),this.sections.on("change",this.onSettingChanged),r=this.sections.byId)(i=r[n]).acceptsBlocks&&(i.blocks.on("create",this.onBlockCreated),i.blocks.on("delete",this.onBlockDeleted));this.iconTmpl=_.template($("#template__icon").html().trim()),this.thumbnailTmpl=_.template($("#template__thumbnail").html().trim()),this.gridTmpl=_.template($("#template__icon-grid").html().trim()),this.defaultSectionIcon=this.iconTmpl({icon:"section"}),this.defaultBlockIcon=this.iconTmpl({icon:"block"}),this.refresh()}return e.prototype.exports=function(){return{sectionName:(o=this,function(e,t){var n;return(null!=(n=o.sectionNames[e])?n.value:void 0)||_.capitalize(t)}),blockName:(i=this,function(e){return i.blockNames[e].value}),sectionIcon:(r=this,function(e){var t;return(null!=(t=r.sectionIcons[e])?t.html:void 0)||r.defaultSectionIcon}),blockIcon:(n=this,function(e){return n.blockIcons[e].html}),isSectionDisabled:(t=this,function(e){return t.sectionDisabled[e]||!1})};var t,n,r,i,o},e.prototype.refresh=function(){var e,t,n,r,i;for(t in n=this.sections.byId){for(t in r=(i=n[t]).blocks.byId)e=r[t],this.refreshBlock(e);this.refreshSection(i)}},e.prototype.refreshSection=function(e){var t;return this.refreshSectionName(e)&&(t=!0),this.refreshSectionIcon(e)&&(t=!0),this.refreshSectionDisabled(e)&&(t=!0),t},e.prototype.refreshSectionName=function(e){var t,n,r;return this.contentForIndex.includes(e.id)&&(n=this.nameFromTitleSetting(e)||this.nameFromPrimarySetting(e)||this.nameFromBlock(e)),n||(n={value:e.name,source:"schema"}),t=(null!=(r=this.sectionNames[e.id])?r.value:void 0)!==n.value,this.sectionNames[e.id]=n,t},e.prototype.refreshSectionIcon=function(e){var t,n,r;return n=this.iconFromPrimarySetting(e)||this.iconFromBlocks(e)||this.icon(e),t=(null!=(r=this.sectionIcons[e.id])?r.html:void 0)!==n.html,this.sectionIcons[e.id]=n,t},e.prototype.refreshSectionDisabled=function(e){var t,n;return n=e.isDisabled(),t=this.sectionDisabled[e.id]!==n,this.sectionDisabled[e.id]=n,t},e.prototype.refreshBlock=function(e){var t;return this.refreshBlockName(e)&&(t=!0),this.refreshBlockIcon(e)&&(t=!0),t},e.prototype.refreshBlockName=function(e){var t,n,r;return n=this.nameFromTitleSetting(e)||this.nameFromPrimarySetting(e)||{value:e.name,source:"schema"},t=(null!=(r=this.blockNames[e.id])?r.value:void 0)!==n.value,this.blockNames[e.id]=n,t},e.prototype.refreshBlockIcon=function(e){var t,n,r;return n=this.iconFromPrimarySetting(e)||this.icon(e),t=(null!=(r=this.blockIcons[e.id])?r.html:void 0)!==n.html,this.blockIcons[e.id]=n,t},e.prototype.nameFromTitleSetting=function(e){var t,n;if(n=null!=(t=e.settingsById.title)?t.value:void 0)return{value:n,source:"title"}},e.prototype.nameFromPrimarySetting=function(e){var t,n,r,i;for(t in n=e.settingsById)switch((r=n[t]).type){case"collection":case"product":case"blog":case"link_list":case"article":if(i=r.title())return{value:i,source:"primary"};break;default:return}},e.prototype.nameFromBlock=function(e){var t,n,r,i;if(e.acceptsBlocks&&0<e.blocks.count())if(1===e.blocks.count()){if("schema"!==(t=this.blockNames[e.blocks.first().id]).source)return{value:t.value,source:"block"}}else{for(n in i=[],r=e.blocks.byId)r[n],"title"===(t=this.blockNames[n]).source&&i.push(t);if(1===i.length)return{value:i[0].value,source:"block"}}},e.prototype.iconFromPrimarySetting=function(e){var t,n,r,i;for(t in n=e.settingsById)switch((r=n[t]).type){case"collection":case"product":case"image_picker":case"article":if(i=r.thumbnail())return{type:"thumbnail",html:this.thumbnailTmpl({url:i})};break;default:return}},e.prototype.iconFromBlocks=function(e){var t,n,r,i,o;if(e.acceptsBlocks&&0<e.blocks.count()){for(i in r=[],o=e.blocks.byId)t=o[i],"thumbnail"===(n=this.blockIcons[t.id]).type&&r.push(n.html);return 1===r.length?{type:"thumbnail",html:r[0]}:0<r.length?{type:"grid",html:this.gridTmpl({icons:r})}:void 0}},e.prototype.icon=function(e){return{type:"icon",html:e.icon?this.iconTmpl({icon:e.icon}):e.section?this.defaultBlockIcon:this.defaultSectionIcon}},e.prototype.onSectionCreated=function(e){var t,n,r;if(e instanceof ThemeEditor.Section){if(e.acceptsBlocks)for(n in e.blocks.on("create",this.onBlockCreated),e.blocks.on("delete",this.onBlockDeleted),r=e.blocks.byId)t=r[n],this.refreshBlock(t);return this.refreshSection(e),Twine.refresh()}},e.prototype.onSectionDeleted=function(e){return delete this.sectionNames[e.id]},e.prototype.onBlockCreated=function(e){return this.refreshBlock(e),this.refreshSection(e.section),Twine.refresh()},e.prototype.onBlockDeleted=function(e){if(delete this.blockNames[e.id],this.refreshSection(e.section))return Twine.refresh()},e.prototype.onSettingChanged=function(e){var t;if(e.block?(this.refreshBlock(e.block)&&(t=!0),this.refreshSection(e.section)&&(t=!0)):e.section&&this.refreshSection(e.section)&&(t=!0),t)return Twine.refresh()},e}()}.call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=se(ot),r=function(e){function t(){return le(this,t),de(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return ce(t,e),ue(t,[{key:"selectPage",value:function n(e){this._setPageSelectorCurrentTitle(e.title),messenger.notify("setPreviewLocation",{path:e.url}),Shopify.UIPopover.deactivate()}},{key:"onPageInfoChange",value:function r(){this._setPageSelectorCurrentTitle(this._retrieveCurrentPageTitle())}},{key:"isTitleSelected",value:function i(e){return e===this._retrieveCurrentPageTitle()}},{key:"_setPageSelectorCurrentTitle",value:function o(e){this.currentPageTitle=e||this.$element.find("[data-current-page-default-text]").attr("data-current-page-default-text"),this.refresh()}},{key:"_retrieveCurrentPageTitle",value:function a(){var e=state.get("pageInfo");if(!e)return null;var t=this._findSelectedOptionByPageInfo(e);return t?t.data("title"):null}},{key:"_findSelectedOptionByPageInfo",value:function s(e){var t=void 0;return e.handle&&(t=this.$element.find("[data-handle ='"+e.handle+"']"))&&t.data("page")===e.page?t:(t=this.$element.find("[data-page ='"+e.page+"']"))&&0!==t.length?t:null}}]),t}(se(window.UI.Component)["default"]);(t["default"]=r).prototype.actions={selectPage:"selectPage"},r.prototype.stateEvents={pageInfo:"onPageInfoChange"},n["default"].registerComponent("PageSelector",r)});(function(){var n,r,i=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n={ACTIVE_STATE:"te-panel--is-active",ACTIVE_PANEL:"next-tab__panel--is-active",TAB:"next-tab",TAB_LIST:"next-tab__list",TAB_LIST_SCROLLED:"next-tab__list--is-scrolled"},r=_.throttle(function(){var e;return e=0<$("."+n.ACTIVE_PANEL).scrollTop(),$("."+n.TAB_LIST).toggleClass(n.TAB_LIST_SCROLLED,e)},10),UI.PanelContainer=function(e){function t(){return this._resetFocus=i(this._resetFocus,this),this.openPanelFromUrl=i(this.openPanelFromUrl,this),this._openPanelFromLocation=i(this._openPanelFromLocation,this),this._appendSectionPanel=i(this._appendSectionPanel,this),this._insertSection=i(this._insertSection,this),this._addSection=i(this._addSection,this),this._onCreateSection=i(this._onCreateSection,this),this._onBrokenMarkupDetectedChange=i(this._onBrokenMarkupDetectedChange,this),this._onClickTab=i(this._onClickTab,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.stateEvents={sections:"_onSectionsChange",brokenMarkupDetected:"_onBrokenMarkupDetectedChange"},t.prototype.messengerEvents={createSection:"_onCreateSection",insertSection:"_insertSection",cancelSectionCreate:"_onCancelSectionCreate",resetFocus:"_resetFocus",openPanelFromUrl:"openPanelFromUrl"},t.prototype.actions={openPanelBySlug:"openPanelBySlug",preventDelayedClickAction:"preventDelayedClickAction"},t.prototype.init=function(){var e;return setTimeout(this._openPanelFromLocation,0),this.$element.find("."+n.ACTIVE_PANEL).on("scroll",r),this.$element.find("."+n.TAB).on("click",(e=this,function(){return setTimeout(e._onClickTab,0)})),this.brokenMarkupInfo=!1,this.pendingSectionPanels=[]},t.prototype._onClickTab=function(){return r(),this.$element.find("."+n.ACTIVE_PANEL).off("scroll").on("scroll",r)},t.prototype._panelForSection=function(e){return this.$element.find("[data-panel-id='"+e.id+"']")[0]},t.prototype._isPendingSectionPanel=function(e){var t;return t=e.id,-1!==this.pendingSectionPanels.indexOf(t)},t.prototype._onBrokenMarkupDetectedChange=function(e){var t,n,r,i;return t='If you haven\u2019t made changes to this code, <a href="'+"https://help.shopify.com/themes/customization#getting-help"+'" target="_blank">contact support</a> for help resolving the issue.',e?(r=Shopify.routes.themes().html+"/"+THEME_ID+"?key=sections",e.section?(n=e.section.type+".liquid",i=r+"/"+e.section.type+".liquid",this.brokenMarkupInfo={message:'Broken HTML has been detected in your theme\u2019s <a href="'+i+'" target="_blank">'+n+"</a> file. Check that there are no missing or extra HTML tags present.\n<br><br>\n"+t,location:n,url:i}):e&&(this.brokenMarkupInfo={message:"Broken HTML has been detected in your theme\u2019s code. "+t,location:"theme code",url:r}),e.error&&Bugsnag.notify("Found malformed markup",e.error,e,"info"),console.error("Malformed markup found in "+this.brokenMarkupInfo.location+": "+window.location.origin+this.brokenMarkupInfo.url)):this.brokenMarkupInfo=!1},t.prototype._onSectionsChange=function(r){var e,t,n,o,i,a;if(r&&(null!=(n=this.panelsRequest)&&n.abort(),0!==(t=function(){var e,t,n;for(n=[],e=0,t=r.length;e<t;e++)o=r[e],this._panelForSection(o)||this._isPendingSectionPanel(o)||o.pending||n.push(o.id);return n}.call(this)).length))return i=Shopify.routes.theme_editor_section_panels(THEME_ID).json,e={section_ids:t},this.pendingSectionPanels=t.slice(0),this.panelsRequest=Shopify.ajax({url:i,data:e}).done((a=this,function(i){return a.editor.undoTracker.freeze(function(){var e,t,n,r;for(r=[],e=0,t=(n=i.sections).length;e<t;e++)o=n[e],r.push(a._addSection(Object.assign({},o,{missing:!0})));return r})}))},t.prototype._onCreateSection=function(e){var t,n,r,i,o,a,s,u;if(r=e.id,a=e.type,n=e.html,i=e.json,o=e.preset,!this._panelForSection({id:r})&&!this._isPendingSectionPanel({id:r}))return s=Shopify.routes.theme_editor_new_section_panel(THEME_ID).json,t={section_id:r,section_type:a,section_preset:o},this.pendingSectionPanels.push(r),this.panelRequest=Shopify.ajax({url:s,data:t}).done((u=this,function(e){return u._addSection(Object.assign({},e,{html:n,json:i,missing:!1}))}))},t.prototype._addSection=function(e){var t,n,r,i,o,a,s,u,l;if(u=e.section_id,l=e.section_values,a=e.panel_html,t=e.html,r=e.json,i=e.missing,o=this._appendSectionPanel(a),s=this.editor.sections.create(u,l,{missing:i,saved:!1,html:t,json:r}),n=this.pendingSectionPanels.indexOf(u),this.pendingSectionPanels.splice(n,1),Twine.bind(o),!i)return messenger.notify("sectionCreated",s.id),state.set("selection",{sectionId:s.id})},t.prototype._insertSection=function(e){var t,n,r;return r=e.section,n=e.position,t=this._appendSectionPanel(r.$element),this.editor.sections.insert(n,r),r.initialize(),Twine.bind(t)},t.prototype._appendSectionPanel=function(e){return this.$element.append(e),this.$element[0].lastElementChild},t.prototype._onCancelSectionCreate=function(){var e;return null!=(e=this.panelRequest)?e.abort():void 0},t.prototype._openPanelFromLocation=function(){var e;return this.openPanelFromUrl(this.getLocationSearch()),e=location.protocol+"//"+location.host+location.pathname+location.hash,history.replaceState(history.state,null,e)},t.prototype.openPanelFromUrl=function(e){var t;if(t=e.match(/[?&]panel=([\w\-]+)/i))return this.openPanelBySlug(t[1])},t.prototype._resetFocus=function(){var e;return state.set("selection",null),UI.OverlayPanel.close(),(e=this.$element.find("."+n.ACTIVE_STATE)[0])?e.focus():document.body.focus()},t.prototype.openPanelBySlug=function(e){var t;if(t=this.panelIdFromSlug(e))return state.set("selection",{panelId:t})},t.prototype.panelIdFromSlug=function(e){if(e)return this.$element.find("[data-panel-slug='"+e.toLowerCase()+"']").attr("id")},t.prototype.getLocationSearch=function(){return location.search},t.prototype.preventDelayedClickAction=function(t){var n,e;return e=function(e){if(200<e.timeStamp-t.timeStamp)return e.stopPropagation(),$(t.target).off("dragstart",n)},n=function(){return $(t.target).off("click",e)},$(t.target).one("click",e).closest("[draggable=true]").one("dragstart",n)},t}(UI.Component)}).call(this),function(){var n,r,a,i,s,o,u=function(e,t){return function(){return e.apply(t,arguments)}},l=function(e,t){function n(){this.constructor=e}for(var r in t)c.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},c={}.hasOwnProperty;s="te-preview--scaled",i="te-preview__outline",o="te-iframe-wrapper",r="te-iframe--loading",a=3,n=1e3,UI.Preview=function(e){function t(){return this.onKeyUp=u(this.onKeyUp,this),this.onTransitionEnd=u(this.onTransitionEnd,this),this.reload=u(this.reload,this),t.__super__.constructor.apply(this,arguments)}return l(t,e),t.prototype.stateEvents={sectionReordering:"onSectionReorderingChange",outlinedSection:"onOutlinedSectionChange"},t.prototype.messengerEvents={setPreviewLocation:"setPreviewLocation",reloadPreview:"reload",previewNavigated:"onIframeNavigated",previewLoaded:"onIframeLoaded",previewUnloading:"onIframeUnloading",requestStylesheets:"requestStylesheets",reorderedSection:"onReorderedSection",setState:"setState"},t.prototype.init=function(){var e;return(e=document.getElementById("theme-editor-iframe")).outerHTML=e.outerHTML.replace("<div ","<iframe ").replace("</div>","</iframe>"),this.iframe=document.getElementById("theme-editor-iframe"),this.stylesheetRequests=[],this.$previewOutline=this.$element.find("."+i),this.$iframeWrapper=this.$element.find("."+o),this.initialLoad(),this.$element.on("keyup",this.onKeyUp)},t.prototype.initialLoad=function(){return this.isLoading=!0,this.loadIframe(this.iframe,this.currentLocation())},t.prototype.loadIframe=function(e,t){return state.set("loading",!0),state.set("unsupportedTemplate",!1),e.setAttribute("src",t),e.onload=this.validateLoadedIFrame.bind(this,e)},t.prototype.setPreviewLocation=function(e){var t;return t=this.buildIFrameURL(e.path),this.loadIframe(this.iframe,t)},t.prototype.reload=function(e){var t;if(t=(null!=e?e:{}).force,this.abortReload(),this.isLoading){if(!t)return;this.abortLoading()}return this.isReloading=!0,this.iframeForReload=this.cloneIframe(this.iframe),this.loadIframe(this.iframeForReload,this.currentLocation())},t.prototype.abortReload=function(){if(this.isReloading)return this.isReloading=!1,this.abortStylesheetRequests(),this.removeIframe(
this.iframeForReload),this.iframeForReload=null,state.set("loading",!1)},t.prototype.beginLoading=function(){return this.abortReload(),this.abortLoading(),this.isLoading=!0,this.iframe.loaded=this.iframe.styled=!1,this.resetState()},t.prototype.abortLoading=function(){if(this.isLoading)return this.isLoading=!1,this.abortStylesheetRequests(),state.set("loading",!1)},t.prototype.onIframeNavigated=function(e){switch(e.window){case this.iframe.contentWindow:return this.updateIframeLocation(e.path),messenger.notify("resetFocus")}},t.prototype.onIframeLoaded=function(e){var t;switch(e.window){case this.iframe.contentWindow:if(this.iframe.loaded=!0,this.iframe.styled)return this.onIframeReady(e);break;case null!=(t=this.iframeForReload)?t.contentWindow:void 0:if(this.iframeForReload.loaded=!0,this.iframeForReload.styled)return this.onIframeReady(e)}},t.prototype.onIframeStyled=function(e){var t;switch(e.window){case this.iframe.contentWindow:if(this.iframe.styled=!0,this.iframe.loaded)return this.onIframeReady(e);break;case null!=(t=this.iframeForReload)?t.contentWindow:void 0:if(this.iframeForReload.styled=!0,this.iframeForReload.loaded)return this.onIframeReady(e)}},t.prototype.onIframeReady=function(e){var t,n;switch(e.window){case this.iframe.contentWindow:this.isLoading=!1;break;case null!=(n=this.iframeForReload)?n.contentWindow:void 0:this.iframeForReload.classList.remove(r),this.syncScrollPosition(this.iframe,this.iframeForReload),t=this.iframe,this.iframe=this.iframeForReload,this.iframeForReload=null,this.isReloading=!1,this.removeIframe(t)}return state.set("loading",!1)},t.prototype.onIframeUnloading=function(e){switch(e.window){case this.iframe.contentWindow:return this.beginLoading()}},t.prototype.cloneIframe=function(e){var t;return(t=e.cloneNode(!1)).removeAttribute("src"),t.classList.add(r),e.parentNode.insertBefore(t,e.parentNode.firstElementChild),Twine.bind(t),t},t.prototype.removeIframe=function(e){return Twine.unbind(e),e.onload=null,e.parentNode.removeChild(e)},t.prototype.syncScrollPosition=function(e,t){var n;if(!e.hasBadOrigin&&!t.hasBadOrigin&&e.contentWindow.DesignMode&&t.contentWindow.DesignMode)return n=e.contentWindow.DesignMode.Util.Scroll.pageYOffset(),t.contentWindow.DesignMode.Util.Scroll.scrollTo(n)},t.prototype.requestStylesheets=function(a){var s;if(a.urls.forEach((s=this,function(i){var o;if(-1!==i.indexOf(location.hostname))return o=Shopify.ajax({url:i}),s.stylesheetRequests.push(o),o.done(function(e,t,n){var r;if(0<=s.stylesheetRequests.indexOf(o))return s.stylesheetRequests.splice(s.stylesheetRequests.indexOf(o),1),r="success"===t?n.responseText:"error",messenger.notify("stylesheetReceived",{url:i,value:r}),0===s.stylesheetRequests.length?s.onIframeStyled(a):void 0})})),0===this.stylesheetRequests.length)return this.onIframeStyled(a)},t.prototype.abortStylesheetRequests=function(){var e,t,n;for(e=0,t=(n=this.stylesheetRequests.slice(0)).length;e<t;e++)n[e].abort();return this.stylesheetRequests=[]},t.prototype.currentLocation=function(){var e,t;return t=this.iframe.getAttribute("data-src"),"/"===location.hash.charAt(1)?(e=location.hash.substr(1),this.buildIFrameURL(e)):t},t.prototype.buildIFrameURL=function(e){var t,n;return t=(n=this.iframe.getAttribute("data-src")).slice(n.indexOf("/?")+1),location.protocol+"//"+location.host+e+t},t.prototype.updateIframeLocation=function(e){var t;return t=location.protocol+"//"+location.host+location.pathname+location.search,"/"!==e&&(t+="#"+e),history.replaceState({path:e},"",t)},t.prototype.resetState=function(){return state.set("contentForIndex",!1),state.set("selection",null),state.set("sections",null),state.set("loading",!0),state.set("resource",null)},t.prototype.setState=function(e){var t,n,r;return t=(n=JSON.parse(e)).key,r=n.value,state.set(t,r)},t.prototype.validateLoadedIFrame=function(e){return this.checkForBadRedirect(e)||this.checkForMissingDesignMode(e),messenger.notify("openPanelFromUrl",e.src)},t.prototype.checkForMissingDesignMode=function(e){return setTimeout((t=this,function(){if(!e.loaded)return t.mockDesignModeLoaded(e),window.analytics.track("theme-editor-unsupported-template",{previewPath:e.contentDocument.location.pathname,previewOrigin:e.contentDocument.location.origin,editorHref:location.href,isPartnerShop:Shopify.isPartnerShop,isSectionedTheme:Shopify.hasSections})}),n);var t},t.prototype.mockDesignModeLoaded=function(e){var t;return t={window:e.contentWindow,path:e.contentDocument.location.pathname},this.onIframeNavigated(t),this.onIframeLoaded(t),this.onIframeStyled(t),state.set("unsupportedTemplate",!0)},t.prototype.checkForBadRedirect=function(e){return e.hasBadOrigin=this.iframeHasBadOrigin(e),!!e.hasBadOrigin&&(this.attemptedToFixBadRedirect?(this.action("openModal","theme_redirect_modal"),state.set("loading",!1),Bugsnag.disable()):(this.reload({force:!0}),this.attemptedToFixBadRedirect=!0),!0)},t.prototype.iframeHasBadOrigin=function(e){if(!e.contentWindow)return!1;try{return e.contentWindow.location.href,!1}catch(t){return t,!0}},t.prototype.onSectionReorderingChange=function(e){return e?this.$element.addClass(s):(this.$element.removeClass(s),this.$element.one("transitionend",this.onTransitionEnd),state.set("outlinedSection",null))},t.prototype.onReorderedSection=function(e){var t;return t=e.newIndex,this.lastIndex=t},t.prototype.onTransitionEnd=function(){if(this.lastIndex)return messenger.notify("reorderedSection",{newIndex:this.lastIndex,oldIndex:this.lastIndex,center:!1,animate:!0}),this.lastIndex=null},t.prototype.onOutlinedSectionChange=function(e){return e?this.outlineSection(e):this.$previewOutline.hide()},t.prototype.outlineSection=function(e){var t,n,r,i,o;if(this.$element.hasClass(s))return n="mobile"===this.editor.viewportSize?1:.5,t=e.height*n,o=e.width*n,r=e.top*n,i="translate3d("+((this.$element.width()-this.$iframeWrapper.width()*n)/2+e.left*n-a)+"px, "+r+"px, 0)",this.$previewOutline.css({transform:i,height:t,width:o,display:"block"})},t.prototype.onKeyUp=function(e){if(e.which===Shopify.Keycodes.ENTER||e.which===Shopify.Keycodes.SPACE)return this.iframe.focus(),messenger.notify("resetPreviewFocus")},t}(UI.Component)}.call(this),function(){var n=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;UI.Progress=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.stateEvents={loading:"_onLoadingChange"},t.prototype.messengerEvents={previewNavigated:"increment",previewLoaded:"increment"},t.prototype.init=function(){return this._onLoadingChange(state.get("loading"))},t.prototype.increment=function(){if(state.get("loading"))return Shopify.Loading.increment(.2)},t.prototype._onLoadingChange=function(e){return e?Shopify.Loading.start():Shopify.Loading.stop()},t}(UI.Component)}.call(this),function(){var n,r,i,o,a,s,u,l,c,d,f,h,p=function(e,t){return function(){return e.apply(t,arguments)}},m=function(e,t){function n(){this.constructor=e}for(var r in t)g.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},g={}.hasOwnProperty;s="#template__section-list--fixed-section",r="#template__section-list--content-for-index",a="#template__section-list--empty-sections",o="#template__section-list--empty-checkout",u="#template__section-list--loading",c="#template__section-list--resource-link",h="#template__section-list--template-content",n="[data-content-for-index]",d=".skeleton-section-list--item",l="theme-editor__sortable-mirror",f="theme-editor__sortable-source",i="theme-editor__sortable--is-dragging",window.UI.SectionList=function(e){function t(){return this._onSortableStop=p(this._onSortableStop,this),this._onSortableSorted=p(this._onSortableSorted,this),this._onSectionsChange=p(this._onSectionsChange,this),t.__super__.constructor.apply(this,arguments)}return m(t,e),t.prototype.stateEvents={sections:"_onSectionsChange",loading:"_onLoadingChange"},t.prototype.init=function(){return this.fixedSectionTemplate=_.template($(s).html()),this.contentForIndexTemplate=_.template($(r).html()),this.emptySectionsTemplate=_.template($(a).html()),this.emptyCheckoutTemplate=_.template($(o).html()),this.resourceLinkTemplate=_.template($(c).html()),this.templateContentTemplate=_.template($(h).html()),this.loadingTemplate=_.template($(u).html())},t.prototype._onLoadingChange=function(){return this._onSectionsChange(state.get("sections"))},t.prototype._onSectionsChange=function(e){if(null==e&&(e=[]),!state.get("sectionReordering"))if(state.get("togglingSectionDisabled"))state.set("togglingSectionDisabled",!1);else{if(!this.editor.loading||this.editor.saving)return e.length||state.get("contentForIndex")?this._renderSections(e):this._isCheckout()?this.render(this.emptyCheckoutTemplate()):this.render(this.emptySectionsTemplate());if(!this.element.querySelector(d))return this.render(this.loadingTemplate({skeletonCount:[1,1,1]}))}},t.prototype._isCheckout=function(){return/\/checkouts\//.test(window.location.hash)},t.prototype._htmlForContentForIndexTemplate=function(e){return this.contentForIndexTemplate({sections:e,maxSections:ThemeEditor.Sections.SECTION_LIMIT,canCreateSection:this.editor.canCreateSection(),editor:this.editor})},t.prototype._renderSections=function(e){var t,n,r,i,o,a,s,u,l;for(n="",u=s=!(t=[]),i=state.get("contentForIndex"),r=0,o=e.length;r<o;r++)(l=e[r]).afterTemplate&&!u?(n+=this.templateContentTemplate({template:this._templateContentDescription()}),u=!0):l.beforeTemplate||l.afterTemplate||(u=!0),l.insideContentForIndex?t.push(l):s||l.beforeContentForIndex||!i||(n+=this._htmlForContentForIndexTemplate(t),s=!0,t=[]),l.insideContentForIndex||(n+=this.fixedSectionTemplate({section:l,editor:this.editor}));return!s&&(0<t.length||i)?n+=this._htmlForContentForIndexTemplate(t):!u&&(null!=(a=e[e.length-1])?a.beforeTemplate:void 0)&&(n+=this.templateContentTemplate({template:this._templateContentDescription()})),this.editor.loading||(n+=this.resourceLinkTemplate()),this.render(n),this._initSortable()},t.prototype._initSortable=function(){var e;if(this.sortable&&this.sortable.destroy(),e=this.element.querySelector(n))return this.sortable=new window.Sortable(e,{delay:200,draggable:"[draggable-handle]",plugins:[window.DraggablePlugins.SwapAnimation],classes:{mirror:l,"source:dragging":f,"container:dragging":i},mirror:{constrainDimensions:!0,xAxis:!1}}),this.sortable.on("sortable:start",this._onSortableStart).on("sortable:sorted",this._onSortableSorted).on("sortable:stop",this._onSortableStop)},t.prototype._onSortableStart=function(e){var t;return t=e.startIndex,state.set("sectionReordering",!0),messenger.notify("reorderedSection",{newIndex:t,oldIndex:t,center:!0,animate:!0})},t.prototype._onSortableSorted=function(e){var t,n;return n=e.oldIndex,t=e.newIndex,this.editor.contentForIndex.swap(t,n)},t.prototype._onSortableStop=function(){return state.set("sectionReordering",!1),this.editor.contentForIndex.commitValue()},t.prototype._templateContentDescription=function(){var e,t;return e=Shopify._i18n.panel_template_content,(t=state.get("template"))&&e[t=t.split(".")[0]]||e["default"]},t}(UI.Component)}.call(this),function(){var n,r,i=function(e,t){return function(){return e.apply(t,arguments)}},o=function(e,t){function n(){this.constructor=e}for(var r in t)a.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},a={}.hasOwnProperty;n="[data-picker-container]",r="[data-accordion-toggler-for]",UI.Sidebar=function(e){function t(){return this._onEventCloseCurrentSetting=i(this._onEventCloseCurrentSetting,this),t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.stateEvents={selection:"_closeCurrentSetting"},t.prototype.actions={openSectionPanel:function(e){return state.set("selection",{sectionId:e})},openGeneralPanel:function(e){return state.set("selection",{panelId:e})},closeSectionPanel:function(){return state.set("selection",null)},closeGeneralPanel:function(){return state.set("selection",null)},deleteSection:function(e){return messenger.notify("deleteSection",e)},deleteBlock:function(e){return messenger.notify("deleteBlock",e)},openPresetsPanel:function(){return state.set("selection",{panelId:"presets-panel"})},closePresetsPanel:function(){return state.set("selection",null)},toggleSectionDisabled:function(e,t){var n;return t.stopPropagation(),n=this.editor.sections.byId[e],state.set("togglingSectionDisabled",!0),n.toggleDisabled()},editResourcePicker:function(e){return this._editResource($(e.currentTarget).attr("data-resource-href"))},editResource:"_editResource"},t.prototype.init=function(){return document.addEventListener("click",this._onEventCloseCurrentSetting,!0),document.addEventListener("focus",this._onEventCloseCurrentSetting,!0),this.$element.on("click",r,function(){return!1})},t.prototype._closeCurrentSetting=function(){var e;return null!=(e=state.get("currentSetting"))?e.closePicker():void 0},t.prototype._onEventCloseCurrentSetting=function(e){var t;if((t=state.get("currentSetting"))&&!(0<$(e.target).closest(n).length||t===e.target.setting))return t.closePicker()},t.prototype._editResource=function(e){var t,n;if(n=window.open(e),void 0!==document.hidden)return t=function(){if(!document.hidden)return messenger.notify("reloadPreview"),setTimeout(function(){if(n.closed)return $(document).off("visibilitychange",t)},200)},$(document).on("visibilitychange",t)},t}(UI.Component)}.call(this),function(){var n,r,i,o,a,s,u,l,c=function(e,t){return function(){return e.apply(t,arguments)}},d=function(e,t){function n(){this.constructor=e}for(var r in t)f.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},f={}.hasOwnProperty;r="theme-editor--fullscreen",n="theme-editor--adding-section",a="theme-editor--pending-section",l="data-theme-id",i=3e5,o=600,u="saveAndPublishThemeModal",s="publishThemeModal",UI.ThemeEditor=function(e){function t(){return this._onKeyDown=c(this._onKeyDown,this),this._onSaveFail=c(this._onSaveFail,this),this._onSaveDone=c(this._onSaveDone,this),this.onUserAction=c(this.onUserAction,this),this.onFlashMessage=c(this.onFlashMessage,this),this.onDirtyTrackerChange=c(this.onDirtyTrackerChange,this),this.stylesheetReceived=c(this.stylesheetReceived,this),t.__super__.constructor.apply(this,arguments)}return d(t,e),t.prototype.actions={openModal:"openModal",closeModal:"closeModal",openSidebarOverlay:"openSidebarOverlay",overwriteSettingsVersionConflict:"overwriteSettingsVersionConflict",save:"save",refreshPage:"refreshPage",publishClick:"onPublishClick",saveAndPublishClick:"onSaveAndPublishClick",restoreSavedValues:"onRestoreSavedValues",undo:"onUndo",redo:"onRedo",openSectionPicker:"onOpenSectionPicker",closeSectionPicker:"onCloseSectionPicker",setViewportSize:"setViewportSize"},t.prototype.messengerEvents={flashMessage:"onFlashMessage",userAction:"onUserAction",colorUpdate:"throttledDirtyTrackerChange",globalColorUpdate:"debouncedGlobalColorUpdate",stylesheetReceived:"stylesheetReceived",refreshSection:"refreshSection"},t.prototype.stateEvents={selection:"onSelectionChange",pendingSection:"onPendingSectionChange",viewportSize:"onViewportSizeChange"},t.prototype.init=function(){var e,t,n,r;return this.editor=this,window.THEME_ID=this.$element.attr(l),this.generalSettings=new window.ThemeEditor.GeneralSettings(Shopify.themeSettings),this.contentForIndex=new window.ThemeEditor.ContentForIndex(Shopify.contentForIndex),this.sections=new window.ThemeEditor.Sections(Shopify.sections,this.contentForIndex),this.settingsContainers=[this.generalSettings,this.sections],this.dirtyTracker=new window.ThemeEditor.DirtyTracker(this.settingsContainers),this.colorTracker=new window.ThemeEditor.ColorTracker(this.generalSettings,this.sections),this.latestSettingsVersion=Shopify.latestSettingsVersion,t=function(e,t){return r.overrides.saveAndRenderSection(e,t)},(r=this).undoTracker=new window.ThemeEditor.UndoTracker(this.settingsContainers,t),this.overrides=new window.ThemeEditor.Overrides(this.settingsContainers,{previewLocation:this.previewLocation.bind(this)}),window.ThemeEditor.ActiveSettings.initialize(),window.Teaspoon||ThemeEditorAPI.initialize(),this.dirtyTracker.on("change",this.onDirtyTrackerChange),$(window).on("beforeunload",this.confirmLeavePage.bind(this)),document.addEventListener("keydown",this._onKeyDown),state.set("hasSections",Shopify.hasSections),state.set("loading",!0),n=this.getSessionViewportSize(),state.set("viewportSize",n),this.onViewportSizeChange(n),this.bindState("dirty"),this.bindState("viewportSize"),this.bindState("pendingSection"),this.bindState("loading"),this.bindState("saving"),this.bindState("refreshing"),this.bindState("publishing"),this.bindState("resource"),this.bindState("brokenMarkupDetected"),Shopify.PageDropZone.initialize(this.element),e=new UI.NamesAndIcons(this.sections,this.contentForIndex),$.extend(this,e.exports()),this.refreshPreviewAfterIdle(),this.throttledDirtyTrackerChange=_.throttle(this.onDirtyTrackerChange,2e3),this.debouncedGlobalColorUpdate=_.debounce(this.globalColorUpdate,250),this.activeFlashLocation="sidebar"},t.prototype.refreshPreviewAfterIdle=function(t){var n;if(null==t&&(t=i),void 0!==document.hidden)return n=null,$(document).on("visibilitychange",function(){var e;if(document.hidden)return n=Date.now();if(n){if(e=Date.now()-n,!(t<e))return;return messenger.notify("reloadPreview"),n=null}})},t.prototype.canCreateSection=function(){return this.sections.canCreateSection()},t.prototype.canShowAddSection=function(){return state.get("contentForIndex")&&Shopify.canShowAddRemoveSections},t.prototype.openModal=function(e,t){return UI.Modal["for"](e).show(t)},t.prototype.closeModal=function(e){return UI.Modal["for"](e).hide()},t.prototype.openSidebarOverlay=function(e,t){return UI.OverlayPanel.open(e,t)},t.prototype.setViewportSize=function(e){return state.set("viewportSize",e),this.setSessionViewportSize(e)},t.prototype.getSessionViewportSize=function(){try{return window.sessionStorage.getItem("themeEditorViewportSize")||"desktop"}catch(e){return"desktop"}},t.prototype.setSessionViewportSize=function(e){try{return window.sessionStorage.setItem("themeEditorViewportSize",e)}catch(t){}},t.prototype.stylesheetReceived=function(e){var t,n,r;if(n=e.url,r=e.value,!(t=SassResponseParser.parse(r)))return messenger.notify("stylesheetContent",{url:n,value:r});this.action("openModal","sass_error_modal",{fromSetting:state.get("dirty"),error:{themeID:t.theme_id,file:t.file,message:t.message},fileHref:"/admin/themes/"+t.theme_id+"?key="+t.file})},t.prototype.onDirtyTrackerChange=function(e,t){if(!(null!=t?t:{})["transient"])if(state.get("unsupportedTemplate"))this.overrides.save(this.reloadPreview);else switch(e.type){case"image":return this.overrides.save(this.reloadPreview);case"themeStyle":return this._saveAndRefreshSettings(e.changes.map(function(e){return e.id}));case"contentForIndex":return this.overrides.save(state.get("brokenMarkupDetected")?this.reloadPreview:void 0);default:return null!=e.section?this.overrides.saveAndRenderSection(e.section,this._renderSection):this._saveAndRefreshSettings([e.id])}},t.prototype._renderSection=function(e){var t,n,r,i;return i=e.section,t=e.html,n=e.json,r=e.position,i.setData(t,n),messenger.notify("renderSection",{id:i.id,html:t,json:n,position:r})},t.prototype.refreshSection=function(e){return this.overrides.saveAndRenderSection(this.sections.byId[e],this._renderSection)},t.prototype.globalColorUpdate=function(e){var t;if(t=window.ThemeEditor.ActiveSettings.cssFilesForFilteredColorSetting(e.key))return this.overrides.saveAndReloadCss(t)},t.prototype._saveAndRefreshSettings=function(e){var t,n;return(t=window.ThemeEditor.ActiveSettings.settingsChangeAction(e)).reloadPage?this.overrides.save(this.reloadPreview):(n=t.reloadCss)?this.overrides.saveAndReloadCss(n):this.overrides.save()},t.prototype.onRestoreSavedValues=function(){var e,t,n,r;for(this.overrides.abort(),e=0,t=(n=this.settingsContainers).length;e<t;e++)n[e].abort();return r=this.dirtyTracker.restoreSavedValues(),this._saveAndRefreshSettings(_.map(r,"id")),this.dirtyTracker.reset()},t.prototype.confirmLeavePage=function(){if(state.get("dirty")&&!this.suppressConfirmLeavePage)return Shopify._i18n.unsaved_changes},t.prototype.onFlashMessage=function(e){var t,n,r,i;return i=e.type,n=e.message,t=null!=(r=e.location)?r:"sidebar",matchMedia("screen and (max-width: "+o+"px)").matches&&(t="sidebar"),t===this.activeFlashLocation||(this.activeFlashLocation=t,this.refresh()),Shopify.Flash[i](n)},t.prototype.onUserAction=function(e){var t,n,r;return t=e.name,r=e.value,null!=(n=window._gaq)?n.push(["_trackEvent","Online Store Editor",t,r]):void 0},t.prototype.editorLocation=function(){return window.location},t.prototype.previewLocation=function(){return document.getElementById("theme-editor-iframe").contentWindow.location},t.prototype.reloadPreview=function(){return messenger.notify("reloadPreview")},t.prototype.onUndo=function(){if(this.undoTracker.hasUndo())return this.undoTracker.undo()},t.prototype.onRedo=function(){if(this.undoTracker.hasRedo())return this.undoTracker.redo()},t.prototype.onOpenSectionPicker=function(){return state.set("selection",{addingSection:!0})},t.prototype.onCloseSectionPicker=function(){return state.set("selection",null)},t.prototype.onSelectionChange=function(e){return this.$element.toggleClass(n,!!(null!=e?e.addingSection:void 0))},t.prototype.onPendingSectionChange=function(e){return this.$element.toggleClass(a,!!e)},t.prototype.onViewportSizeChange=function(e){var t;return this.$element.toggleClass(r,"fullscreen"===e),null!=(t=document.activeElement)&&"function"==typeof t.blur?t.blur():void 0},t.prototype._save=function(e){var t,n;return this.overrides.abort(),null!=(t=state.get("currentSetting"))&&t.closePicker(),null!=(n=this.saveXhr)&&n.abort(),state.set("saving",!0),messenger.notify("userAction",{name:"Action",value:"saved"}),this.saveXhr=Shopify.ajax({method:"PATCH",url:Shopify.routes.theme_editor_save(THEME_ID).html,data:this.data(e),dataType:"json"})},t.prototype.save=function(e){var t;return null==e&&(e=!1),e||(t=this.latestSettingsVersion),this._save(t).done(this._onSaveDone).fail(this._onSaveFail.bind(null,"save"))},t.prototype.refreshPage=function(){return this.suppressConfirmLeavePage=!0,state.set("refreshing",!0),window.location.reload()},t.prototype.onPublishClick=function(e){return e.preventDefault(),this.publish("publish")},t.prototype.onSaveAndPublishClick=function(e){return e.preventDefault(),this.saveAndPublish()},t.prototype.publish=function(e){var t;switch(state.set("publishing",!0),e){case"publish":t=$("#"+s).find('form[name="publishTheme"]');break;case"saveAndPublish":t=$("#"+u).find('form[name="publishTheme"]')}return Shopify.ajax({method:"POST",url:Shopify.routes.theme_publish(window.THEME_ID).html,data:t.serializeArray()}).done(function(){var e;return e=Shopify.UrlMangler.getURL(Shopify.routes.themes().html),Shopify.UrlMangler.addQuery(e,{published_theme_id:window.THEME_ID}),window.location.assign(e.toString())})},t.prototype.saveAndPublish=function(e){var t,n;return null==e&&(e=!1),e||(t=this.latestSettingsVersion),this._save(t).done((n=this,function(e){return n._onSaveDone(e,{suppressFlashMessage:!0,suppressReloadPreview:!0}),n.publish("saveAndPublish")})).fail(this._onSaveFail.bind(null,"saveAndPublish"))},t.prototype.data=function(e){var t,n,r,i,o;for(t=[],n=0,r=(i=this.settingsContainers).length;n<r;n++)o=i[n],t.push.apply(t,o.saveData());return e&&t.push({name:"theme[latest_settings_version]",value:e}),t},t.prototype.overwriteSettingsVersionConflict=function(e){var t;switch(t=e.origin,this.closeModal("settings_version_conflict"),t){case"save":return this.save(!0);case"saveAndPublish":return this.saveAndPublish(!0)}},t.prototype._onSaveDone=function(e,t){return this.saveXhr=null,this.undoTracker.reset(),this.dirtyTracker.reset(),t.suppressReloadPreview||this.reloadPreview(),t.suppressFlashMessage||messenger.notify("flashMessage",{type:"notice",message:Shopify._i18n.changes_saved,location:"preview"}),state.set("saving",!1),this.$element.find("input[type=file]").val(""),messenger.notify("userAction",{name:"Action",value:"saved/success"}),this.latestSettingsVersion=e.latest_settings_version},t.prototype._getSaveFailErrors=function(e,t){return null!=e.responseJSON?e.responseJSON.errors:null!=t&&""!==t?t:"Error communicating with server"},t.prototype._onSaveFail=function(e,t,n,r){var i;return state.set("saving",!1),this.saveXhr=null,(i=this._getSaveFailErrors(t,r)).settings_version_conflict?this.openModal("settings_version_conflict",{conflictOrigin:e}):(messenger.notify("flashMessage",{type:"error",message:i,location:"preview"}),messenger.notify("userAction",{name:"Action",value:"saved/fail"}))},t.prototype._onKeyDown=function(e){switch(e.which){case Shopify.Keycodes.ESCAPE:return this._onEscape(),e.preventDefault();case Shopify.Keycodes.S:if(!e.metaKey&&!e.ctrlKey||e.shiftKey||e.altKey)return;return this.dirtyTracker.isDirty()&&this.save(),e.preventDefault();case Shopify.Keycodes.Z:case Shopify.Keycodes.Y:if(!e.metaKey&&!e.ctrlKey||e.altKey)return;if(e.which===Shopify.Keycodes.Y&&e.shiftKey)return;return e.which===Shopify.Keycodes.Y||e.shiftKey?this.onRedo():($(e.target).trigger("change"),this.onUndo()),e.preventDefault()}},t.prototype._onEscape=function(){var e;return!UI.Modal.isVisible()&&((e=state.get("currentSetting"))?e.closePicker():UI.OverlayPanel.isVisible()?UI.OverlayPanel.close():state.set("selection",null))},t.prototype.bindState=function(t){return this[t]||(this[t]=state.get(t)),state.subscribe(t,(n=this,function(e){return n[t]=e,window.requestAnimationFrame?window.requestAnimationFrame(function(){return Twine.refreshImmediately()}):Twine.refresh()}));var n},t}(UI.Component)}.call(this),function(){var t,n,i=function(e,t){return function(){return e.apply(t,arguments)}};t="imageEditorModal",n=function(){var e;return null!==(e=document.querySelector("#"+t))&&e.classList.contains("ui-modal--is-visible")},$(document).keyup(function(e){if(e.keyCode===Shopify.Keycodes.ESCAPE)return n()?(e.stopImmediatePropagation(),void Shopify.rootDispatcher.dispatch({type:"EscapeImageEditor"})):(Shopify.Modal.hide(),Shopify.Dropdown.hide())}),Shopify.Modal=function(){function e(e,t){var n,r;this.node=e,this.options=null!=t?t:{},this.reverseFocusRestrict=i(this.reverseFocusRestrict,this),this.focusRestrict=i(this.focusRestrict,this),this.onAnimationEnd=i(this.onAnimationEnd,this),this.show=i(this.show,this),this.isFullscreen=!1,this.options.autoShow&&setTimeout(this.show,0),(r=this.$modalButton()).length&&(r.attr({role:"button",tabindex:0}),r.on("keydown",this.launchModal),(n=this.$container()).length&&n.attr({role:"dialog","aria-hidden":!0}))}var u,l,t,n,r,c,d,f;return r="modal_container",t="modal_backdrop",n="modal-button",l="animationend webkitAnimationEnd",f=!(c="reverseFocusRestrict"),d=function(){try{return document.activeElement}catch(e){return e,null}}(),u=null,e.currentModal=null,e.container=function(){return document.getElementById(r)},e.backdrop=function(){return document.getElementById(t)},e.button=function(){return document.getElementsByClassName(n)[0]},e.prototype.$container=function(){return $(this.constructor.container())},e.prototype.$backdrop=function(){return $(this.constructor.backdrop())},e.prototype.$modalButton=function(){return $(this.constructor.button())},e.hide=function(e){var t;if(null==e&&(e=!1),null!=(t=Shopify.Modal.currentModal)&&t.hide(),!e)return Shopify.UIModal.hide(!0)},e.onClickHide=function(e){return e.preventDefault(),Shopify.Modal.hide()},e.isActive=function(e){var t;return null==e&&(e=!1),t=null!=Shopify.Modal.currentModal,e||t||(t=Shopify.UIModal.isVisible(!0)),t},e.prototype.bindingsContext=function(){return Bindings.childContext(this.node)},e.prototype.show=function(e){var t,n,r,i,o,a,s;if(null==e&&(e={}),e.context||(e.context=this.bindingsContext()),d=document.activeElement,f=!0,t=this.$backdrop(),(r=this.$container()).length){if(e.keepOpen?Shopify.UIModal.hide(!0):Shopify.Modal.hide(),Shopify.Modal.currentModal=this,null!=e.content||!(a=this.node.href))return this.options.noscroll&&r.addClass("no-scroll"),this.options.move?r.append(this.node.children):(r.html(e.content||this.node.innerHTML),Bindings.bind(r[0],e.context).refreshImmediately()),r.one(l,this.onAnimationEnd),setTimeout(function(){return r.off(l,this.onAnimationEnd)},1e3),r.show(),e.keepOpen||r.addClass("modal-animate"),this.setSize(this.options.size),this.setHeight(this.options.height),r.on("click",".close-modal",this.constructor.onClickHide),t.addClass("visible"),$("#wrapper").addClass("hide-when-printing"),"function"==typeof e.onRender&&e.onRender(),s=(i=r.find("h1, h2, h3, h4, h5, h6").first()).attr("id")||"ModalTitle",i.attr("id",s),r.attr({"aria-hidden":!1,"aria-labelledby":s,tabindex:-1}),r.focus(),r.on("keydown."+c,this.reverseFocusRestrict),t.attr("tabindex",0),o=Shopify.Focusable.findAll(r[0]),u=$(o[0]),t.on("keydown",this.focusRestrict),(n=r.find("[class=close-modal]")).attr({role:"button","aria-label":"Close dialog"}),n.on("keydown",function(e){var t;if((t=e.which)===Shopify.Keycodes.ENTER||t===Shopify.Keycodes.SPACE)return e.preventDefault(),Shopify.Modal.hide()});this.fetchHTML(a,e)}},e.prototype.hide=function(e){var t,n,r;if(null==e&&(e={}),this.isShown())return t=this.$backdrop(),n=this.$container(),null!=(r=this.request)&&r.abort(),(this.isFullscreen=!1)!==e.trigger&&n.trigger("modal:close"),this.options.noscroll&&n.addClass("no-scroll"),this.options.move?$(this.node).append(n.children()):n[0]&&Bindings.unbind(n[0]),n.removeClass(function(e,t){return(t.match(/\b\S+-modal/g)||[]).join(" ")}),n.is(":visible")&&(n.attr("aria-hidden",!0),f=!1,null!=d&&d.focus()),n.off("keydown."+c),n.hide().empty().off(),t.removeClass("visible").off(),t.attr("tabindex",-1),$("#wrapper").removeClass("hide-when-printing"),Shopify.Modal.currentModal=null,this.options.move?$(this.node).trigger("modal:closed"):void 0},e.prototype.fetchHTML=function(e,n){var r,t;return null==n&&(n={}),Shopify.Loading.start(),this.request=$.ajax({dataType:"html",url:e,data:n.data}),this.request.done((r=this,function(e){var t;return r.request.getResponseHeader("X-Shopify-Login-Required")?(t=window.location.pathname.split("/admin/")[1],window.location.replace(Shopify.routes.auth_login({redirect:t}).html)):r.show({context:n.context,content:"<div>"+e+"</div>",onRender:n.onRender,keepOpen:n.keepOpen||!1})})),this.request.fail(n.onError||Shopify.handleError),this.request.always((t=this,function(){return t.request=null,Shopify.Loading.stop()}))},e.prototype.isShown=function(){return Shopify.Modal.currentModal===this},e.prototype.setSize=function(e){if(this.isShown())return e&&e.match(/^\b\S+$/)?this.$container().addClass(e+"-modal"):void 0},e.prototype.setHeight=function(e){if(null==e&&(e=300),this.isShown())return(e=Math.min(700,Math.max(100,e)))?this.$container().find(".modal-iframe").css("height",e):void 0},e.prototype.toggleFullscreen=function(){if(this.isShown())return this.$container().toggleClass("real-fullscreen-modal",!this.isFullscreen),this.isFullscreen=!this.isFullscreen},e.prototype.onClose=function(e){if(this.isShown())return this.$container().one("modal:close",e)},e.prototype.onAnimationEnd=function(){return this.$container().removeClass("modal-animate")},e.prototype.launchModal=function(e){var t;if(!f&&((t=e.which)===Shopify.Keycodes.ENTER||t===Shopify.Keycodes.SPACE))return e.preventDefault(),e.target.click()},e.prototype.focusRestrict=function(e){if(f&&e.which===Shopify.Keycodes.TAB)return e.stopPropagation(),this.$container().focus()},e.prototype.reverseFocusRestrict=function(e){return e.which===Shopify.Keycodes.SHIFT?e.stopPropagation():f&&e.shiftKey&&u.is(":focus")?(e.stopPropagation(),this.$backdrop().focus()):void 0},e}(),$(document).on("ready page:load modal:init",function(){if(Shopify.Modal.container())return Shopify.Modal.currentModal&&!Shopify.Modal.container().innerHTML.trim().length&&Shopify.Modal.hide(),Shopify.rootDispatcher.register(Shopify.UIModal.EVENTS.HIDE_ALL,function(){return Shopify.Modal.hide(!0)})})}.call(this),function(){var t=function(e,t){return function(){return e.apply(t,arguments)}},r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i={}.hasOwnProperty;Shopify.Confirm=function(e){function n(e){this.options=null!=e?e:{},this.show=t(this.show,this),n.__super__.constructor.call(this,null,this.options)}return r(n,e),n.prototype.message=function(){
return this.options.message||"If you leave this page, all unsaved changes will be lost. Are you sure you want to leave this page?"},n.prototype.accept_button_text=function(){return this.options.accept_text||"Leave page"},n.prototype.cancel_button_text=function(){return this.options.cancel_text||"Cancel"},n.prototype.header_text=function(){return this.options.header_text||"You have unsaved changes on this page"},n.prototype.content=function(){return"<header>\n  <h2>"+this.header_text()+'</h2>\n</header>\n\n<div class="body">\n  <p>'+this.message()+'</p>\n</div>\n\n<div class="buttons">\n  <a class="btn close-modal" data-no-turbolink="true">'+this.cancel_button_text()+'</a>\n  <a class="btn btn-destroy-no-hover accept-modal" data-no-turbolink="true">'+this.accept_button_text()+"</a>\n</div>"},n.prototype.link=function(){return this.options.link},n.prototype.show=function(e){var t;return null==e&&(e={}),t=$.Deferred(),e.content=this.content(),n.__super__.show.call(this,e),this.$container().on("click",".close-modal",t.reject),this.$container().on("click",".accept-modal",t.resolve),t.promise()},n}(Shopify.Modal)}.call(this);e(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=window.Twine,window.Bindings=null!=t["default"]?t["default"]:t}),e(function(){"use strict";var e=se(window.Messenger),t=se(window.State);$(function(){null==window.Teaspoon&&(window.state=new t["default"](Dt.ALLOWED_STATE_KEYS),window.messenger=new e["default"](Dt.ALLOWED_MESSENGER_KEYS),Twine.reset({}).bind().refreshImmediately())})})}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this);